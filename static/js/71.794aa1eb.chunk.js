(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[71],{1215:function(e,t,n){"use strict";n.r(t);var a=n(65),i=n.n(a),u=n(91),r=n(659),c=n(1),o=n.n(c),s=n(20),l=n(56),d=n(19),m=n(666),b=n(679),p=n(663),f=n(672),h=n(670),v=n(680),k=n.n(v),y=(n(754),n(844)),j=n(662),O=n(665),g=n(724);t.default=Object(s.i)((function(e){var t,n,a=Object(l.c)(),v=Object(s.g)(),x=Object(l.d)((function(e){return e.thereAreRequest})),w=Object(l.d)((function(e){return e.inboundFirstLoad})),E=Object(l.d)((function(e){return e.user.warehouseUuid})),U=Object(l.d)((function(e){return e.status})),N=Object(l.d)((function(e){return e.isLoading})),D=Object(l.d)((function(e){return e.inboundEntryData})),S=Object(l.d)((function(e){return e.warehouseArea})),L=Object(l.d)((function(e){return e.areaId})),I=Object(c.useState)(null),P=Object(r.a)(I,2),H=P[0],W=P[1],A=Object(c.useState)(),B=Object(r.a)(A,2),C=B[0],F=B[1],K=Object(j.u)({moduleEntry:C,moduleName:"inbound"}),M=Object(c.useState)(0),T=Object(r.a)(M,2),z=(T[0],T[1]),J=Object(c.useState)(),V=Object(r.a)(J,2),q=V[0],G=V[1];Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)({dispatch:a});case 2:return t=e.sent,e.next=5,Object(f.f)({dispatch:a,warehouseUuid:E});case 5:return e.sent,e.next=8,Object(p.k)({dispatch:a,moduleName:"inbound",isExist:!!D,ripeness:t});case 8:e.sent,z(K);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Q=document.documentElement.clientHeight,R=Q-400,X=Q-400;return o.a.createElement("div",{className:"w-100  stock-take-summary"},o.a.createElement(g.a,{moduleFirstLoad:w,moduleEntry:D,redirect:function(){return e.history.push("/inventory-entry/additional-inbound/weight-entry")},previousPage:function(){return v.goBack()}}),o.a.createElement(O.a,{status:U}),o.a.createElement("div",{className:"px-3 pt-3 bg-white border-all radius-all d-md-flex dd-group"},o.a.createElement("div",{className:"col-lg-3 px-0 stock-take-dropdown"},o.a.createElement(m.a,{show:!0,title:"Select Area",placeholder:"Select Area",options:S,onChangeDropdown:function(e){return Object(j.v)({selected:e,dispatch:a})},selectedValue:L,showTitle:!0}))),o.a.createElement("div",{className:"pt-3 pb-0 pl-3 pr-3 bg-white mt-3 border-all radius-all mb-3"},o.a.createElement("div",{className:"d-md-flex d-lg-flex mb-3 justify-content-between"},o.a.createElement("div",{className:"text LatoBold d-flex justify-content-between align-items-center sku-des"},o.a.createElement("div",null,"Enter SKU or Description"," ",o.a.createElement("span",{className:"green"},"(".concat(K," Selected SKU").concat(K>1?"s":"",")"))))),o.a.createElement(b.a,{placeholder:"Enter SKU",filter:!1,searchHandler:function(e){return L?Object(p.g)({dispatch:a,desc:e,warehouseUuid:E,areaId:L,setModule:W,module:C},G(e)):Object(j.v)({dispatch:a,selected:"empty"})}}),o.a.createElement("div",{className:"mb-3 mt-3 d-flex align-items-center scroll-sku ".concat((null===H||void 0===H?void 0:H.length)?"flex-column":"flex-row"," w-100 text-center"),style:{minHeight:R,maxHeight:R}},(null===H||void 0===H?void 0:H.length)?null===H||void 0===H?void 0:H.map((function(e,t){return o.a.createElement(h.a,{key:t,img:null===e||void 0===e?void 0:e.photo,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:"weight",uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,isCheckedHandler:function(e){return Object(y.b)({idx:t,checked:e,dispatch:a,setLocalEntryData:F,moduleSummary:H,moduleEntry:C,moduleName:"inbound",warehouseUuid:E,areaId:L})},check:null===e||void 0===e?void 0:e.checked})})):o.a.createElement("div",{className:"w-100 text-center emptyTextField d-flex flex-column align-items-center justify-content-center",style:{minHeight:X,maxHeight:X}},Object(j.t)({isLoading:N,summary:H})?L&&0===(null===H||void 0===H?void 0:H.length)?o.a.createElement("div",null,"Sorry, we couldn't find any matches for '",o.a.createElement("span",{className:"LatoBold"},q),"' in ",null===L||void 0===L?void 0:L.label," area.",o.a.createElement("br",null),"Please Try search with another term."):"Enter SKU":o.a.createElement("img",{className:"loading",src:k.a,alt:"loading"})))),o.a.createElement("div",{className:"h-screen-summary-footer d-flex flex-column justify-content-start"},o.a.createElement("div",{className:"w-100 d-flex align-items-center justify-content-between mb-1"},o.a.createElement("button",{onClick:function(){return e.history.push("/inventory-entry/additional-inbound-upload")},type:"button",className:"btn px-4 no-shadow border-all bg-white fontSizeButton"},"Upload File"),o.a.createElement("button",{onClick:function(){var t,n;0===x&&C&&(null===C||void 0===C||null===(t=C.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)>0&&(a({type:d.b,inboundEntryData:C}),e.history.push("/inventory-entry/additional-inbound/weight-entry"))},type:"button",className:"btn px-5 fontSizeButton no-shadow text-white ".concat(0===x&&C&&(null===C||void 0===C||null===(t=C.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)>0?"bg-green":"bg-lineGrey")},"Next"))))}))},754:function(e,t,n){},844:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));n(4);var a=n(65),i=n.n(a),u=n(71),r=n(664),c=n(91),o=n(22),s=n.n(o),l=n(19),d=n(663),m=n(672),b=n(116),p=n(662),f=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,o,f,h,v,k,y,j,O,g,x,w,E,U,N,D,S,L;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idx,o=t.checked,f=t.dispatch,h=t.setLocalEntryData,v=t.moduleName,k=t.moduleSummary,y=t.moduleEntry,j=t.warehouseUuid,O=t.areaId,(g=Object(r.a)(k))[a].checked=o,f(Object(u.a)({type:l.c},"".concat(v,"summaryData"),g)),x=null===g||void 0===g?void 0:g.filter((function(e){if(e.checked)return e})),w=[],y&&y.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&w.push(t.skuUuid)})),E=[],U=x.map(function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,u,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(m.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(d.f)({skuId:t.skuUuid,warehouseUuid:j,dispatch:f,areaId:O.value,moduleName:v});case 8:(u=e.sent)&&(r=u.map((function(e){e.itemList=[];var n=e.expiryDate?s()(e.expiryDate).valueOf():null,a=e.inboundDate?s()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.initialWeight=Object(b.e)(e.initialWeight)?Object(b.e)(e.initialWeight):e.initialWeight,e})),t.poList=r,E.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(U);case 11:e.sent,N=[],y&&(N=y.jobPost.list.concat(E)),y||(N=E),(D=g[a]).checked||(N=N.filter((function(e){return e.skuUuid!==D.skuUuid}))),S=null===y||void 0===y||null===(n=y.jobPost)||void 0===n?void 0:n.id,L={jobPost:{id:S||0,warehouseSource:j,warehouseDestination:j,areaSource:parseInt(null===O||void 0===O?void 0:O.value),areaName:null===O||void 0===O?void 0:O.label,areaDestination:parseInt(null===O||void 0===O?void 0:O.value),list:N.sort((function(e,t){return Object(p.g)(e,t)}))}},0===N.length&&f(Object(u.a)({type:l.b},"".concat(v,"EntryData"),null)),h(L);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,u,o,l,p,f,h,v,k,y,j,O,g,x,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idx,a=t.checked,u=t.dispatch,o=t.moduleName,l=t.moduleSummary,p=t.moduleEntry,f=t.warehouseUuid,h=t.areaId,v=t.preAddHandler,(k=Object(r.a)(l))[n].checked=a,y=null===k||void 0===k?void 0:k.filter((function(e){if(e.checked)return e})),j=[],p&&p.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&j.push(t.skuUuid)})),O=[],g=y.map(function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(m.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(d.f)({skuId:t.skuUuid,warehouseUuid:f,dispatch:u,areaId:h.value,moduleName:o});case 8:(r=e.sent)&&(c=r.map((function(e){e.itemList=[];var n=e.expiryDate?s()(e.expiryDate).valueOf():null,a=e.inboundDate?s()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.initialWeight=Object(b.e)(e.initialWeight)?Object(b.e)(e.initialWeight):e.initialWeight,e})),t.poList=c,O.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(g);case 10:e.sent,x=[],p&&(x=p.concat(O)),p||(x=O),(w=k[n]).checked||(x=x.filter((function(e){return e.skuUuid!==w.skuUuid}))),v(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=71.794aa1eb.chunk.js.map