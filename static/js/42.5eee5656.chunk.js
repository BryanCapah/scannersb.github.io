(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[42],{1169:function(e,t,n){},1170:function(e,t,n){},1226:function(e,t,n){"use strict";n.r(t);var a=n(653),i=n(1),o=n.n(i),s=n(20),r=n(56),c=n(166),l=(n(1169),n(656)),d=n(114),u=function(e){var t=e.isNewItem,n=e.img,a=e.skuDescription,i=e.skuNumber,s=e.activeSku,r=e.uomValue,c=e.idx,u=e.uom,m=e.onClick,p=e.data,f=Object(l.k)({data:p}),v=Object(l.c)(p);return o.a.createElement("div",{className:"w-100 sku-item softGreen pl-2 pr-2 pt-2 mb-3 cursor-pointer rounded ".concat(f?"soft-green":null," ").concat(s===c?"border-green":v?"border-red":"border")},o.a.createElement("div",{className:" w-100 d-flex justify-content-end"},o.a.createElement("div",{className:t?"green-dot":"dot"})),o.a.createElement("div",{onKeyDown:function(e){return Object(d.g)({e:e,idx:c,onClick:m})},onClick:function(){return m()},className:"w-100 softGreen d-flex justify-content-between pl-2 pr-2 mb-3 cursor-pointer ".concat(f?"soft-green":null)},o.a.createElement("div",{className:"d-flex align-items-center w-100"},o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("img",{src:n,alt:"sku image",className:"w-5 mr-3 border softGreen rounded"})),o.a.createElement("div",{className:"w-100"},o.a.createElement("div",{className:"mr-3 w-100 d-flex"},o.a.createElement("div",{className:"mr-3 text LatoBold fontSizeTitle"},a)),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"text"},i),s,o.a.createElement("div",{className:"green LatoBold"},r," ",o.a.createElement("span",null,"".concat(u?u.toUpperCase():"").concat(r>1?"s":""))))))))},m=n(704),p=n.n(m),f=n(657),v=n(655),b=function(e){var t,n,s=e.hideSKUList,l=e.setActiveSKU,d=e.activeSku,m=e.moduleEntry,b=e.moduleName,y=e.setUpdateEntry,g=m.jobPost.list.length,E=document.documentElement.clientWidth,h=document.documentElement.clientHeight;h-=212;var N=Object(i.useState)(!1),j=Object(a.a)(N,2),x=j[0],w=j[1],k=Object(r.c)(),L=Object(r.d)((function(e){return e.thereAreRequest}));return o.a.createElement("div",{className:"".concat(s?"w-0":"w-30","  mt-md-0 rounded-bottom rounded-top")},o.a.createElement("div",{style:{padding:17},className:"w-100 bg-white border-top border-left border-right rounded-top border-soft-green text d-flex align-items-center justify-content-between",onClick:function(){return E<=500?w(!x):null}},o.a.createElement("div",{className:"LatoBold"}," Selected SKU ",o.a.createElement("span",{className:"font-green"},"(".concat(g," SKU").concat(g>1?"s":"",")"))),o.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o.a.createElement(v.M,{content:"Click to refresh the stock",placement:E<=500?"left":"right"},o.a.createElement("div",null,o.a.createElement("img",{className:"".concat(L>0&&"fa-spin-hover"," mt-1 pointer"),src:p.a,onClick:function(){return Object(f.v)({moduleEntry:m,moduleName:b,dispatch:k,setUpdateEntry:y})}}))),o.a.createElement(c.b,{tabIndex:"0",className:"sku-item",to:"/inventory-entry/stock-transfer/weight-entry/remove-sku"},o.a.createElement("div",{className:"fontSizeTitle px-3 emptyTextField iconU-remove"})),o.a.createElement(c.b,{tabIndex:"0",className:"sku-item",to:"/inventory-entry/stock-transfer/weight-entry/add-sku"},o.a.createElement("div",{className:"fontSizeTitle emptyTextField text-bold iconU-entryAdd"})))),o.a.createElement("div",{style:{height:!(E<=500)&&h,maxHeight:h},className:" overflow-y w-100 bg-white mr-0 border rounded-bottom border-soft-green pl-3 pr-0 pt-3 ".concat(x?"d-none":null)},null===m||void 0===m||null===(t=m.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.map((function(e,t){return o.a.createElement(u,{isNewItem:null===e||void 0===e?void 0:e.isNewItem,data:e,idx:t,activeSku:d,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:null===e||void 0===e?void 0:e.unitOfMeassures,uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,img:null===e||void 0===e?void 0:e.photo,onClick:function(){return l(t)}})}))))},y=n(70),g=n(697),E=n.n(g),h=n(696),N=n(688),j=function(e){var t=e.entryListIdx,n=e.wmsPoSkuInfoId,a=e.gradeList,s=e.ripeness,c=e.inputWidth,l=e.showTitle,d=e.item,u=e.onChange,m=e.uom,p=e.poListIdx,f=e.category,v=Object(r.d)((function(e){return e.ripenessLevel})),b=Object(r.d)((function(e){return e.areaMovement}));return Object(i.useEffect)((function(){var e=v.findIndex((function(e){return"waste"===e.value})),t=v.findIndex((function(e){return"semi_waste"===e.value}));-1===e&&3===(null===b||void 0===b?void 0:b.value)&&v.push({label:"Waste",value:"waste"}),-1===t&&3===(null===b||void 0===b?void 0:b.value)&&v.push({label:"Semi Waste",value:"semi_waste"})}),[]),"Fruits"!==f&&v.filter((function(e){return"waste"===(null===e||void 0===e?void 0:e.value)||"semi_waste"===(null===e||void 0===e?void 0:e.value)})),"Fruits"===f&&v,8===(null===b||void 0===b?void 0:b.value)&&(null===a||void 0===a?void 0:a.filter((function(e){return"Waste"===e.label||"Semi Waste"===e.label}))),o.a.createElement("div",{className:"d-flex w-100 we-m"},o.a.createElement(h.a,{isEmpty:d.qtyIsEmpty,poListIdx:p,entryListIdx:t,wmsPoSkuInfoId:n,uom:m,ripeness:s,inputWidth:c,values:null===d||void 0===d?void 0:d.qty,title:"Input Weight",showTitle:l,onChange:function(e){return u(e)}}),o.a.createElement(N.a,{isEmpty:d.qtyIsEmpty,poListIdx:p,entryListIdx:t,wmsPoSkuInfoId:n,uom:m,ripeness:s,inputWidth:c,values:null===d||void 0===d?void 0:d.qty,title:"Input Quantity",showTitle:l,onChange:function(e){return u(e)}}))},x=(n(1170),n(4)),w=n(19),k=function(e){var t=e.dispatch,n=e.moduleEntry,a=e.moduleName,i=e.activeSku,o=e.poListIdx,s=Object(x.a)({},n);s.jobPost.list[i].poList[o].itemList.push({qty:"",expiryDate:s.jobPost.list[i].poList[o].expiryDate}),t(Object(y.a)({type:w.b},"".concat(a,"EntryData"),s))},L=function(e){var t,n=e.inputWidth,a=e.activeSku,i=e.poListIdx,s=e.poItem,c=e.moduleEntry,u=e.moduleName,m=e.gradeList,p=Object(r.c)(),f=s.expiryDate,v=s.inboundDate,b=s.initialWeight,g=s.inboundQty,h=s.initialWeightUpdate,N=s.initialWeightScreenUpdate,L=(s.poUuid,s.skuUuid,s.supplierId,s.supplierName),I=s.uom,O=s.ripeness,S=(s.ripenessLevel,s.edited),D=s.wmsPoSkuCode,U=s.category,C=s.codeGrade,P=s.isHidden,q=(isNaN(h),isNaN(N)?b:N),W="kg"===I||"gram"===I?"Weight":"Quantity",T=c.jobPost.list[a].gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===C})),B=c.jobPost.areaName;return o.a.createElement("div",{id:"sku_item_".concat(a,"_").concat(i),tabIndex:"0",className:"".concat(P?"d-none":null," z-0 d-flex flex-column sku-item justify-content-between w-100 mb-3 align-items-center border rounded border-soft-green ").concat(S?"soft-green":null)},o.a.createElement("div",{className:"w-100 border-soft-green mt-3 d-flex align-items-start px-3"},o.a.createElement("div",{className:"d-flex align-items-center LatoBold pr-3"},"".concat(i+1,".")),o.a.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center LatoBold cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Date",o.a.createElement("span",{className:"ml-2 font-green"},v?Object(d.b)({date:v}):"-"))),o.a.createElement("div",{className:"d-flex align-items-center mb-3"},"Initial ".concat(W),o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(b," ").concat(null===I||void 0===I?void 0:I.toUpperCase()).concat(b>1?"s":""))))),o.a.createElement("div",{className:"w-100 border-soft-green d-flex align-items-start px-3"},o.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(i+1,".")),o.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"PO Code",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(D||"-"))),o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Supplier Name",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(L)))))),o.a.createElement("div",{className:"w-100 border-bottom border-soft-green mb-3 d-flex align-items-start px-3"},o.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(i+1,".")),o.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Expiry Date",o.a.createElement("span",{className:"ml-2 font-green"},f?Object(d.b)({date:f,noTime:!0}):"-")),o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-3 ".concat("Waste"===B||"Semi Waste"===B?null:"d-none")},"Grade",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(T.length?T[0].label:"-"))),o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Quantity",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(g||"-")))))),o.a.createElement("div",{className:"d-flex flex-column justify-content-between w-100 align-items-center px-3 z-0"},null===(t=s.itemList)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between"},o.a.createElement("div",{className:"w-100 d-flex"},o.a.createElement("div",{style:{width:"10px"},className:"input-height d-flex align-items-center mb-3 mr-3 pt-4 mt-2"},"".concat(t+1,".")),o.a.createElement("div",{className:"w-100"},o.a.createElement(j,{category:U,entryListIdx:t,wmsPoSkuInfoId:e.wmsPoSkuInfoId,showTitle:!0,gradeList:m,onChange:function(e){return function(e){var t,n,a=e.dispatch,i=e.moduleEntry,o=e.moduleName,s=e.activeSku,r=e.poListIdx,c=e.entryListIdx,d=e.e,u=null===d||void 0===d||null===(t=d.target)||void 0===t?void 0:t.name,m=null===d||void 0===d||null===(n=d.target)||void 0===n?void 0:n.value,p=Object(x.a)({},i);if(p.jobPost.list[s].isNewItem=!1,"weight"===u||"weightToCompare"===u){if(console.clear(),!0===/^[0-9\.\x0]+$/.test(m)&&""!==m){var f=0,v=null===m||void 0===m?void 0:m.split("."),b=v[0];b>=0&&(b=parseInt(b));var g=v[1];if(null!==g&&void 0!==g)if(g.length>2){var E=g.slice(0,2);f="".concat(b,".").concat(E)}else f="".concat(b,".").concat(g);else f=parseInt(b);"weight"===u&&(p.jobPost.list[s].poList[r].itemList[c].qty=f,p.jobPost.list[s].poList[r].itemList[c].qtyIsEmpty=!1),"weightToCompare"===u&&(p.jobPost.list[s].poList[r].itemList[c].qtyToCompare=f,p.jobPost.list[s].poList[r].itemList[c].qtyToCompareIsEmpty=!1)}else"weight"===u&&(p.jobPost.list[s].poList[r].itemList[c].qty=""),"weightToCompare"===u&&(p.jobPost.list[s].poList[r].itemList[c].qtyToCompare="")}else if("qty"===u){if(!1===/^[0-9.]+$/.test(m)&&""!==m)return;p.jobPost.list[s].poList[r].itemList[c].qty=m?parseInt(m):m,p.jobPost.list[s].poList[r].itemList[c].qtyIsEmpty=!1}else"note"===u&&(p.jobPost.list[s].poList[r].itemList[c].note=m,p.jobPost.list[s].poList[r].itemList[c].noteIsEmpty=!1);var h=p.jobPost.list[s].poList[r].inboundQty,N=h;p.jobPost.list[s].poList[r].edited=!1,p.jobPost.list[s].poList[r].minus=!1,p.jobPost.list[s].poList[r].itemList.map((function(e){e.qty&&(p.jobPost.list[s].poList[r].edited=!0),N-=isNaN(e.qty)?0:e.qty,p.jobPost.list[s].poList[r].initialWeightUpdate=N,N<0?(p.jobPost.list[s].poList[r].minus=!1,p.jobPost.list[s].poList[r].initialWeightUpdate=0):p.jobPost.list[s].poList[r].itemList.filter((function(e){return e.qtyIsEmpty=!1}))}));var j=p.jobPost.list[s].poList[r].initialWeight;p.jobPost.list[s].poList[r].itemList.map((function(e){j-=isNaN(e.qty)?0:e.qty,p.jobPost.list[s].poList[r].initialWeightScreenUpdate=j}));var k=Object(l.y)({moduleList:p.jobPost.list[s].poList[r].itemList});p.jobPost.list[s].poList[r].initialWeightOver=k>h?k:0,a(Object(y.a)({type:w.b},"".concat(o,"EntryData"),p))}({dispatch:p,moduleEntry:c,moduleName:u,activeSku:a,poListIdx:i,entryListIdx:t,e:e})},uom:I,ripeness:O,inputWidth:n,item:e,className:O?null:"d-none",poListIdx:i}))),o.a.createElement("div",{className:"d-flex w-25 align-items-center justify-content-end input-height mb-0 p-0"},o.a.createElement("img",{src:E.a,alt:"delete icon",className:"w-1 cursor-pointer",onClick:function(e){return Object(l.e)({dispatch:p,moduleEntry:c,moduleName:u,activeSku:a,poListIdx:i,entryListIdx:t,e:e,countQty:l.d})}})))}))),o.a.createElement("div",{onKeyDown:function(e){return 13===e.keyCode&&k({dispatch:p,moduleEntry:c,moduleName:u,activeSku:a,poListIdx:i})},className:"w-100 ml-5 pl-4 font-green mb-3 LatoBold cursor-pointer ",onClick:function(){return k({dispatch:p,moduleEntry:c,moduleName:u,activeSku:a,poListIdx:i})}},o.a.createElement("i",{className:"green iconU-entryAdd pr-2"}),"Add ".concat(W," (").concat(Object(d.e)(q)?Object(d.e)(q):q," ").concat(I?I.toUpperCase():"").concat(q>1?"s":""," left)")))},I=n(774),O=n(669),S=n(703),D=n(742),U=n(686),C=n(707),P=n(671),q=function(e){var t,n,a,i=e.setActiveSKU,s=e.hideSKUList,c=e.setHideSKUList,l=e.activeSku,d=e.moduleEntry,u=e.moduleName,m=e.updateEntry,p=e.setUpdateEntry,v=Object(r.c)(),b=Object(P.d)(),g=b.height,E=b.heightAdj,h=b.dimention,N=Object(P.m)({moduleEntry:d,activeSku:l}),j=N.setIsSuccess,x=N.status,w=N.confirmation,k=N.setConfirmation,q=N.discard,W=N.setDiscard,T=N.isSaved,B=N.setIsSaved,K=N.action,A=N.setAction,R=N.isRequired,H=N.setIsRequired,M=N.hideContent,_=N.setHideContent,z=N.isLoading,Q=N.skuName,F=N.skuNumber,G=N.poList,J=N.gradeList,V=N.unitOfMeassures,$=N.totalWeight,X=N.edited,Y=N.postInfo,Z=N.areaMovement,ee=h<=500,te=M?"d-none":null,ne=$>1?"s":"",ae=X?"bg-green":"bg-lineGrey";return o.a.createElement("div",{style:{paddingLeft:ee?0:10},className:"w-100 h-100 mt-3 mt-md-0"},o.a.createElement(U.a,{discard:q,module:"Inventory Entry - Stock Movement",moduleEntry:d,close:function(){return W(!1)},discardEntry:function(e){return Object(f.o)({id:e,moduleName:u,dispatch:v})}}),o.a.createElement(S.a,{updateEntry:m,setUpdateEntry:p,status:x,moduleEntry:d,submit:function(){var e;return v((e={type:"CREATE_JOB_SHEET"},Object(y.a)(e,"".concat(u,"EntryData"),null),Object(y.a)(e,"".concat(u,"SummaryData"),null),e))},confirmation:w,setConfirmation:k,isSaved:T,action:K,setIsSaved:B,moduleName:u,totalSku:null===d||void 0===d||null===(t=d.jobPost)||void 0===t?void 0:t.list.length}),o.a.createElement(D.a,{isRequired:R,module:d,setIsRequired:H,moduleName:u,totalSku:null===d||void 0===d||null===(n=d.jobPost)||void 0===n?void 0:n.list.length}),o.a.createElement(O.b,{moduleName:u,noSkuChecking:!0,isLoading:z,moduleEntry:d,confirmation:w,setConfirmation:k,isSuccess:Y,setAction:A,action:K,save:function(){return Object(f.q)({name:"save",moduleEntry:d,moduleName:u,dispatch:v,setIsSuccess:j})},submit:function(){return Object(f.q)({name:"submit",moduleEntry:d,moduleName:u,dispatch:v,setIsSuccess:j,submitValidation:I.c,setActiveSKU:i})}}),o.a.createElement("div",{className:"mb-3 bg-white rounded-bottom rounded-top"},o.a.createElement("div",(a={style:{height:g}},Object(y.a)(a,"style",{padding:10}),Object(y.a)(a,"className","w-100 mr-0 d-flex align-items-center border-top border-left border-right border-bottom rounded-top border-soft-green"),a),o.a.createElement("div",{className:"d-flex w-100 m-0 p-0",onClick:function(){return ee?_(!M):null}},o.a.createElement("div",{className:"".concat(s?"iconU-sideBarHideRight":"iconU-sideBarHideLeft"," emptyTextField fontSizeTitle mr-3"),onClick:function(){return c(!s)}}),o.a.createElement("div",{className:"mr-3 pr-1 d-flex align-items-center m-0 p-0 LatoBold"},"Weight Entry"),o.a.createElement("div",{className:"mr-3 iconU-sideBarDot d-flex align-items-center"}),o.a.createElement("div",{className:"mr-3 d-flex align-items-center font-green LatoBold"},"".concat(Q," (").concat(F,")"))),o.a.createElement(C.a,{moduleEntry:d,moduleName:u,activeSku:l,dispatch:v})),o.a.createElement("div",{style:{height:ee?g:E,minHeight:ee?g:E},className:"w-100 overflow-y mr-0 border-left border-right border-soft-green pl-3 pr-2 pt-3 ".concat(te)},null===G||void 0===G?void 0:G.map((function(e,t){var n;return o.a.createElement(L,(n={activeSku:l,gradeList:J,inputWidth:"input-w-100"},Object(y.a)(n,"activeSku",l),Object(y.a)(n,"poListIdx",t),Object(y.a)(n,"poItem",e),Object(y.a)(n,"moduleEntry",d),Object(y.a)(n,"moduleName",u),n))}))),o.a.createElement("div",{className:"w-100 d-flex align-items-center p-3 border-left border-right border-bottom rounded-bottom LatoBold"},o.a.createElement("button",{tabIndex:"0",type:"button",className:"btn sku-item ".concat(ae,"  text-white px-5 mr-3 LatoBold"),onClick:function(){return X?k({show:!0,name:"save"}):null}},"Save"),o.a.createElement("div",null,"Total Weight ",o.a.createElement("span",{className:"font-green"},"".concat($," ").concat(null===V||void 0===V?void 0:V.toUpperCase()).concat(ne))))),o.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},o.a.createElement("div",{tabIndex:"0",onClick:function(){return W(!0)},className:"red pr-3 sku-item fontSizeButton cursor-pointer"},o.a.createElement("i",{className:"iconU-entryTrash"})," Discard"),o.a.createElement("button",{tabIndex:"0",onClick:function(){return X?Object(I.c)({setActiveSKU:i,moduleEntry:d,moduleName:u,dispatch:v,setConfirmation:k,setIsRequired:H,areaMovement:Z}):null},className:"btn sku-item px-5 py-2 text-white ".concat(ae," LatoBold no-shadow"),style:{height:"fit-content !important"}},"Submit")))};t.default=function(){var e=Object(r.d)((function(e){return e.stockTransferEntryData})),t=Object(i.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],d=Object(i.useState)(0),u=Object(a.a)(d,2),m=u[0],p=u[1],f=Object(i.useState)(),v=Object(a.a)(f,2),y=v[0],g=v[1],E=document.documentElement.clientHeight,h=document.documentElement.clientWidth,N=E-150;return e&&0!==(null===e||void 0===e?void 0:e.jobPost.list.length)?o.a.createElement("div",{style:{height:h<=500?E:N},className:"w-100 d-md-flex justify-content-between scroll-y z-0"},o.a.createElement(b,{hideSKUList:c,activeSku:m,setActiveSKU:p,moduleName:"stockTransfer",moduleEntry:e,setUpdateEntry:g}),o.a.createElement(q,{setActiveSKU:p,setHideSKUList:l,hideSKUList:c,moduleName:"stockTransfer",moduleEntry:e,activeSku:m,setUpdateEntry:g,updateEntry:y})):o.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100 h-screen"},o.a.createElement(s.a,{to:"/inventory-entry/stock-transfer"},"Please Select At Least 1 SKU"))}},687:function(e,t,n){},688:function(e,t,n){"use strict";var a=n(1),i=n.n(a);t.a=function(e){var t=e.isEmpty,n=e.entryListIdx,a=e.poListIdx,o=(e.wmsPoSkuInfoId,e.uom),s=e.inputWidth,r=e.values,c=e.onChange,l=e.showTitle,d=(e.grade,e.title),u=e.name,m="gram"!==o&&"kg"!==o;return i.a.createElement("div",{className:" ".concat(s," mb-3 mr-3 ").concat(m?null:"d-none")},i.a.createElement("div",{className:" pb-1 LatoBold ".concat(l?null:"d-none")},d),i.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},i.a.createElement("input",{id:"qty_".concat(a,"_").concat(n),maxLength:"10",autoComplete:"off",type:"text",className:"w-100 plain-input",value:r,name:u||"qty",onChange:function(e){return c(e)}}),i.a.createElement("div",{className:"font-soft-grey"},o?o.toUpperCase():"")))}},704:function(e,t,n){e.exports=n.p+"static/media/refreshIcon.20a8ff95.svg"},705:function(e,t,n){e.exports=n.p+"static/media/asc.9b60817e.svg"},706:function(e,t,n){e.exports=n.p+"static/media/desc.bec03077.svg"},707:function(e,t,n){"use strict";var a=n(653),i=n(1),o=n.n(i),s=n(114),r=n(711),c=(n(709),n(710),n(687),n(4));var l=function(e){var t=e.showDate,n=e.selectDate,s=e.setShowDate;document.documentElement.clientWidth;var l=Object(i.useState)({startDate:new Date,endDate:new Date,key:"selection"}),d=Object(a.a)(l,2),u=d[0],m=d[1],p=Object(i.useState)(new Date),f=Object(a.a)(p,2),v=f[0],b=f[1],y=Object(i.useState)(),g=Object(a.a)(y,2),E=g[0],h=g[1],N=E?"text":"bg-green text-white",j=E?"bg-green text-white":"text",x=Object(i.useRef)(null);!function(e){var t=e.wrapperRef,n=e.showDate,a=e.setShowDate,o=e.selectDate;Object(i.useEffect)((function(){function e(e){n&&t.current&&!t.current.contains(e.target)&&(a(!n),o())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n])}({wrapperRef:x,showDate:t,setShowDate:s,selectDate:n}),Object(i.useEffect)((function(){m({startDate:new Date,endDate:new Date,key:"selection"}),b(new Date)}),[E]);return o.a.createElement("div",{ref:x,style:{width:"350px"},className:" mt-5 position-fixed bg-white border border-soft-green rounded z-100 d-flex flex-column justify-content-center ".concat(t?null:"d-none")},o.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},o.a.createElement("div",{className:" border border-soft-green d-flex rounded justify-content-between w-100 cursor-pointer"},o.a.createElement("span",{onClick:function(){return h(!E)},className:" ".concat(N," w-50  ").concat(E?"rounded-left":"rounded"," text-center p-2")},"Single Date"),o.a.createElement("span",{onClick:function(){return h(!E)},className:" ".concat(j," w-50 ").concat(E?"rounded":"rounded-right"," text-center p-2")},"Ranged Date"))),o.a.createElement(r.DateRangePicker,{className:E?null:"d-none",ranges:[u],onChange:function(e){return function(e){var t=e.newdate,n=e.dateRange,a=e.setDateRange,i=Object(c.a)({},n);i.startDate=t.selection.startDate,i.endDate=t.selection.endDate,a(i)}({newdate:e,dateRange:u,setDateRange:m})}}),o.a.createElement(r.Calendar,{className:E?"d-none":null,date:v,onChange:function(e){return b(e)}}),o.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},o.a.createElement("span",{onClick:function(){t&&(n(E?u:v),s())},className:" bg-green text-white w-100 border border-soft-green rounded text-center p-2"},"Confirm")))},d=n(705),u=n.n(d),m=n(706),p=n.n(m);t.a=function(e){var t,n,r=e.moduleEntry,c=e.moduleName,d=e.activeSku,m=e.dispatch,f=Object(i.useState)(),v=Object(a.a)(f,2),b=v[0],y=v[1],g=Object(i.useState)(),E=Object(a.a)(g,2),h=E[0],N=E[1],j=Object(i.useState)(),x=Object(a.a)(j,2),w=x[0],k=x[1],L=Object(i.useState)(),I=Object(a.a)(L,2),O=I[0],S=I[1],D=document.documentElement.clientWidth;return(null===(t=n=Object(s.a)({date:h,datePicker:!0}))||void 0===t?void 0:t.startDate)&&(n="".concat(n.startDate," - ").concat(n.endDate)),Object(i.useEffect)((function(){Object(s.h)({moduleEntry:r,moduleName:c,activeSku:d,dispatch:m,sortBy:b})}),[b,d]),Object(i.useEffect)((function(e){w||Object(s.d)({moduleEntry:r,moduleName:c,activeSku:d,dispatch:m,date:h})}),[h,w,d]),Object(i.useEffect)((function(e){y(),N()}),[O,d]),o.a.createElement("div",{className:"w-25 d-flex justify-content-end"},o.a.createElement("div",{style:{height:40},className:"".concat("repack"===c?"d-none":null," border-soft-green border-top border-bottom border-left m-0 rounded-left green h6 d-flex align-items-center justify-content-center px-2 text-nowrap ").concat(D>500&&h?null:"d-none")},n),o.a.createElement("div",{style:{height:40,minWidth:40},className:"".concat(h?"iconU-modalClose red":"iconU-filterDate emptyTextField"," border-soft-green border ").concat(h?"rounded-right":"rounded"," ").concat("repack"===c?"d-none":null," d-flex align-items-center justify-content-center mr-3 cursor-pointer"),onClick:function(){return h?S((function(e){return!e})):k((function(e){return!e}))}}),o.a.createElement(l,{showDate:w,selectDate:function(e){return N(e)},setShowDate:function(e){return k(e)}}),o.a.createElement("img",{style:{height:40,minWidth:40},src:b?p.a:u.a,onClick:function(){return y(!b)},className:"p-2 border rounded border-soft-green cursor-pointer"}))}},774:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return g}));var a=n(4),i=n(65),o=n.n(i),s=n(70),r=n(658),c=n(89),l=n(22),d=n.n(l),u=n(19),m=n(657),p=n(666),f=n(114),v=n(656),b=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,l,b,y,g,E,h,N,j,x,w,k,L,I,O,S,D,U,C;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idx,i=t.checked,l=t.dispatch,b=t.setLocalEntryData,y=t.moduleName,g=t.moduleSummary,E=t.moduleEntry,h=t.warehouseUuid,N=t.warehouseIdDestination,j=t.areaId,x=t.areaIdDesposition,(w=Object(r.a)(g))[a].checked=i,l(Object(s.a)({type:u.c},"".concat(y,"summaryData"),w)),k=null===w||void 0===w?void 0:w.filter((function(e){if(e.checked)return e})),L=[],E&&E.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&L.push(t.skuUuid)})),I=[],O=k.map(function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:h,dispatch:l,areaId:j.value,moduleName:y});case 8:(i=e.sent)&&(s=i.map((function(e){e.itemList=[];var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Object(f.e)(e.initialWeight)?Object(f.e)(e.initialWeight):e.initialWeight,e})),t.poList=s,I.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(O);case 11:e.sent,S=[],E&&(S=E.jobPost.list.concat(I)),E||(S=I),(D=w[a]).checked||(S=S.filter((function(e){return e.skuUuid!==D.skuUuid}))),U=null===E||void 0===E||null===(n=E.jobPost)||void 0===n?void 0:n.id,C={jobPost:{id:U||0,warehouseSource:h,warehouseDestination:null===N||void 0===N?void 0:N.value,warehouseDestinationName:null===N||void 0===N?void 0:N.label,areaSource:parseInt(null===j||void 0===j?void 0:j.value),areaName:null===j||void 0===j?void 0:j.label,areaDestination:parseInt(null===x||void 0===x?void 0:x.value),areaDestinationName:null===x||void 0===x?void 0:x.label,list:S.sort((function(e,t){return Object(v.g)(e,t)}))}},0===S.length&&l(Object(s.a)({type:u.b},"".concat(y,"EntryData"),null)),b(C);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,s,l,u,v,b,y,g,E,h,N,j,x,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idx,a=t.checked,i=t.dispatch,s=t.moduleName,l=t.moduleSummary,u=t.moduleEntry,v=t.warehouseUuid,b=t.areaId,y=t.preAddHandler,(g=Object(r.a)(l))[n].checked=a,E=null===g||void 0===g?void 0:g.filter((function(e){if(e.checked)return e})),h=[],u&&u.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&h.push(t.skuUuid)})),N=[],j=E.map(function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:v,dispatch:i,areaId:b.value,moduleName:s});case 8:(r=e.sent)&&(c=r.map((function(e){e.itemList=[];var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.initialWeight=Object(f.e)(e.initialWeight)?Object(f.e)(e.initialWeight):e.initialWeight,e})),t.poList=c,t.isNewItem=!0,N.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(j);case 10:e.sent,x=[],u&&(x=u.concat(N)),u||(x=N),(w=g[n]).checked||(x=x.filter((function(e){return e.skuUuid!==w.skuUuid}))),y(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.setActiveSKU,n=e.moduleEntry,i=e.moduleName,o=e.setConfirmation,r=e.dispatch,c=e.setIsRequired,l=[],d=Object(a.a)({},n),m=n.jobPost.list.map((function(e){return e.poList.map((function(e){var t=Object(v.y)({moduleList:e.itemList});return e.itemList.map((function(n){var a=n.qty,i=n.grade;n.ripeness,n.note;return"kg"===e.uom?0!=a&&!isNaN(a)||null!==(null===i||void 0===i?void 0:i.value)?isNaN(a)||0==a||""===a||null===a?n.qtyIsEmpty=!0:n.qtyIsEmpty=!1:(n.qtyIsEmpty=!1,n.gradeIsEmpty=!1,n.ripenessIsEmpty=!1,n.noteIsEmpty=!1):isNaN(a)||0==a||""===a||null===a?n.qtyIsEmpty=!0:n.qtyIsEmpty=!1,n.qtyIsEmpty||(Number(t)>Number(e.initialWeight)?n.qtyIsEmpty=!0:n.qtyIsEmpty=!1),(null===n||void 0===n?void 0:n.qtyIsEmpty)||(null===n||void 0===n?void 0:n.gradeIsEmpty)||(null===n||void 0===n?void 0:n.ripenessIsEmpty)||(null===n||void 0===n?void 0:n.noteIsEmpty)?l.push(!1):l.push(!0),n})),e})),e})),p=!1;m.map((function(e){e.poList.map((function(e){e.itemList.map((function(e){e.qty&&(p=!0)}))}))})),d.jobPost.list=m,r(Object(s.a)({type:u.b},"".concat(i,"EntryData"),d)),!l.includes(!1)&&p?"function"===typeof o&&o({show:!0,name:"submit"}):("function"===typeof o&&o({show:!1,name:null}),"function"===typeof c&&c(!0)),Object(v.b)({setActiveSKU:t,moduleEntry:n,moduleName:i})}}}]);
//# sourceMappingURL=42.5eee5656.chunk.js.map