{"version":3,"sources":["Page/StockEntry/GeneralServices/index.js","assets/icons/loading/LOADING-MLS-GRAY.gif","Page/StockEntry/Repacking/services.js"],"names":["useDimension","hValue","wValue","dimention","document","documentElement","clientHeight","width","clientWidth","height","emptyItem","isMobile","useEntryDimention","showTargetRepack","heightAdj","loading","useStockTake","dispatch","zeroQuantity","useSelector","state","thereAreRequest","moduleFirstLoad","stockTakeFirstLoad","warehouseUuid","user","status","isLoading","stockTakeEntryData","useState","summary","setSummary","localEntryData","setLocalEntryData","search","setSearch","area","setArea","label","value","areaId","setAreaId","discard","setDiscard","useEffect","a","getRipenessLevel","ripeness","getWarehouseArea","areaList","getUnfinishedEntries","moduleName","isExist","getData","useStockTakeEntry","moduleEntry","activeSku","success","name","isSuccess","setIsSuccess","show","confirmation","setConfirmation","isSaved","setIsSaved","action","setAction","isRequired","setIsRequired","hideContent","setHideContent","allowPage","setAllowPage","jobPost","list","skuName","skuNumber","poList","gradeList","totalQty","unitOfMeassures","totalWeight","totalWeightCount","edited","jobSheetChecker","postInfo","useStockMovement","stockMovementFirstLoad","stockMovementDropdown","areaIdDesposition","areaMovement","stockMovementEntryData","wasteReasonList","isCheckedBefore","setIsCheckedBefore","areaMatched","setAreaMatched","isCheckedTotal","selectedSkuCheck","added","entryIsReady","length","stockMovementTargetRepack","getWasteReason","_","getStockTakeSummary","desc","setModule","module","useStockMovementEntry","useStockTransferEntry","useWaste","wasteFirstLoad","wasteEntryData","getWasteWarehouseArea","useWasteEntry","useAdditionalOutbound","outboundFirstLoad","outboundEntryData","warehouseArea","outboundAddSku","next","setNext","useAdditionalOutboundEntry","outboundTypeList","useRepacking","repackFirstLoad","repackEntryData","targetRepack","areaDestinationId","setAreaDestinationId","aId","filter","adId","setTargetRepack","type","IS_LOADING","useRepackingEntry","invalidThreshold","setInvalidThreshold","activeTab","setActiveTab","totalPack","totalPackCount","useSingleView","category","createPo","setCreatePo","singleViewData","setSingleViewData","fromBarcode","setFromBarcode","moveAll","setMoveAll","updateList","props","props2","setTimeout","singleView","useScanner","showScanner","setShowScanner","showSkuList","setShowSkuList","useTargetRepack","targetRepacks","slotList","slot","setSlot","tgtRpck","table","filterTargetRepack","setShowTargetRepack","totalEmptyThreshold","countThresholdIsEmpty","data","updateTargetRepack","useTargetMovement","targetMovements","useOutside","wrapperRef","setShow","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","exports","selectSku","idx","checked","moduleSummary","moduleSummaryNew","GET_STOCK_TAKE_ACTION","selectedData","ldata","jsSelector","map","jsList","skuUuid","push","jsD","sI","includes","getGradeRepacking","skuId","grade","getPORepacking","warehouseId","uom","addPoItem","itemList","expiryMs","inBoundyMs","expiryDate","inboundDate","packSize","initialWeight","Number","isInteger","parseInt","parseFloat","Promise","all","newJs","concat","uncheckedSku","id","jobSheet","warehouseSource","warehouseDestination","areaSource","areaName","areaDestination","areaDestinationName","sort","b","filterBySkuName","CREATE_JOB_SHEET","console","log","preAddSku","preAddHandler","isFloat","isNewItem","submitValidation","setActiveSKU","isClear","js","jsR","description","originalUom","po","qtyCount","totalListItemWeightCount","moduleList","item","qty","pack","note","isNaN","qtyIsEmpty","gradeIsEmpty","noteIsEmpty","ratio","grd","multiplier","standardWeight","toLowerCase","inputWeight","packThresholdIsEmpty","packThreshold","packIsEmpty","qtyToCompareIsEmpty","slotIsEmpty","valid","checkIsSkuRequired","number","ls","listIndex","poListIdx","entryListIdx","excess"],"mappings":"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","file":"static/js/0.2a2962d3.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useSelector } from \"react-redux\";\r\nimport { getUnfinishedEntries, getWasteWarehouseArea, getStockTakeSummary } from \"apiServices\";\r\nimport { getWarehouseArea, getRipenessLevel, getWasteReason } from \"apiServices/dropdown\";\r\nimport { IS_LOADING } from 'apiServices/action'\r\nimport { jobSheetChecker, totalWeightCount, selectedSkuCheck, totalPackCount, filterTargetRepack, updateTargetRepack, setTargetRepack } from 'Page/StockEntry/GeneralServices/moduleServices'\r\nimport loading from \"assets/icons/loading/LOADING-MLS-GRAY.gif\";\r\nimport { countThresholdIsEmpty } from '../Repacking/services';\r\n//dimension\r\nexport const useDimension = (hValue, wValue) => {\r\n  const dimention = document.documentElement.clientHeight\r\n  const width = document.documentElement.clientWidth\r\n  const height = dimention - (hValue ? hValue : 0)\r\n  const emptyItem = dimention - (hValue ? hValue : 0)\r\n  const isMobile = width <= 500 ? true : false\r\n  return { dimention, height, emptyItem, width, isMobile }\r\n}\r\n\r\nexport const useEntryDimention = (showTargetRepack) => {\r\n  const dimention = document.documentElement.clientWidth\r\n  let height = document.documentElement.clientHeight\r\n  let heightAdj = height - (showTargetRepack ? 535 : 290)\r\n  height = dimention <= 500 ? (showTargetRepack ? (heightAdj + 100) : heightAdj) : height\r\n\r\n  return { height, heightAdj, dimention, loading }\r\n}\r\n\r\n// Stock Take\r\nexport const useStockTake = ({ dispatch }) => {\r\n  const moduleName = 'stockTake'\r\n  const zeroQuantity = useSelector(state => state.zeroQuantity)\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.stockTakeFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const stockTakeEntryData = useSelector((state) => state.stockTakeEntryData);\r\n\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [search, setSearch] = useState()\r\n  const [area, setArea] = useState()\r\n  const [areaId, setAreaId] = useState({ label: \"Storage Ambient\", value: 1 })\r\n  const [discard, setDiscard] = useState()\r\n\r\n  // use Effect\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const areaList = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      setArea(areaList)\r\n     getUnfinishedEntries({ dispatch, moduleName, isExist: stockTakeEntryData ? true : false, ripeness })\r\n    }\r\n    getData()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n  }, [areaId])\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    status,\r\n    isLoading,\r\n    stockTakeEntryData,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    search,\r\n    setSearch,\r\n    area,\r\n    setArea,\r\n    areaId,\r\n    setAreaId,\r\n    discard,\r\n    setDiscard,\r\n    zeroQuantity\r\n  }\r\n}\r\n\r\n// Stock Take Entry\r\nexport const useStockTakeEntry = ({ moduleEntry, activeSku }) => {\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/stock-take/weight-entry',\r\n    '/inventory-entry/stock-take/weight-entry/remove-sku',\r\n    '/inventory-entry/stock-take/weight-entry/add-sku',\r\n  ])\r\n\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const status = useSelector(state => state.status)\r\n  const { skuName, skuNumber, poList, gradeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n\r\n  return {\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    isLoading,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    gradeList,\r\n    totalQty,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    status\r\n  }\r\n}\r\n\r\n// Stock Movement\r\nexport const useStockMovement = ({ dispatch }) => {\r\n  const moduleName = 'stockMovement'\r\n\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.stockMovementFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const stockMovementDropdown = useSelector(state => state.stockMovementDropdown)\r\n  const areaId = useSelector(state => state.areaId)\r\n  const areaIdDesposition = useSelector(state => state.areaIdDesposition)\r\n  const areaMovement = useSelector(state => state.areaMovement)\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const stockMovementEntryData = useSelector((state) => state.stockMovementEntryData);\r\n  const wasteReasonList = useSelector(state => state.wasteReasonList)\r\n\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [isCheckedBefore, setIsCheckedBefore] = useState(0)\r\n  const [search, setSearch] = useState('')\r\n  const [area, setArea] = useState()\r\n  const [areaMatched, setAreaMatched] = useState()\r\n  const [discard, setDiscard] = useState()\r\n\r\n  const isCheckedTotal = selectedSkuCheck({ moduleEntry: localEntryData, moduleName });\r\n  const added = isCheckedBefore !== isCheckedTotal && isCheckedTotal > 0 ? true : false\r\n  // const entryIsReady = localEntryData && localEntryData?.jobPost?.list?.length > 0 ? true : false\r\n  const entryIsReady = localEntryData && localEntryData?.jobPost?.list?.length > 0 ? true : false\r\n\r\n\r\n  const stockMovementTargetRepack = useSelector(state => state.stockMovementTargetRepack)\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const areaList = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      setArea(areaList)\r\n      const c = await getUnfinishedEntries({ dispatch, moduleName, isExist: stockMovementEntryData ? true : false, ripeness })\r\n      if (!wasteReasonList?.length) {\r\n        getWasteReason({ dispatch })\r\n      }\r\n      setIsCheckedBefore(isCheckedTotal)\r\n    }\r\n    getData()\r\n  }, []);\r\n\r\n  useEffect(_ => {\r\n    if (areaId?.value && areaIdDesposition?.value && areaId?.value !== areaIdDesposition?.value) setAreaMatched(true)\r\n    else setAreaMatched(false)\r\n  }, [areaId, areaIdDesposition, added])\r\n\r\n  useEffect(() => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n  }, [areaId, areaIdDesposition])\r\n\r\n  useEffect(_ => {\r\n    if (stockMovementTargetRepack) {\r\n      const isMatchedDropdown = areaId?.value && areaIdDesposition?.value && areaId?.value !== areaIdDesposition?.value\r\n      if (isMatchedDropdown) {\r\n        setSummary()\r\n        getStockTakeSummary({\r\n          moduleName,\r\n          stockMovementTargetRepack,\r\n          dispatch,\r\n          desc: search,\r\n          warehouseUuid,\r\n          areaId,\r\n          areaIdDesposition,\r\n          setModule: setSummary,\r\n          module: localEntryData\r\n        })\r\n        setSearch(search)\r\n      }\r\n    }\r\n    if (!stockMovementTargetRepack) setSummary()\r\n  }, [stockMovementTargetRepack])\r\n\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    stockMovementDropdown,\r\n    areaId,\r\n    areaIdDesposition,\r\n    areaMovement,\r\n    status,\r\n    isLoading,\r\n    stockMovementEntryData,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    isCheckedBefore,\r\n    setIsCheckedBefore,\r\n    search,\r\n    setSearch,\r\n    area, setArea,\r\n    areaMatched, setAreaMatched,\r\n    discard,\r\n    setDiscard,\r\n    isCheckedTotal,\r\n    added,\r\n    entryIsReady,\r\n    stockMovementTargetRepack\r\n  }\r\n}\r\n\r\n// Stock Movement Entry\r\nexport const useStockMovementEntry = ({ moduleEntry, activeSku }) => {\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const status = useSelector(state => state.status)\r\n  const areaMovement = useSelector(state => state.areaMovement)\r\n  const { skuName, skuNumber, poList, gradeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/movement/weight-entry',\r\n    '/inventory-entry/movement/weight-entry/remove-sku',\r\n    '/inventory-entry/movement/weight-entry/add-sku',\r\n  ])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  return {\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    isLoading,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    gradeList,\r\n    totalQty,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    areaMovement,\r\n    status\r\n  }\r\n}\r\n\r\n// Stock Transfer\r\nexport const useStockTransfer = ({ dispatch }) => {\r\n  const moduleName = 'stockTransfer'\r\n\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.stockTransferFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const stockTransferDropdown = useSelector(state => state.stockTransferDropdown)\r\n  const areaId = useSelector(state => state.areaId)\r\n  const areaIdDesposition = useSelector(state => state.areaIdDesposition)\r\n  const areaMovement = useSelector(state => state.areaMovement)\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const stockTransferEntryData = useSelector((state) => state.stockTransferEntryData);\r\n\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [isCheckedBefore, setIsCheckedBefore] = useState(0)\r\n  const [search, setSearch] = useState()\r\n  const [area, setArea] = useState()\r\n  const [areaMatched, setAreaMatched] = useState()\r\n  const [discard, setDiscard] = useState()\r\n\r\n  const isCheckedTotal = selectedSkuCheck({ moduleEntry: localEntryData, moduleName });\r\n  const added = isCheckedBefore !== isCheckedTotal && isCheckedTotal > 0 ? true : false\r\n  const entryIsReady = localEntryData && localEntryData?.jobPost?.list?.length > 0 ? true : false\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const areaList = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      setArea(areaList)\r\n      const c = await getUnfinishedEntries({ dispatch, moduleName, isExist: stockTransferEntryData ? true : false, ripeness })\r\n      setIsCheckedBefore(isCheckedTotal)\r\n    }\r\n    getData()\r\n  }, []);\r\n\r\n  useEffect(_ => {\r\n    if (areaId?.value && areaIdDesposition?.value && areaId?.value !== areaIdDesposition?.value) setAreaMatched(true)\r\n    else setAreaMatched(false)\r\n  }, [areaId, areaIdDesposition, added])\r\n\r\n  useEffect(() => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n  }, [areaId, areaIdDesposition])\r\n\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    stockTransferDropdown,\r\n    areaId,\r\n    areaIdDesposition,\r\n    areaMovement,\r\n    status,\r\n    isLoading,\r\n    stockTransferEntryData,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    isCheckedBefore,\r\n    setIsCheckedBefore,\r\n    search,\r\n    setSearch,\r\n    area, setArea,\r\n    areaMatched, setAreaMatched,\r\n    discard,\r\n    setDiscard,\r\n    isCheckedTotal,\r\n    added,\r\n    entryIsReady\r\n  }\r\n}\r\n\r\n// Stock Transfer Entry\r\nexport const useStockTransferEntry = ({ moduleEntry, activeSku }) => {\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const areaMovement = useSelector(state => state.areaMovement)\r\n  const { skuName, skuNumber, poList, gradeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/stock-transfer/weight-entry',\r\n    '/inventory-entry/stock-transfer/weight-entry/remove-sku',\r\n    '/inventory-entry/stock-transfer/weight-entry/add-sku',\r\n  ])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  return {\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    isLoading,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    gradeList,\r\n    totalQty,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    areaMovement,\r\n    status\r\n  }\r\n}\r\n\r\n\r\n// Waste\r\nexport const useWaste = ({ dispatch }) => {\r\n  const moduleName = 'waste'\r\n\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.wasteFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const wasteEntryData = useSelector((state) => state.wasteEntryData);\r\n\r\n  const [areaId, setAreaId] = useState()\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [isCheckedBefore, setIsCheckedBefore] = useState(0)\r\n  const [search, setSearch] = useState()\r\n  const [discard, setDiscard] = useState()\r\n\r\n  const isCheckedTotal = selectedSkuCheck({ moduleEntry: localEntryData, moduleName });\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const b = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      const areaId = await getWasteWarehouseArea({ warehouseUuid, setAreaId })\r\n      const c = await getUnfinishedEntries({ dispatch, moduleName, isExist: wasteEntryData ? true : false, ripeness })\r\n      setIsCheckedBefore(isCheckedTotal)\r\n    }\r\n    getData()\r\n  }, []);\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    status,\r\n    isLoading,\r\n    wasteEntryData,\r\n    areaId,\r\n    setAreaId,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    isCheckedBefore,\r\n    setIsCheckedBefore,\r\n    search,\r\n    setSearch,\r\n    discard,\r\n    setDiscard,\r\n    isCheckedTotal\r\n  }\r\n}\r\n\r\n// Waste Entry\r\nexport const useWasteEntry = ({ moduleEntry, activeSku }) => {\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const status = useSelector(state => state.status)\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/waste/weight-entry',\r\n    '/inventory-entry/waste/weight-entry/remove-sku',\r\n    '/inventory-entry/waste/weight-entry/add-sku',\r\n  ])\r\n\r\n  const { skuName, skuNumber, poList, gradeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n\r\n\r\n  return {\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    isLoading,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    gradeList,\r\n    totalQty,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    status\r\n  }\r\n}\r\n\r\n// Additional Outbound\r\nexport const useAdditionalOutbound = ({ dispatch }) => {\r\n  const moduleName = 'outbound'\r\n\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.outboundFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const outboundEntryData = useSelector((state) => state.outboundEntryData);\r\n  const warehouseArea = useSelector(state => state.warehouseArea);\r\n  const outboundAddSku = useSelector(state => state.outboundAddSku)\r\n\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [isCheckedBefore, setIsCheckedBefore] = useState(0)\r\n  const [next, setNext] = useState(false)\r\n  const [area, setArea] = useState()\r\n  const [areaId, setAreaId] = useState()\r\n  const [search, setSearch] = useState()\r\n  const [discard, setDiscard] = useState()\r\n\r\n  const isCheckedTotal = selectedSkuCheck({ moduleEntry: localEntryData, moduleName });\r\n  const added = isCheckedBefore !== isCheckedTotal && isCheckedTotal > 0 ? true : false\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const areaList = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      setArea(areaList)\r\n      const c = await getUnfinishedEntries({ dispatch, moduleName, isExist: outboundEntryData ? true : false })\r\n      setIsCheckedBefore(isCheckedTotal)\r\n    }\r\n    getData()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n  }, [areaId])\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    status,\r\n    isLoading,\r\n    outboundEntryData,\r\n    warehouseArea,\r\n    outboundAddSku,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    isCheckedBefore,\r\n    setIsCheckedBefore,\r\n    next,\r\n    setNext,\r\n    area,\r\n    setArea,\r\n    areaId,\r\n    setAreaId,\r\n    search,\r\n    setSearch,\r\n    discard,\r\n    setDiscard,\r\n    isCheckedTotal,\r\n    added\r\n  }\r\n}\r\n\r\n// Additional Outbound Entry\r\nexport const useAdditionalOutboundEntry = ({ moduleEntry, activeSku }) => {\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const status = useSelector(state => state.status)\r\n  const { skuName, skuNumber, poList, outboundTypeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/additional-outbound/weight-entry',\r\n    '/inventory-entry/additional-outbound/remove-sku',\r\n    '/inventory-entry/additional-outbound/add-sku',\r\n  ])\r\n\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n\r\n  return {\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    isLoading,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    totalQty,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    outboundTypeList,\r\n    status\r\n  }\r\n}\r\n\r\n// Repacking\r\nexport const useRepacking = ({ dispatch }) => {\r\n  const moduleName = 'repack'\r\n\r\n  const thereAreRequest = useSelector(state => state.thereAreRequest);\r\n  const moduleFirstLoad = useSelector(state => state.repackFirstLoad)\r\n  const warehouseUuid = useSelector((state) => state.user.warehouseUuid);\r\n  const status = useSelector((state) => state.status);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const repackEntryData = useSelector((state) => state.repackEntryData);\r\n  const warehouseArea = useSelector(state => state.warehouseArea);\r\n  const targetRepack = useSelector(state => state.targetRepack)\r\n\r\n  const [summary, setSummary] = useState(null)\r\n  const [localEntryData, setLocalEntryData] = useState()\r\n  const [isCheckedBefore, setIsCheckedBefore] = useState(0)\r\n  const [search, setSearch] = useState('')\r\n  const [area, setArea] = useState()\r\n  const [areaId, setAreaId] = useState()\r\n  const [areaDestinationId, setAreaDestinationId] = useState()\r\n  const [discard, setDiscard] = useState()\r\n\r\n  const isCheckedTotal = selectedSkuCheck({ moduleEntry: localEntryData, moduleName });\r\n  const added = isCheckedBefore !== isCheckedTotal && isCheckedTotal > 0 ? true : false\r\n\r\n  const setTargetRepack = (value) => {\r\n    dispatch({ type: IS_LOADING, targetRepack: value })\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const ripeness = await getRipenessLevel({ dispatch })\r\n      const areaList = await getWarehouseArea({ dispatch, warehouseUuid })\r\n      setArea(areaList)\r\n      const aId = areaList?.filter(area => area.label === 'Production')\r\n      const adId = areaList?.filter(area => area.label === 'Staging')\r\n      if (aId?.length) setAreaId(aId[0])\r\n      if (adId?.length) setAreaDestinationId(adId[0])\r\n      const c = await getUnfinishedEntries({ dispatch, moduleName, isExist: repackEntryData ? true : false, ripeness })\r\n      setIsCheckedBefore(isCheckedTotal)\r\n    }\r\n    getData()\r\n  }, []);\r\n  useEffect(() => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n  }, [areaId])\r\n\r\n  useEffect(_ => {\r\n    if (targetRepack) {\r\n      setSummary()\r\n      if (areaId) getStockTakeSummary({\r\n        moduleName,\r\n        targetRepack,\r\n        dispatch,\r\n        desc: '',\r\n        warehouseUuid,\r\n        areaId,\r\n        areaIdDesposition: areaDestinationId,\r\n        setModule: setSummary,\r\n        module: localEntryData\r\n      })\r\n    }\r\n    if (!targetRepack) setSummary()\r\n  }, [targetRepack, areaId])\r\n\r\n  return {\r\n    moduleName,\r\n    thereAreRequest,\r\n    moduleFirstLoad,\r\n    warehouseUuid,\r\n    status,\r\n    isLoading,\r\n    repackEntryData,\r\n    warehouseArea,\r\n    summary,\r\n    setSummary,\r\n    localEntryData,\r\n    setLocalEntryData,\r\n    isCheckedBefore,\r\n    setIsCheckedBefore,\r\n    search,\r\n    setSearch,\r\n    area,\r\n    setArea,\r\n    areaId,\r\n    setAreaId,\r\n    areaDestinationId,\r\n    setAreaDestinationId,\r\n    discard,\r\n    setDiscard,\r\n    isCheckedTotal,\r\n    added,\r\n    targetRepack,\r\n    setTargetRepack\r\n  }\r\n}\r\n\r\n// Repacking Entry\r\nexport const useRepackingEntry = ({ moduleEntry, activeSku }) => {\r\n  const isLoading = useSelector(state => state.isLoading)\r\n  const status = useSelector(state => state.status)\r\n  const [invalidThreshold, setInvalidThreshold] = useState()\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: null })\r\n  const [discard, setDiscard] = useState(false)\r\n  const [isSaved, setIsSaved] = useState()\r\n  const [action, setAction] = useState()\r\n  const [isRequired, setIsRequired] = useState(false)\r\n  const [hideContent, setHideContent] = useState(false)\r\n  const [allowPage, setAllowPage] = useState([\r\n    '/inventory-entry/repacking/weight-entry',\r\n    '/inventory-entry/repacking/weight-entry/remove-sku',\r\n    '/inventory-entry/repacking/weight-entry/add-sku',\r\n  ])\r\n\r\n  //filter item by active slot\r\n  const [activeTab, setActiveTab] = useState(0)\r\n\r\n  const { skuName, skuNumber, poList, gradeList, totalQty, unitOfMeassures } = moduleEntry.jobPost.list[activeSku]\r\n  const totalWeight = totalWeightCount({ moduleEntry, activeSku })\r\n  const totalPack = totalPackCount({ moduleEntry, activeSku })\r\n  const edited = jobSheetChecker({ moduleEntry })\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n\r\n  return {\r\n    isLoading,\r\n    invalidThreshold,\r\n    setInvalidThreshold,\r\n    isSuccess,\r\n    setIsSuccess,\r\n    confirmation,\r\n    setConfirmation,\r\n    discard,\r\n    setDiscard,\r\n    isSaved,\r\n    setIsSaved,\r\n    action,\r\n    setAction,\r\n    isRequired,\r\n    setIsRequired,\r\n    hideContent,\r\n    setHideContent,\r\n    allowPage,\r\n    setAllowPage,\r\n    unitOfMeassures,\r\n    totalWeight,\r\n    edited,\r\n    postInfo,\r\n    skuName,\r\n    skuNumber,\r\n    poList,\r\n    gradeList,\r\n    totalQty,\r\n    totalPack,\r\n    status,\r\n    activeTab,\r\n    setActiveTab\r\n  }\r\n}\r\n\r\n// Single view\r\nexport const useSingleView = ({ category, dispatch, setLocalEntryData, setSummary, setSearch, getStockTakeSummary, search, warehouseUuid, areaId, localEntryData, moduleName, stockMovementTargetRepack }) => {\r\n\r\n  //submit\r\n  const [action, setAction] = useState()\r\n  const [confirmation, setConfirmation] = useState({ show: false, name: 'submit' })\r\n  const [isSuccess, setIsSuccess] = useState({ success: false, name: null })\r\n  const [isSaved, setIsSaved] = useState()\r\n\r\n  // create po single view\r\n  const [createPo, setCreatePo] = useState()\r\n  const [singleViewData, setSingleViewData] = useState()\r\n  const [fromBarcode, setFromBarcode] = useState()\r\n\r\n\r\n  //condition move all\r\n  const [moveAll, setMoveAll] = useState()\r\n\r\n  useEffect(() => {\r\n    if (isSuccess.status === 500) {\r\n      setIsSaved(false)\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n    }\r\n    else if (isSuccess.status === 200) {\r\n      setConfirmation({ show: false, name: confirmation.name })\r\n      setIsSaved(true)\r\n    }\r\n\r\n  }, [isSuccess])\r\n\r\n  useEffect(() => {\r\n    if (!isSaved) setIsSuccess({ success: false, name: null })\r\n  }, [isSaved])\r\n  const postInfo = isSuccess.success && isSuccess.status ? true : false\r\n\r\n  // end of submit\r\n\r\n  //singleview\r\n  const updateList = (props, props2, moduleName) => {\r\n    setLocalEntryData()\r\n    setSummary()\r\n    if (search === 'barcode') return\r\n\r\n    dispatch({ type: IS_LOADING, isLoading: true })\r\n    setTimeout(() => {\r\n      getStockTakeSummary({\r\n        category,\r\n        moduleName,\r\n        stockMovementTargetRepack: props2,\r\n        zeroQuantity: props,\r\n        singleView: true,\r\n        dispatch,\r\n        desc: search,\r\n        warehouseUuid,\r\n        areaId,\r\n        setModule: setSummary,\r\n        module: localEntryData\r\n      },\r\n        setSearch(search))\r\n    }, 10);\r\n  }\r\n\r\n  return { fromBarcode, setFromBarcode, updateList, action, setAction, confirmation, setConfirmation, isSuccess, setIsSuccess, isSaved, setIsSaved, createPo, setCreatePo, singleViewData, setSingleViewData, postInfo, moveAll, setMoveAll }\r\n}\r\n\r\n// Scanner\r\nexport const useScanner = () => {\r\n  const [showScanner, setShowScanner] = useState()\r\n  const [showSkuList, setShowSkuList] = useState()\r\n  return { showScanner, setShowScanner, showSkuList, setShowSkuList }\r\n}\r\n\r\nexport const useTargetRepack = ({ moduleEntry, activeSku, dispatch, moduleName }) => {\r\n  const targetRepacks = useSelector(state => state.targetRepacks)\r\n  const slotList = useSelector(state => state.slotList)\r\n\r\n  const [slot, setSlot] = useState()\r\n\r\n  const { gradeList } = moduleEntry?.jobPost?.list[activeSku]\r\n  const tgtRpck = moduleEntry?.jobPost?.list[activeSku]?.poList[0]?.targetRepacks || []\r\n  const table = filterTargetRepack(tgtRpck, gradeList, activeSku, moduleEntry, slot)\r\n\r\n  const [showTargetRepack, setShowTargetRepack] = useState(true)\r\n\r\n  const totalEmptyThreshold = countThresholdIsEmpty(moduleEntry)\r\n\r\n\r\n  //set Target Repack\r\n\r\n  useEffect(_ => {\r\n    setTargetRepack({ moduleEntry, dispatch })\r\n  }, [])\r\n\r\n  useEffect(_ => {\r\n    if (!table?.data?.length && !slot?.length) setShowTargetRepack(false)\r\n    if (table?.data?.length) setShowTargetRepack(true)\r\n    updateTargetRepack({ data: table?.data, targetRepacks, activeSku, dispatch })\r\n  }, [table])\r\n\r\n  return { showTargetRepack, table, slot, setSlot, slotList, totalEmptyThreshold }\r\n}\r\n\r\n//use target movement\r\nexport const useTargetMovement = ({ moduleEntry, activeSku, dispatch, moduleName }) => {\r\n  const targetRepacks = moduleEntry.jobPost.list[activeSku].poList[0]?.targetMovements\r\n  const slotList = useSelector(state => state.slotList)\r\n  const stockMovementTargetRepack = useSelector(state => state.stockMovementTargetRepack)\r\n\r\n  const [slot, setSlot] = useState()\r\n\r\n  const { gradeList } = moduleEntry.jobPost.list[activeSku]\r\n  const table = filterTargetRepack(targetRepacks, gradeList, activeSku, moduleEntry, slot, true)\r\n\r\n  const [showTargetRepack, setShowTargetRepack] = useState(true)\r\n\r\n  useEffect(_ => {\r\n    if (!table?.data?.length && !slot?.length) setShowTargetRepack(false)\r\n    if (table?.data?.length) setShowTargetRepack(true)\r\n    updateTargetRepack({ data: table?.data, targetRepacks, activeSku, dispatch })\r\n  }, [table])\r\n\r\n  return { showTargetRepack, table, slot, setSlot, slotList, stockMovementTargetRepack }\r\n}\r\n\r\n//use filter new item to active\r\nexport const useIsNewItem = ({ setActiveSKU, moduleEntry, selectedSku, dispatch, moduleName }) => {\r\n  const sorted = null\r\n  useEffect(() => {\r\n    let skuName = null\r\n    const newSkuList = moduleEntry?.jobPost?.list?.filter(data => data.isNewItem)\r\n    const length = newSkuList?.length\r\n    if (length) skuName = newSkuList[length - 1]?.skuName\r\n    const idx = moduleEntry?.jobPost?.list?.findIndex(data => data.skuName === skuName)\r\n    if (idx >= 0) setActiveSKU(idx)\r\n\r\n  }, [selectedSku]);\r\n  return { sorted }\r\n}\r\n\r\nexport function useOutside({ wrapperRef, setShow, show }) {\r\n  useEffect(() => {\r\n\r\n    function handleClickOutside(event) {\r\n      if (show && wrapperRef.current && !wrapperRef.current.contains(event.target)) {\r\n        setShow(!show)\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [wrapperRef, show]);\r\n}","module.exports = __webpack_public_path__ + \"static/media/LOADING-MLS-GRAY.903088aa.gif\";","import { GET_STOCK_TAKE_ACTION, CREATE_JOB_SHEET } from 'apiServices/action'\r\nimport { getPORepacking } from 'apiServices'\r\nimport { getGradeRepacking } from 'apiServices/dropdown'\r\nimport { isFloat } from 'services'\r\nimport { checkIsSkuRequired, filterBySkuName, totalListItemWeightCount } from 'Page/StockEntry/GeneralServices/moduleServices'\r\n\r\n\r\n// update sku list tobe selected\r\nexport const selectSku = async ({\r\n    idx,\r\n    checked,\r\n    dispatch,\r\n    setLocalEntryData,\r\n    moduleName,\r\n    moduleSummary,\r\n    moduleEntry,\r\n    warehouseUuid,\r\n    areaId,\r\n    areaDestinationId }) => {\r\n    try {\r\n        let moduleSummaryNew = [...moduleSummary]\r\n        moduleSummaryNew[idx].checked = checked\r\n        dispatch({ type: GET_STOCK_TAKE_ACTION, [`${moduleName}summaryData`]: moduleSummaryNew })\r\n\r\n        const selectedData = moduleSummaryNew?.filter(ldata => {\r\n            if (ldata.checked) return ldata\r\n        })\r\n        let jsSelector = []\r\n        if (moduleEntry) {\r\n            moduleEntry.jobPost.list.map(data => {\r\n                const jsList = (({ skuUuid }) => ({ skuUuid }))(data)\r\n                if (jsList.skuUuid) {\r\n                    jsSelector.push(jsList.skuUuid)\r\n                }\r\n            })\r\n        }\r\n        let jsD = []\r\n        const a = selectedData.map(async (list, sI) => {\r\n            const isInclude = jsSelector.includes(list.skuUuid)\r\n            if (!isInclude) {\r\n                const grade = await getGradeRepacking({ skuId: list.skuUuid })\r\n                list['gradeList'] = grade\r\n                const data = await getPORepacking({ skuId: list.skuUuid, warehouseId: warehouseUuid, uom: list.unitOfMeassures })\r\n                if (data) {\r\n                    const addPoItem = [\r\n                        {\r\n                            itemList: [],\r\n                            expiryMs: null,\r\n                            inBoundyMs: null,\r\n                            expiryDate: null,\r\n                            inboundDate: null,\r\n                            skuUuid: list.skuUuid,\r\n                            uom: list.unitOfMeassures,\r\n                            packSize: list.packSize,\r\n                            category: list.category,\r\n                            initialWeight: Number.isInteger(data?.data.totalWeight) ? parseInt(data?.data.totalWeight) : parseFloat(data?.data.totalWeight),\r\n                            targetRepacks: data?.data.targetRepacks\r\n                        }\r\n                    ]\r\n                    list['poList'] = addPoItem\r\n                    jsD.push(list)\r\n                }\r\n\r\n            }\r\n        })\r\n        const aF = await Promise.all(a)\r\n        let newJs = []\r\n        if (moduleEntry) {\r\n            newJs = moduleEntry.jobPost.list.concat(jsD)\r\n        }\r\n        if (!moduleEntry) newJs = jsD\r\n\r\n        const uncheckedSku = moduleSummaryNew[idx]\r\n        if (!uncheckedSku.checked) {\r\n            newJs = newJs.filter(data => { return data.skuUuid !== uncheckedSku.skuUuid })\r\n        }\r\n\r\n        const id = moduleEntry?.jobPost?.id\r\n        const jobSheet = {\r\n            jobPost: {\r\n                id: id ? id : 0,\r\n                warehouseSource: warehouseUuid,\r\n                warehouseDestination: warehouseUuid,\r\n                areaSource: parseInt(areaId?.value),\r\n                areaName: areaId?.label,\r\n                areaDestination: parseInt(areaDestinationId?.value),\r\n                areaDestinationName: areaDestinationId?.label,\r\n                list: newJs.sort(function (a, b) { return filterBySkuName(a, b) })\r\n            }\r\n        }\r\n        if (newJs.length === 0) dispatch({ type: CREATE_JOB_SHEET, [`${moduleName}EntryData`]: null })\r\n        setLocalEntryData(jobSheet)\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\n//pre Add SKU\r\nexport const preAddSku = async ({\r\n    idx,\r\n    checked,\r\n    dispatch,\r\n    moduleName,\r\n    moduleSummary,\r\n    moduleEntry,\r\n    warehouseUuid,\r\n    areaId,\r\n    preAddHandler }) => {\r\n    try {\r\n        let moduleSummaryNew = [...moduleSummary]\r\n        moduleSummaryNew[idx].checked = checked\r\n\r\n        const selectedData = moduleSummaryNew?.filter(ldata => {\r\n            if (ldata.checked) return ldata\r\n        })\r\n        let jsSelector = []\r\n        if (moduleEntry) {\r\n            moduleEntry.map(data => {\r\n                const jsList = (({ skuUuid }) => ({ skuUuid }))(data)\r\n                if (jsList.skuUuid) {\r\n                    jsSelector.push(jsList.skuUuid)\r\n                }\r\n            })\r\n        }\r\n        let jsD = []\r\n        const a = selectedData.map(async (list, sI) => {\r\n            const isInclude = jsSelector.includes(list.skuUuid)\r\n            if (!isInclude) {\r\n                const grade = await getGradeRepacking({ skuId: list.skuUuid })\r\n                list['gradeList'] = grade\r\n                const data = await getPORepacking({ skuId: list.skuUuid, warehouseId: warehouseUuid, uom: list.unitOfMeassures })\r\n                if (data) {\r\n                    const addPoItem = [\r\n                        {\r\n                            itemList: [],\r\n                            expiryMs: null,\r\n                            inBoundyMs: null,\r\n                            expiryDate: null,\r\n                            inboundDate: null,\r\n                            skuUuid: list.skuUuid,\r\n                            uom: list.unitOfMeassures,\r\n                            packSize: list.packSize,\r\n                            category: list.category,\r\n                            initialWeight: isFloat(data?.data.totalWeight) ? isFloat(data?.data.totalWeight) : data?.data.totalWeight,\r\n                            targetRepacks: data?.data.targetRepacks\r\n                        }\r\n                    ]\r\n                    list['poList'] = addPoItem\r\n                    list.isNewItem = true\r\n                    jsD.push(list)\r\n                }\r\n\r\n            }\r\n        })\r\n        const aF = await Promise.all(a)\r\n        let newJs = []\r\n        if (moduleEntry) {\r\n            newJs = moduleEntry.concat(jsD)\r\n        }\r\n        if (!moduleEntry) newJs = jsD\r\n\r\n        const uncheckedSku = moduleSummaryNew[idx]\r\n        if (!uncheckedSku.checked) {\r\n            newJs = newJs.filter(data => { return data.skuUuid !== uncheckedSku.skuUuid })\r\n        }\r\n        preAddHandler(newJs);\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\n\r\nexport const submitValidation = ({ setActiveSKU, moduleEntry, moduleName, setConfirmation, dispatch, setIsRequired, setInvalidThreshold }) => {\r\n    let isClear = []\r\n    let js = { ...moduleEntry }\r\n    let invalidThreshold = []\r\n    const jsR = moduleEntry.jobPost.list.map(data => {\r\n        let description = data.originalUom\r\n        data.poList.map(po => {\r\n            const qtyCount = totalListItemWeightCount({ moduleList: po.itemList })\r\n            const { packSize, targetRepacks } = po\r\n            const isTargetRepacks = targetRepacks?.length ? true : false\r\n            po.itemList.map(item => {\r\n                const { qty, grade, pack, note } = item\r\n\r\n                if ((qty == 0 || isNaN(qty)) && grade?.value === null) {\r\n                    item.qtyIsEmpty = false\r\n                    item.gradeIsEmpty = false\r\n                    item.noteIsEmpty = false\r\n                    item.packIsEmpty = false\r\n                    item.packThresholdIsEmpty = false\r\n                }\r\n                else {\r\n                    if (item?.grade?.label === 'Waste' || item?.grade?.label === 'Semi Waste') {\r\n                        isNaN(qty) || qty == 0 || qty === \"\" || qty === null ? item.qtyIsEmpty = true : item.qtyIsEmpty = false\r\n                        !grade?.value ? item.gradeIsEmpty = true : item.gradeIsEmpty = false\r\n                        grade?.label === 'Waste' && !note ? item.noteIsEmpty = true : item.noteIsEmpty = false\r\n                    }\r\n                    else {\r\n                        let grd = data.gradeList.filter(grd => grd.value === grade.value)\r\n                        let ratio = grd[0].multiplier\r\n                        let standardWeight = description?.toLowerCase() == 'gram' ? packSize / 1000 : packSize\r\n                        let inputWeight = qty / pack\r\n                        inputWeight = inputWeight - (standardWeight / ratio)\r\n                        inputWeight = inputWeight / (standardWeight / ratio)\r\n                        inputWeight = inputWeight * 100\r\n                        if (inputWeight >= 51 || inputWeight <= -20) {\r\n                            item.packThresholdIsEmpty = true\r\n                            invalidThreshold.push(true)\r\n                        }\r\n                        else {\r\n                            item.packThresholdIsEmpty = false\r\n                            invalidThreshold.push(false)\r\n                        }\r\n                        item.packThreshold = isFloat(inputWeight)\r\n                        isNaN(qty) || qty == 0 || qty === \"\" || qty === null ? item.qtyIsEmpty = true : item.qtyIsEmpty = false\r\n                        isNaN(pack) || pack == 0 || pack === \"\" || pack === null ? item.packIsEmpty = true : item.packIsEmpty = false\r\n                        !grade?.value ? item.gradeIsEmpty = true : item.gradeIsEmpty = false\r\n                        grade?.label === 'Waste' && !note ? item.noteIsEmpty = true : item.noteIsEmpty = false\r\n                        if (isTargetRepacks) {\r\n                            // !slot?.value && slot?.value?.toString() !== '0' ? item.slotIsEmpty = true : item.slotIsEmpty = false\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!item.qtyIsEmpty) {\r\n                    if (Number(qtyCount) > Number(po.initialWeight)) {\r\n                        item.qtyIsEmpty = true\r\n                    }\r\n                    else item.qtyIsEmpty = false\r\n                }\r\n\r\n                if (item?.qtyIsEmpty || item?.gradeIsEmpty || item.packIsEmpty || item?.noteIsEmpty || item?.qtyToCompareIsEmpty || item?.slotIsEmpty) isClear.push(false)\r\n                else isClear.push(true)\r\n\r\n                return item\r\n            })\r\n            return po\r\n        })\r\n        return data\r\n    })\r\n\r\n\r\n    //validate there is value\r\n    let valid = false\r\n    jsR.map(data => {\r\n        data.poList.map(po => {\r\n            po.itemList.map(item => {\r\n                if (item.qty) valid = true\r\n            })\r\n        })\r\n    })\r\n\r\n    js.jobPost.list = jsR\r\n    dispatch({ type: CREATE_JOB_SHEET, [`${moduleName}EntryData`]: js })\r\n    if (!isClear.includes(false) && valid) {\r\n        if (typeof (setIsRequired) === 'function') setIsRequired(false)\r\n    }\r\n    else {\r\n        if (typeof (setIsRequired) === 'function') setIsRequired(true)\r\n    }\r\n\r\n    if (!invalidThreshold.includes(true)) {\r\n        if (typeof (setInvalidThreshold) === 'function') setInvalidThreshold(false)\r\n    }\r\n    else {\r\n        if (typeof (setInvalidThreshold) === 'function') setInvalidThreshold(true)\r\n    }\r\n\r\n    // if (!isClear.includes(false) && valid && !invalidThreshold.includes(true)) {\r\n    if (!isClear.includes(false) && valid) {\r\n        if (invalidThreshold.includes(true)) return\r\n        if (typeof (setConfirmation) === 'function') setConfirmation({ show: true, name: 'submit' })\r\n    }\r\n    else {\r\n        if (typeof (setConfirmation) === 'function') setConfirmation({ show: false, name: null })\r\n    }\r\n\r\n    checkIsSkuRequired({ setActiveSKU, moduleEntry, moduleName })\r\n}\r\n\r\nexport const countThresholdIsEmpty = (js) => {\r\n\r\n    let number = []\r\n    if (js.jobPost.list.length) {\r\n        js.jobPost.list.map((ls, listIndex) => {\r\n            if (ls.poList.length) {\r\n                ls.poList.map((po, poListIdx) => {\r\n                    if (po.itemList.length) {\r\n                        po.itemList.map((item, entryListIdx) => {\r\n                            if (item.packThresholdIsEmpty) {\r\n                                number.push({ skuName: ls.skuName, id: `pack_${poListIdx}_${entryListIdx}`, excess: item.packThreshold, slot: item.slot, activeSku: listIndex })\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n    return number\r\n}"],"sourceRoot":""}