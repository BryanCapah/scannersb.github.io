(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[31],{1185:function(e,t,n){},1186:function(e,t,n){},1243:function(e,t,n){"use strict";n.r(t);var a=n(659),o=n(1),i=n.n(o),r=n(20),s=n(56),c=n(71),l=n(168),d=n(19),u=(n(1185),n(662)),m=n(116),p=function(e){var t=e.isNewItem,n=e.img,a=e.skuDescription,o=e.skuNumber,r=e.activeSku,s=e.uomValue,c=e.idx,l=e.uom,d=e.onClick,p=e.data,f=Object(u.j)({data:p}),b=Object(u.c)(p);return i.a.createElement("div",{onKeyDown:function(e){return Object(m.g)({e:e,idx:c,onClick:d})},className:"w-100 sku-item softGreen pl-2 pr-2 pt-2 mb-3 cursor-pointer rounded ".concat(f?"soft-green":null," ").concat(r===c?"border-green":b?"border-red":"border")},i.a.createElement("div",{className:" w-100 d-flex justify-content-end"},i.a.createElement("div",{className:t?"green-dot":"dot"})),i.a.createElement("div",{onClick:function(){return d()},className:"w-100 softGreen d-flex justify-content-between pl-2 pr-2 mb-3 cursor-pointer ".concat(f?"soft-green":null)},i.a.createElement("div",{className:"d-flex align-items-center w-100"},i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("img",{src:n,alt:"sku image",className:"w-5 mr-3 border softGreen rounded"})),i.a.createElement("div",{className:"w-100"},i.a.createElement("div",{className:"mr-3 w-100 d-flex"},i.a.createElement("div",{className:"mr-3 text LatoBold fontSizeTitle"},a)),i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"text"},o),r,i.a.createElement("div",{className:"green LatoBold"},s," ",i.a.createElement("span",null,"".concat(l?l.toUpperCase():"").concat(s>1?"s":""))))))))},f=n(713),b=n.n(f),v=n(663),y=n(661),h=function(e){var t,n,r=e.hideSKUList,u=e.setActiveSKU,m=e.activeSku,f=e.moduleEntry,h=e.moduleName,g=e.setUpdateEntry,E=f.jobPost.list.length,w=document.documentElement.clientWidth,j=document.documentElement.clientHeight;j-=212;var x=Object(o.useState)(!1),N=Object(a.a)(x,2),L=N[0],k=N[1],I=Object(s.c)(),O=Object(s.d)((function(e){return e.thereAreRequest}));return i.a.createElement("div",{className:"".concat(r?"w-0":"w-30","  mt-md-0 rounded-bottom rounded-top")},i.a.createElement("div",{style:{padding:17},className:"w-100 bg-white border-top border-left border-right rounded-top border-soft-green text d-flex align-items-center justify-content-between",onClick:function(){return w<=500?k(!L):null}},i.a.createElement("div",{className:"LatoBold"}," Selected SKU ",i.a.createElement("span",{className:"font-green"},"(".concat(E," SKU").concat(E>1?"s":"",")"))),i.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},i.a.createElement(y.M,{content:"Click to refresh the stock",placement:w<=500?"left":"right"},i.a.createElement("div",null,i.a.createElement("img",{className:"".concat(O>0&&"fa-spin-hover"," mt-1 pointer"),src:b.a,onClick:function(){return Object(v.v)({moduleEntry:f,moduleName:h,dispatch:I,setUpdateEntry:g})}}))),i.a.createElement(l.b,{to:"/inventory-entry/waste/weight-entry/remove-sku"},i.a.createElement("div",{className:"fontSizeTitle px-3 emptyTextField iconU-remove"})),i.a.createElement(l.b,{to:"/inventory-entry/waste/weight-entry/add-sku"},i.a.createElement("div",{onClick:function(){return I(Object(c.a)({type:d.a},"".concat(h,"AddSku"),!0))},className:"fontSizeTitle emptyTextField text-bold iconU-entryAdd"})))),i.a.createElement("div",{style:{height:!(w<=500)&&j,maxHeight:j},className:" overflow-y w-100 bg-white mr-0 border rounded-bottom border-soft-green pl-3 pr-0 pt-3 ".concat(L?"d-none":null)},null===f||void 0===f||null===(t=f.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.map((function(e,t){return i.a.createElement(p,{isNewItem:null===e||void 0===e?void 0:e.isNewItem,data:e,idx:t,activeSku:m,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:null===e||void 0===e?void 0:e.unitOfMeassures,uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,img:null===e||void 0===e?void 0:e.photo,onClick:function(){return u(t)}})}))))},g=n(704),E=n.n(g),w=n(665),j=n(703),x=n(696),N=n(705),L=function(e){var t=e.isEmpty,n=e.uom,r=e.inputWidth,s=e.values,c=e.onChange,l=e.showTitle,d=e.title,u=Object(o.useState)(),m=Object(a.a)(u,2),p=m[0],f=m[1],b="gram"!==n&&"kg"!==n;return i.a.createElement("div",{name:"upload",className:" ".concat(r," mb-3 mr-3 ").concat(b?null:"d-none"),onClick:function(){return p&&s?c():null}},i.a.createElement("div",{className:" pb-1 LatoBold text-nowrap ".concat(l?null:"d-none")},d),i.a.createElement("div",{onMouseLeave:function(){return f()},onMouseEnter:function(){return f(!0)},style:{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",opacity:.7,width:!!s&&42},id:"input-img",className:"".concat(t?"border-red":"border"," rounded border-soft-green bg-white d-flex w-fit-content px-2 justify-content-center align-items-center input-height d-flex mr-3")},s&&p?i.a.createElement("div",{className:"hand-cursor",style:{margin:0}},i.a.createElement("span",{style:{fontSize:!!s&&25},className:"photo_text hidden-xs ".concat(s?p?"iconU-entryTrash css-2613qy-menu":null:" iconU-entryPhotos")})):i.a.createElement("label",{className:"hand-cursor",style:{margin:0}},i.a.createElement("input",{name:"upload",type:"file","nv-file-select":!0,uploader:"$ctrl.uploader",accept:"image/x-png,image/gif,image/jpeg",onChange:function(e){return c(e)}}),i.a.createElement("span",{className:"fa fa-camera"}),i.a.createElement("span",{style:{fontSize:!!s&&25},className:"photo_text hidden-xs ".concat(s?p?"iconU-entryTrash css-2613qy-menu":null:" iconU-entryPhotos")}))))},k=function(e){var t=e.entryListIdx,n=e.wmsPoSkuInfoId,a=e.gradeList,o=e.ripeness,r=e.inputWidth,s=e.showTitle,c=e.item,l=e.onChange,d=e.onChangeDropdown,u=e.uom,m=e.poListIdx;e.category;return i.a.createElement("div",{className:"d-flex w-100 we-m"},i.a.createElement(x.a,{isEmpty:c.qtyIsEmpty,poListIdx:m,entryListIdx:t,wmsPoSkuInfoId:n,uom:u,ripeness:o,inputWidth:r,values:null===c||void 0===c?void 0:c.qty,showTitle:s,title:"Input Quantity",onChange:function(e){return l(e)}}),i.a.createElement(j.a,{isEmpty:c.qtyIsEmpty,poListIdx:m,entryListIdx:t,wmsPoSkuInfoId:n,uom:u,ripeness:o,inputWidth:r,values:null===c||void 0===c?void 0:c.qty,title:"Input Weight",showTitle:s,onChange:function(e){return l(e)}}),i.a.createElement(w.a,{isEmpty:c.wasteTypeIsEmpty,selectedValue:null===c||void 0===c?void 0:c.wasteType,poListIdx:m,entryListIdx:t,wmsPoSkuInfoId:n,uom:u,show:!0,onChangeDropdown:function(e){return d({selected:e,name:"grade"})},title:"Waste",placeholder:"Select Waste",options:a,width:"w-30",showTitle:s,className:null}),i.a.createElement(N.a,{isEmpty:c.noteIsEmpty,grade:"Waste",poListIdx:m,entryListIdx:t,wmsPoSkuInfoId:n,inputWidth:"w-30",values:null===c||void 0===c?void 0:c.note,showTitle:s,title:"Note",onChange:function(e){return l(e)}}),i.a.createElement(L,{isEmpty:c.uploadPhotoIsEmpty,uom:"PACK",inputWidth:"fit-content",values:c.uploadPhoto,onChange:function(e){return l(e)},showTitle:!0,title:"Add Photos"}))},I=(n(1186),n(65)),O=n.n(I),S=n(91),P=n(4),D=function(){var e=Object(S.a)(O.a.mark((function e(t){var n,a,o,i,r,s,l,m,p,f,b,y,h,g,E,w,j,x,N,L,k,I,S,D;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.dispatch,i=t.moduleEntry,r=t.moduleName,s=t.activeSku,l=t.poListIdx,m=t.entryListIdx,p=t.e,f=null===p||void 0===p||null===(n=p.target)||void 0===n?void 0:n.name,b=null===p||void 0===p||null===(a=p.target)||void 0===a?void 0:a.value,(y=Object(P.a)({},i)).jobPost.list[s].isNewItem=!1,f){e.next=9;break}return y.jobPost.list[s].poList[l].itemList[m].uploadPhoto=null,o(Object(c.a)({type:d.b},"".concat(r,"EntryData"),y)),e.abrupt("return");case 9:if("upload"!==f){e.next=17;break}return e.next=12,Object(v.p)({e:p,dispatch:o});case 12:return h=e.sent,y.jobPost.list[s].poList[l].itemList[m].uploadPhoto=h,y.jobPost.list[s].poList[l].itemList[m].uploadPhotoIsEmpty=!1,o(Object(c.a)({type:d.b},"".concat(r,"EntryData"),y)),e.abrupt("return");case 17:if("weight"!==f&&"weightToCompare"!==f){e.next=23;break}g=/^[0-9\.\x0]+$/,console.clear(),!0===g.test(b)&&""!==b?(E=0,w=null===b||void 0===b?void 0:b.split("."),(j=w[0])>=0&&(j=parseInt(j)),null!==(x=w[1])&&void 0!==x?x.length>2?(N=x.slice(0,2),E="".concat(j,".").concat(N)):E="".concat(j,".").concat(x):E=parseInt(j),"weight"===f&&(y.jobPost.list[s].poList[l].itemList[m].qty=E,y.jobPost.list[s].poList[l].itemList[m].qtyIsEmpty=!1),"weightToCompare"===f&&(y.jobPost.list[s].poList[l].itemList[m].qtyToCompare=E,y.jobPost.list[s].poList[l].itemList[m].qtyToCompareIsEmpty=!1)):("weight"===f&&(y.jobPost.list[s].poList[l].itemList[m].qty=""),"weightToCompare"===f&&(y.jobPost.list[s].poList[l].itemList[m].qtyToCompare="")),e.next=29;break;case 23:if("qty"!==f){e.next=29;break}if(!1!==/^[0-9.]+$/.test(b)||""===b){e.next=27;break}return e.abrupt("return");case 27:y.jobPost.list[s].poList[l].itemList[m].qty=b?parseInt(b):b,y.jobPost.list[s].poList[l].itemList[m].qtyIsEmpty=!1;case 29:"note"===f&&(y.jobPost.list[s].poList[l].itemList[m].note=b,y.jobPost.list[s].poList[l].itemList[m].noteIsEmpty=!1),L=y.jobPost.list[s].poList[l].inboundQty,k=L,y.jobPost.list[s].poList[l].edited=!1,y.jobPost.list[s].poList[l].minus=!1,y.jobPost.list[s].poList[l].itemList.map((function(e){e.qty&&(y.jobPost.list[s].poList[l].edited=!0),k-=isNaN(e.qty)?0:e.qty,y.jobPost.list[s].poList[l].initialWeightUpdate=k;y.jobPost.list[s].poList[l].itemList[m].qty;k<0?(y.jobPost.list[s].poList[l].minus=!1,y.jobPost.list[s].poList[l].initialWeightUpdate=0):y.jobPost.list[s].poList[l].itemList.filter((function(e){return e.qtyIsEmpty=!1}))})),I=y.jobPost.list[s].poList[l].initialWeight,S=I,y.jobPost.list[s].poList[l].itemList.map((function(e){S-=isNaN(e.qty)?0:e.qty,y.jobPost.list[s].poList[l].initialWeightScreenUpdate=S})),D=Object(u.x)({moduleList:y.jobPost.list[s].poList[l].itemList}),y.jobPost.list[s].poList[l].initialWeightOver=D>L?D:0,o(Object(c.a)({type:d.b},"".concat(r,"EntryData"),y));case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t,n=e.inputWidth,a=e.activeSku,o=e.poListIdx,r=e.poItem,l=e.moduleEntry,p=e.moduleName,f=e.gradeList,b=Object(s.c)(),v=r.expiryDate,y=r.inboundDate,h=r.initialWeight,g=r.inboundQty,w=r.initialWeightUpdate,j=r.initialWeightScreenUpdate,x=(r.poUuid,r.skuUuid,r.supplierId,r.supplierName),N=r.uom,L=r.ripeness,I=(r.ripenessLevel,r.edited),O=r.wmsPoSkuCode,S=(r.category,r.codeGrade),U=r.isHidden,C=(isNaN(w),isNaN(j)?h:j),W="kg"===N||"gram"===N?"Weight":"Quantity",q=l.jobPost.list[a].gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===S}));return i.a.createElement("div",{className:"".concat(U?"d-none":null," z-0 d-flex flex-column justify-content-between w-100 mb-3 align-items-center border rounded border-soft-green ").concat(I?"soft-green":null)},i.a.createElement("div",{className:"w-100 border-soft-green mt-3 d-flex align-items-start px-3"},i.a.createElement("div",{className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),i.a.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center LatoBold cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Date",i.a.createElement("span",{className:"ml-2 font-green"},y?Object(m.b)({date:y}):"-"))),i.a.createElement("div",{className:"d-flex align-items-center mb-3"},"Initial ".concat(W),i.a.createElement("span",{className:"ml-2 font-green"}," ".concat(h," ").concat(null===N||void 0===N?void 0:N.toUpperCase()).concat(h>1?"s":""))))),i.a.createElement("div",{className:"w-100 border-soft-green d-flex align-items-start px-3"},i.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),i.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"PO Code",i.a.createElement("span",{className:"ml-2 font-green"}," ".concat(O||"-"))),i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Supplier Name",i.a.createElement("span",{className:"ml-2 font-green"}," ".concat(x)))))),i.a.createElement("div",{className:"w-100 border-bottom border-soft-green mb-3 d-flex align-items-start px-3"},i.a.createElement("div",{style:{opacity:0},className:"d-flex align-items-center LatoBold pr-3"},"".concat(o+1,".")),i.a.createElement("div",{className:"w-100 d-flex align-items-center LatoBold cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Expiry Date",i.a.createElement("span",{className:"ml-2 font-green"},v?Object(m.b)({date:v,noTime:!0}):"-")),i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Grade",i.a.createElement("span",{className:"ml-2 font-green"}," ".concat(q.length?q[0].label:"-"))),i.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Quantity",i.a.createElement("span",{className:"ml-2 font-green"}," ".concat(g||"-")))))),i.a.createElement("div",{className:"d-flex flex-column justify-content-between w-100 align-items-center px-3 z-0"},null===(t=r.itemList)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between"},i.a.createElement("div",{className:"w-100 d-flex"},i.a.createElement("div",{style:{width:"10px"},className:"input-height d-flex align-items-center mb-3 mr-3 pt-4 mt-2"},"".concat(t+1,".")),i.a.createElement("div",{className:"w-100"},i.a.createElement(k,{entryListIdx:t,wmsPoSkuInfoId:e.wmsPoSkuInfoId,showTitle:!0,gradeList:f,onChange:function(e){return D({dispatch:b,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:o,entryListIdx:t,e:e})},onChangeDropdown:function(e){var n=e.selected,i=e.name;return function(e){var t=e.dispatch,n=e.moduleEntry,a=e.moduleName,o=e.activeSku,i=e.poListIdx,r=e.entryListIdx,s=e.selected,l=e.name,u=Object(P.a)({},n);u.jobPost.list[o].isNewItem=!1,"grade"===l&&(u.jobPost.list[o].poList[i].itemList[r].wasteType=s,u.jobPost.list[o].poList[i].edited=!0,u.jobPost.list[o].poList[i].itemList[r].wasteTypeIsEmpty=!1),"ripeness"===l&&(u.jobPost.list[o].poList[i].itemList[r].ripeness=s,u.jobPost.list[o].poList[i].edited=!0,u.jobPost.list[o].poList[i].itemList[r].ripenessIsEmpty=!1),t(Object(c.a)({type:d.b},"".concat(a,"EntryData"),u))}({dispatch:b,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:o,entryListIdx:t,selected:n,name:i})},uom:N,ripeness:L,inputWidth:n,item:e,className:L?null:"d-none",poListIdx:o}))),i.a.createElement("div",{className:"d-flex w-25 align-items-center justify-content-end input-height mb-0 p-0"},i.a.createElement("img",{src:E.a,alt:"delete icon",className:"w-1 cursor-pointer",onClick:function(e){return Object(u.e)({dispatch:b,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:o,entryListIdx:t,e:e,countQty:u.d})}})))}))),i.a.createElement("div",{className:"w-100 ml-5 pl-4 font-green mb-3 LatoBold cursor-pointer",onClick:function(){return function(e){var t=e.dispatch,n=e.moduleEntry,a=e.moduleName,o=e.activeSku,i=e.poListIdx,r=Object(P.a)({},n),s=r.jobPost.list[o].poList[i].codeGrade,l=r.jobPost.list[o].gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===s})),u=r.jobPost.list[o].poList[i].itemList,m=u[(null===u||void 0===u?void 0:u.length)-1],p=m?m.grade:l[0];r.jobPost.list[o].poList[i].itemList.push({qty:"",grade:p,note:"",uploadPhoto:null,wasteType:null}),t(Object(c.a)({type:d.b},"".concat(a,"EntryData"),r))}({dispatch:b,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:o})}},i.a.createElement("i",{className:"green iconU-entryAdd pr-2"}),"Add ".concat(W," (").concat(Object(m.e)(C)?Object(m.e)(C):C," ").concat(N?N.toUpperCase():"").concat(C>1?"s":""," left)")))},C=n(778),W=n(675),q=n(710),T=n(747),B=n(692),R=n(716),A=n(676),K=function(e){var t,n,a,o=e.setActiveSKU,r=e.hideSKUList,l=e.setHideSKUList,d=e.activeSku,u=e.moduleEntry,m=e.moduleName,p=e.updateEntry,f=e.setUpdateEntry,b=Object(s.c)(),y=Object(A.d)(),h=y.dimention,g=y.height,E=y.heightAdj,w=Object(A.q)({moduleEntry:u,activeSku:d}),j=w.setIsSuccess,x=w.confirmation,N=w.setConfirmation,L=w.discard,k=w.setDiscard,I=w.isSaved,O=w.setIsSaved,S=w.action,P=w.setAction,D=w.isRequired,K=w.setIsRequired,M=w.hideContent,z=w.setHideContent,H=w.isLoading,_=w.skuName,G=w.skuNumber,Q=w.poList,F=w.gradeList,V=w.unitOfMeassures,J=w.totalWeight,$=w.edited,X=w.postInfo,Y=w.status,Z=h<=500,ee=M?"d-none":null,te=J>1?"s":"",ne=$?"bg-green":"bg-lineGrey";return i.a.createElement("div",{style:{paddingLeft:Z?0:10},className:"w-100 h-100 mt-3 mt-md-0"},i.a.createElement(B.a,{discard:L,module:"Inventory Entry - Waste",moduleEntry:u,close:function(){return k(!1)},discardEntry:function(e){return Object(v.o)({id:e,moduleName:m,dispatch:b})}}),i.a.createElement(q.a,{updateEntry:p,setUpdateEntry:f,status:Y,moduleEntry:u,submit:function(){var e;return b((e={type:"CREATE_JOB_SHEET"},Object(c.a)(e,"".concat(m,"EntryData"),null),Object(c.a)(e,"".concat(m,"SummaryData"),null),e))},confirmation:x,setConfirmation:N,isSaved:I,action:S,setIsSaved:O,moduleName:m,totalSku:null===u||void 0===u||null===(t=u.jobPost)||void 0===t?void 0:t.list.length}),i.a.createElement(T.a,{isRequired:D,module:u,setIsRequired:K,moduleName:m,totalSku:null===u||void 0===u||null===(n=u.jobPost)||void 0===n?void 0:n.list.length}),i.a.createElement(W.b,{moduleName:m,isLoading:H,moduleEntry:u,confirmation:x,setConfirmation:N,isSuccess:X,setAction:P,action:S,save:function(){return Object(v.q)({name:"save",moduleEntry:u,moduleName:m,dispatch:b,setIsSuccess:j})},submit:function(){return Object(v.q)({name:"submit",moduleEntry:u,moduleName:m,dispatch:b,setIsSuccess:j,submitValidation:C.c,setActiveSKU:o})}}),i.a.createElement("div",{className:"mb-3 bg-white rounded-bottom rounded-top"},i.a.createElement("div",(a={style:{height:g}},Object(c.a)(a,"style",{padding:10}),Object(c.a)(a,"className","w-100 mr-0 d-flex align-items-center border-top border-left border-right border-bottom rounded-top border-soft-green"),a),i.a.createElement("div",{className:"d-flex w-100 m-0 p-0",onClick:function(){return Z?z(!M):null}},i.a.createElement("div",{className:"".concat(r?"iconU-sideBarHideRight":"iconU-sideBarHideLeft"," emptyTextField fontSizeTitle mr-3 m-0 p-0"),onClick:function(){return l(!r)}}),i.a.createElement("div",{className:"mr-3 pr-1 d-flex align-items-center m-0 p-0 LatoBold"},"Weight Entry"),i.a.createElement("div",{className:"mr-3 iconU-sideBarDot d-flex align-items-center m-0 p-0"}),i.a.createElement("div",{className:"mr-3 d-flex align-items-center font-green LatoBold m-0 p-0"},"".concat(_," (").concat(G,")"))),i.a.createElement(R.a,{moduleEntry:u,moduleName:m,activeSku:d,dispatch:b})),i.a.createElement("div",{style:{height:Z?g:E,minHeight:Z?g:E},className:"w-100 overflow-y mr-0 border-left border-right border-soft-green pl-3 pr-2 pt-3 ".concat(ee)},null===Q||void 0===Q?void 0:Q.map((function(e,t){return i.a.createElement(U,{gradeList:F,inputWidth:"input-w-100",activeSku:d,poListIdx:t,poItem:e,moduleEntry:u,moduleName:m})}))),i.a.createElement("div",{className:"w-100 d-flex align-items-center p-3 border-left border-right border-bottom rounded-bottom LatoBold"},i.a.createElement("button",{type:"button",className:"btn ".concat(ne,"  text-white px-5 mr-3 LatoBold"),onClick:function(){return $?N({show:!0,name:"save"}):null}},"Save"),i.a.createElement("div",null,"Total Weight ",i.a.createElement("span",{className:"font-green"},"".concat(J," ").concat(null===V||void 0===V?void 0:V.toUpperCase()).concat(te))))),i.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},i.a.createElement("div",{onClick:function(){return k(!0)},className:"red pr-3 fontSizeButton cursor-pointer"},i.a.createElement("i",{className:"iconU-entryTrash"})," Discard"),i.a.createElement("button",{onClick:function(){return $?Object(C.c)({setActiveSKU:o,moduleEntry:u,moduleName:m,dispatch:b,setConfirmation:N,setIsRequired:K}):null},className:"btn px-5 py-2 text-white ".concat(ne," LatoBold no-shadow"),style:{height:"fit-content !important"}},"Submit")))};t.default=function(){var e=Object(s.d)((function(e){return e.wasteEntryData})),t=Object(o.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],d=Object(o.useState)(0),u=Object(a.a)(d,2),m=u[0],p=u[1],f=Object(o.useState)(),b=Object(a.a)(f,2),v=b[0],y=b[1],g=document.documentElement.clientHeight,E=document.documentElement.clientWidth,w=g-150;return e&&0!==(null===e||void 0===e?void 0:e.jobPost.list.length)?i.a.createElement("div",{style:{height:E<=500?g:w},className:"w-100 d-md-flex justify-content-between scroll-y z-0"},i.a.createElement(h,{hideSKUList:c,activeSku:m,setActiveSKU:p,moduleName:"waste",moduleEntry:e,setUpdateEntry:y}),i.a.createElement(K,{setActiveSKU:p,setHideSKUList:l,hideSKUList:c,moduleName:"waste",moduleEntry:e,activeSku:m,setUpdateEntry:y,updateEntry:v})):i.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100 h-screen"},i.a.createElement(r.a,{to:"/inventory-entry/waste"},"Please Select At Least 1 SKU"))}},665:function(e,t,n){"use strict";var a=n(664),o=n(4),i=n(659),r=n(1),s=n.n(r),c=n(694);t.a=function(e){var t,n,l=e.isEmpty,d=e.title,u=e.placeholder,m=e.options,p=e.selectedValue,f=e.showTitle,b=e.width,v=e.className,y=e.entryListIdx,h=e.onChangeDropdown,g=e.show,E=e.poListIdx,w=e.isDisabled,j=e.style,x=e.noMarginBottom,N=e.resetName,L=e.isMulti,k=e.hideResetOpt,I=Object(r.useState)(),O=Object(i.a)(I,2),S=O[0],P=O[1];Object(r.useEffect)((function(){"empty"===p&&P(!0)}),[p,l]);var D=!!l&&function(e){return Object(o.a)(Object(o.a)({},e),{},{border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})},U=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(y).concat(E)),C=null===U||void 0===U?void 0:U.getBoundingClientRect();Object(r.useEffect)((function(){C=null===U||void 0===U?void 0:U.getBoundingClientRect()}),[S]);var W=document.documentElement.clientWidth,q=[{label:"-".concat(N||d,"-"),value:null}];m&&(q=[].concat(Object(a.a)(q),Object(a.a)(m))),k&&(q=q.filter((function(e){return null===e||void 0===e?void 0:e.value})));var T,B=(null===(n=C)||void 0===n?void 0:n.bottom)>600?"top":"bottom";W<=500&&(B=(null===(T=C)||void 0===T?void 0:T.bottom)>400?"top":"bottom","Categories"===d&&(B="top"));return s.a.createElement("div",{style:j,className:"mr-0 ".concat(j?null:"mr-lg-3"," ").concat(x?null:"mb-3"," ").concat(b," ").concat(v," ").concat(g?null:"d-none")},s.a.createElement("div",{className:" pb-1 LatoBold ".concat(f?null:"d-none")},d),s.a.createElement(c.a,{inputId:"".concat(d,"_").concat(E,"_").concat(y),isMulti:L,isSearchable:!(W<500),isDisabled:w||!1,id:"dropdown".concat(y).concat(E),value:((null===p||void 0===p?void 0:p.value)||!!(null===p||void 0===p?void 0:p.length))&&p,menuIsOpen:S,menuPortal:!0,placeholder:N||u,options:q,onMenuOpen:function(){return P(!0)},onMenuClose:function(){return P(!1)},onChange:function(e){h(e),P(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(B),styles:{menuPortal:function(e){return Object(o.a)(Object(o.a)({},e),{},{zIndex:9999})},control:D,option:function(e,t){var n=t.isFocused,a=t.isSelected;return Object(o.a)(Object(o.a)({},e),{},{backgroundColor:a?"rgb(242, 250, 246, 0)":n?"rgb(242, 250, 246)":null,color:a?"black":"#a8b1be",cursor:"pointer",fontWeight:a?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:a?null:"#4abe84"}})}},theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:4})}}))}},693:function(e,t,n){},696:function(e,t,n){"use strict";var a=n(1),o=n.n(a);t.a=function(e){var t=e.isEmpty,n=e.entryListIdx,a=e.poListIdx,i=(e.wmsPoSkuInfoId,e.uom),r=e.inputWidth,s=e.values,c=e.onChange,l=e.showTitle,d=(e.grade,e.title),u=e.name,m="gram"!==i&&"kg"!==i;return o.a.createElement("div",{className:" ".concat(r," mb-3 mr-3 ").concat(m?null:"d-none")},o.a.createElement("div",{className:" pb-1 LatoBold ".concat(l?null:"d-none")},d),o.a.createElement("div",{className:"".concat(t?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},o.a.createElement("input",{id:"qty_".concat(a,"_").concat(n),maxLength:"10",autoComplete:"off",type:"text",className:"w-100 plain-input",value:s,name:u||"qty",onChange:function(e){return c(e)}}),o.a.createElement("div",{className:"font-soft-grey"},i?i.toUpperCase():"")))}},705:function(e,t,n){"use strict";var a=n(1),o=n.n(a);t.a=function(e){var t=e.isEmpty,n=e.entryListIdx,a=(e.wmsPoSkuInfoId,e.uom),i=e.inputWidth,r=e.values,s=e.onChange,c=e.showTitle,l=e.grade,d=e.title,u=e.isReadOnly,m=e.poListIdx;return o.a.createElement("div",{className:" ".concat(i," mb-3 mr-3 ").concat("Waste"===l?null:"d-none")},o.a.createElement("div",{className:" pb-1 LatoBold ".concat(c?null:"d-none")},d),o.a.createElement("div",{className:"".concat(t?"border-red":"border"," border rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},o.a.createElement("input",{id:"note_".concat(m,"_").concat(n),readOnly:u,autoComplete:"off",className:"w-100 plain-input",value:r,name:"note",onChange:function(e){return s(e)}}),o.a.createElement("div",{className:"font-soft-grey"},a?a.toUpperCase():"")))}},713:function(e,t,n){e.exports=n.p+"static/media/refreshIcon.de5bc1ae.svg"},714:function(e,t,n){e.exports=n.p+"static/media/asc.9b60817e.svg"},715:function(e,t,n){e.exports=n.p+"static/media/desc.bec03077.svg"},716:function(e,t,n){"use strict";var a=n(659),o=n(1),i=n.n(o),r=n(116),s=n(719),c=(n(717),n(718),n(693),n(4));var l=function(e){var t=e.showDate,n=e.selectDate,r=e.setShowDate;document.documentElement.clientWidth;var l=Object(o.useState)({startDate:new Date,endDate:new Date,key:"selection"}),d=Object(a.a)(l,2),u=d[0],m=d[1],p=Object(o.useState)(new Date),f=Object(a.a)(p,2),b=f[0],v=f[1],y=Object(o.useState)(),h=Object(a.a)(y,2),g=h[0],E=h[1],w=g?"text":"bg-green text-white",j=g?"bg-green text-white":"text",x=Object(o.useRef)(null);!function(e){var t=e.wrapperRef,n=e.showDate,a=e.setShowDate,i=e.selectDate;Object(o.useEffect)((function(){function e(e){n&&t.current&&!t.current.contains(e.target)&&(a(!n),i())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n])}({wrapperRef:x,showDate:t,setShowDate:r,selectDate:n}),Object(o.useEffect)((function(){m({startDate:new Date,endDate:new Date,key:"selection"}),v(new Date)}),[g]);return i.a.createElement("div",{ref:x,style:{width:"350px"},className:" mt-5 position-fixed bg-white border border-soft-green rounded z-100 d-flex flex-column justify-content-center ".concat(t?null:"d-none")},i.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},i.a.createElement("div",{className:" border border-soft-green d-flex rounded justify-content-between w-100 cursor-pointer"},i.a.createElement("span",{onClick:function(){return E(!g)},className:" ".concat(w," w-50  ").concat(g?"rounded-left":"rounded"," text-center p-2")},"Single Date"),i.a.createElement("span",{onClick:function(){return E(!g)},className:" ".concat(j," w-50 ").concat(g?"rounded":"rounded-right"," text-center p-2")},"Ranged Date"))),i.a.createElement(s.DateRangePicker,{className:g?null:"d-none",ranges:[u],onChange:function(e){return function(e){var t=e.newdate,n=e.dateRange,a=e.setDateRange,o=Object(c.a)({},n);o.startDate=t.selection.startDate,o.endDate=t.selection.endDate,a(o)}({newdate:e,dateRange:u,setDateRange:m})}}),i.a.createElement(s.Calendar,{className:g?"d-none":null,date:b,onChange:function(e){return v(e)}}),i.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},i.a.createElement("span",{onClick:function(){t&&(n(g?u:b),r())},className:" bg-green text-white w-100 border border-soft-green rounded text-center p-2"},"Confirm")))},d=n(714),u=n.n(d),m=n(715),p=n.n(m);t.a=function(e){var t,n,s=e.moduleEntry,c=e.moduleName,d=e.activeSku,m=e.dispatch,f=Object(o.useState)(),b=Object(a.a)(f,2),v=b[0],y=b[1],h=Object(o.useState)(),g=Object(a.a)(h,2),E=g[0],w=g[1],j=Object(o.useState)(),x=Object(a.a)(j,2),N=x[0],L=x[1],k=Object(o.useState)(),I=Object(a.a)(k,2),O=I[0],S=I[1],P=document.documentElement.clientWidth;return(null===(t=n=Object(r.a)({date:E,datePicker:!0}))||void 0===t?void 0:t.startDate)&&(n="".concat(n.startDate," - ").concat(n.endDate)),Object(o.useEffect)((function(){Object(r.h)({moduleEntry:s,moduleName:c,activeSku:d,dispatch:m,sortBy:v})}),[v,d]),Object(o.useEffect)((function(e){N||Object(r.d)({moduleEntry:s,moduleName:c,activeSku:d,dispatch:m,date:E})}),[E,N,d]),Object(o.useEffect)((function(e){y(),w()}),[O,d]),i.a.createElement("div",{className:"w-25 d-flex justify-content-end"},i.a.createElement("div",{style:{height:40},className:"".concat("repack"===c?"d-none":null," border-soft-green border-top border-bottom border-left m-0 rounded-left green h6 d-flex align-items-center justify-content-center px-2 text-nowrap ").concat(P>500&&E?null:"d-none")},n),i.a.createElement("div",{style:{height:40,minWidth:40},className:"".concat(E?"iconU-modalClose red":"iconU-filterDate emptyTextField"," border-soft-green border ").concat(E?"rounded-right":"rounded"," ").concat("repack"===c?"d-none":null," d-flex align-items-center justify-content-center mr-3 cursor-pointer"),onClick:function(){return E?S((function(e){return!e})):L((function(e){return!e}))}}),i.a.createElement(l,{showDate:N,selectDate:function(e){return w(e)},setShowDate:function(e){return L(e)}}),i.a.createElement("img",{style:{height:40,minWidth:40},src:v?p.a:u.a,onClick:function(){return y(!v)},className:"p-2 border rounded border-soft-green cursor-pointer"}))}},778:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return h}));var a=n(4),o=n(65),i=n.n(o),r=n(71),s=n(664),c=n(91),l=n(22),d=n.n(l),u=n(19),m=n(663),p=n(672),f=n(116),b=n(662),v=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,o,l,f,v,y,h,g,E,w,j,x,N,L,k,I,O,S;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idx,o=t.checked,l=t.dispatch,f=t.setLocalEntryData,v=t.moduleName,y=t.moduleSummary,h=t.moduleEntry,g=t.warehouseUuid,E=t.areaId,(w=Object(s.a)(y))[a].checked=o,l(Object(r.a)({type:u.c},"".concat(v,"summaryData"),w)),j=null===w||void 0===w?void 0:w.filter((function(e){if(e.checked)return e})),x=[],h&&h.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&x.push(t.skuUuid)})),N=[],L=j.map(function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=null===a||void 0===a?void 0:a.filter((function(e){return"Waste"===(null===e||void 0===e?void 0:e.label)||"Semi Waste"===(null===e||void 0===e?void 0:e.label)})),e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:g,dispatch:l,areaId:E.value,moduleName:v});case 8:(o=e.sent)&&(r=o.map((function(e){e.itemList=[];var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Number.isInteger(e.initialWeight)?parseInt(e.initialWeight):parseFloat(e.initialWeight),e})),t.poList=r,N.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(L);case 11:e.sent,k=[],h&&(k=h.jobPost.list.concat(N)),h||(k=N),(I=w[a]).checked||(k=k.filter((function(e){return e.skuUuid!==I.skuUuid}))),O=null===h||void 0===h||null===(n=h.jobPost)||void 0===n?void 0:n.id,S={jobPost:{id:O||0,warehouseSource:g,warehouseDestination:g,areaSource:parseInt(null===E||void 0===E?void 0:E.value),areaName:null===E||void 0===E?void 0:E.label,areaDestination:parseInt(null===E||void 0===E?void 0:E.value),list:k.sort((function(e,t){return Object(b.f)(e,t)}))}},0===k.length&&l(Object(r.a)({type:u.b},"".concat(v,"EntryData"),null)),f(S);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,o,r,l,u,b,v,y,h,g,E,w,j,x,N;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idx,a=t.checked,o=t.dispatch,r=t.moduleName,l=t.moduleSummary,u=t.moduleEntry,b=t.warehouseUuid,v=t.areaId,y=t.preAddHandler,(h=Object(s.a)(l))[n].checked=a,g=null===h||void 0===h?void 0:h.filter((function(e){if(e.checked)return e})),E=[],u&&u.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&E.push(t.skuUuid)})),w=[],j=g.map(function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=null===a||void 0===a?void 0:a.filter((function(e){return"Waste"===(null===e||void 0===e?void 0:e.label)||"Semi Waste"===(null===e||void 0===e?void 0:e.label)})),e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:b,dispatch:o,areaId:v.value,moduleName:r});case 8:(s=e.sent)&&(c=s.map((function(e){e.itemList=[];var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Object(f.e)(e.initialWeight)?Object(f.e)(e.initialWeight):e.initialWeight,e})),t.poList=c,t.isNewItem=!0,w.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(j);case 10:e.sent,x=[],u&&(x=u.concat(w)),u||(x=w),(N=h[n]).checked||(x=x.filter((function(e){return e.skuUuid!==N.skuUuid}))),y(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.setActiveSKU,n=e.moduleEntry,o=e.moduleName,i=e.setConfirmation,s=e.dispatch,c=e.setIsRequired,l=[],d=Object(a.a)({},n),m=n.jobPost.list.map((function(e){return e.poList.map((function(e){var t=Object(b.x)({moduleList:e.itemList});return e.itemList.map((function(n){var a=n.qty,o=n.wasteType,i=n.note;return 0!=a&&!isNaN(a)||null!==(null===o||void 0===o?void 0:o.value)?(isNaN(a)||0==a||""===a||null===a?n.qtyIsEmpty=!0:n.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?n.wasteTypeIsEmpty=!1:n.wasteTypeIsEmpty=!0,n.noteIsEmpty=!i):(n.qtyIsEmpty=!1,n.wasteTypeIsEmpty=!1,n.uploadPhotoIsEmpty=!1,n.noteIsEmpty=!1),n.qtyIsEmpty||(Number(t)>Number(e.initialWeight)?n.qtyIsEmpty=!0:n.qtyIsEmpty=!1),(null===n||void 0===n?void 0:n.qtyIsEmpty)||(null===n||void 0===n?void 0:n.wasteTypeIsEmpty)||(null===n||void 0===n?void 0:n.uploadPhotoIsEmpty)||(null===n||void 0===n?void 0:n.noteIsEmpty)?l.push(!1):l.push(!0),n})),e})),e})),p=!1;m.map((function(e){e.poList.map((function(e){e.itemList.map((function(e){e.qty&&(p=!0)}))}))})),d.jobPost.list=m,s(Object(r.a)({type:u.b},"".concat(o,"EntryData"),d)),!l.includes(!1)&&p?"function"===typeof i&&i({show:!0,name:"submit"}):("function"===typeof i&&i({show:!1,name:null}),"function"===typeof c&&c(!0)),Object(b.b)({setActiveSKU:t,moduleEntry:n,moduleName:o})}}}]);
//# sourceMappingURL=31.cb473250.chunk.js.map