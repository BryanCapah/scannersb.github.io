(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[30],{1170:function(e,t,n){},1171:function(e,t,n){},1237:function(e,t,n){"use strict";n.r(t);var a=n(659),i=n(1),o=n.n(i),s=n(20),r=n(56),c=n(71),l=n(168),d=n(19),u=(n(1170),n(662)),m=function(e){e.isNewItem;var t=e.img,n=e.skuDescription,a=e.skuNumber,i=e.activeSku,s=e.uomValue,r=e.idx,c=e.uom,l=e.onClick,d=e.data,m=Object(u.j)({data:d});return o.a.createElement("div",{onClick:function(){return l()},className:"w-100 softGreen d-flex justify-content-between pl-2 pr-3 py-2 mb-3 cursor-pointer rounded ".concat(m?"soft-green":null," ").concat(i===r?"border-green":"border")},o.a.createElement("div",{className:"d-flex align-items-center w-100"},o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("img",{src:t,alt:"sku",className:"w-5 mr-3 border softGreen rounded"})),o.a.createElement("div",{className:"w-100"},o.a.createElement("div",{className:"mr-3"},o.a.createElement("div",{className:"mr-3 text LatoBold fontSizeTitle"},n)),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"text"},a),i,o.a.createElement("div",{className:"green LatoBold"},s," ",o.a.createElement("span",null,"".concat(c?c.toUpperCase():"").concat(s>1?"s":"")))))))},p=function(e){var t=e.hideSKUList,n=e.setActiveSKU,a=e.activeSku,i=e.moduleEntry,s=e.moduleName,u=(e.setUpdateEntry,i.jobPost.list.length),p=Object(r.c)();return o.a.createElement("div",{className:"".concat(t?"w-0":"w-30","  mt-md-0 rounded-bottom rounded-top skuList-m")},o.a.createElement("div",{className:"w-100 bg-white h-screen-title p-3 border-top border-left border-right rounded-top border-soft-green text d-flex align-items-center justify-content-between"},o.a.createElement("div",{className:"LatoBold"}," Selected SKU ",o.a.createElement("span",{className:"font-green"},"(".concat(u," SKU").concat(u>1?"s":"",")"))),o.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o.a.createElement(l.b,{to:"/inventory-entry/additional-inbound/weight-entry/weight-entry/remove-sku"},o.a.createElement("div",{className:"fontSizeTitle px-3 emptyTextField iconU-remove"})),o.a.createElement(l.b,{to:"/inventory-entry/additional-inbound/weight-entry/weight-entry/add-sku"},o.a.createElement("div",{onClick:function(){return p(Object(c.a)({type:d.a},"".concat(s,"AddSku"),!0))},className:"fontSizeTitle emptyTextField text-bold iconU-entryAdd"})))),o.a.createElement("div",{className:"w-100 bg-white h-screen-content mr-0 border rounded-bottom border-soft-green pl-3 pr-1 pt-3"},null===i||void 0===i?void 0:i.jobPost.list.map((function(e,t){return o.a.createElement(m,{data:e,idx:t,activeSku:a,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:null===e||void 0===e?void 0:e.unitOfMeassures,uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,img:null===e||void 0===e?void 0:e.photo,onClick:function(){return n(t)}})}))))},b=n(116),v=n(695),f=n.n(v),y=n(665),g=n(694),h=n(834),E=function(e){var t=e.entryListIdx,n=e.wmsPoSkuInfoId,a=e.gradeList,i=e.ripeness,s=e.inputWidth,r=e.inboundTypeList,c=e.showTitle,l=e.item,d=e.onChange,u=e.onChangeDropdown,m=e.uom,p=e.poListIdx,b="kg"===m||"gram"===m;return o.a.createElement("div",{className:"w-100 we-m"},o.a.createElement("div",{className:"d-flex w-100 we-m"},o.a.createElement(y.a,{isEmpty:l.inboundTypeIsEmpty,ddType:"inboundType",selectedValue:null===l||void 0===l?void 0:l.inboundType,entryListIdx:t,wmsPoSkuInfoId:n,uom:"kg",onChangeDropdown:function(e){return u({selected:e,name:"inboundType"})},title:"Inbound Type",placeholder:"Inboud Type",options:r,width:"drp-w-50",showTitle:c,show:!0}),o.a.createElement(y.a,{isEmpty:l.gradeIsEmpty,selectedValue:null===l||void 0===l?void 0:l.grade,poListIdx:p,entryListIdx:t,wmsPoSkuInfoId:n,uom:m,show:b,onChangeDropdown:function(e){return u({selected:e,name:"grade"})},title:"Order Id",placeholder:"Select Order Id",options:a,width:"drp-w-50",showTitle:c,className:i?"d-none":null}),o.a.createElement(g.a,{isEmpty:l.qtyIsEmpty,entryListIdx:t,wmsPoSkuInfoId:n,uom:m,ripeness:i,inputWidth:s,title:"Input Weight",showTitle:c,onChange:function(e){return d(e)}})),o.a.createElement("div",{className:"d-flex w-50"},o.a.createElement(h.a,{isEmpty:l.reasonIsEmpty,entryListIdx:t,wmsPoSkuInfoId:n,inputWidth:"w-30",values:null===l||void 0===l?void 0:l.reason,showTitle:c,title:"Note",onChange:function(e){return d(e)}})))},j=(n(1171),n(4)),w=function(e){var t,n=e.inputWidth,a=e.activeSku,i=e.poListIdx,s=e.poItem,l=e.moduleEntry,m=e.inboundTypeList,p=e.moduleName,v=e.gradeList,y=Object(r.c)(),g=(s.expiryDate,s.inboundDate),h=s.initialWeight,w=s.inboundQty,L=s.initialWeightUpdate,x=s.initialWeightScreenUpdate,N=(s.poUuid,s.skuUuid,s.supplierId,s.supplierName),I=s.uom,k=s.ripeness,O=s.edited,S=(s.wmsPoSkuCode,s.isHidden),D=(isNaN(L),isNaN(x)?h:x),U="kg"===I||"gram"===I?"Weight":"Quantity";return o.a.createElement("div",{className:"".concat(S?"d-none":null," z-0 d-flex flex-column justify-content-between w-100 mb-3 align-items-center border rounded border-soft-green ").concat(O?"soft-green":null)},o.a.createElement("div",{className:"w-100 border-bottom border-soft-green my-3 d-flex align-items-start px-3"},o.a.createElement("div",{className:"d-flex align-items-center LatoBold pr-3"},"".concat(i+1,".")),o.a.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center LatoBold cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center cardheader-m"},o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-5"},"Inbound Date",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(Object(b.b)(g)))),o.a.createElement("div",{className:"d-flex align-items-center mb-3 mr-3"},"Supplier Name",o.a.createElement("span",{className:"ml-2 font-green"}," ".concat(N)))))),o.a.createElement("div",{className:"d-flex flex-column justify-content-between w-100 align-items-center px-3 z-0"},null===(t=s.itemList)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between"},o.a.createElement("div",{className:"w-100 d-flex"},o.a.createElement("div",{style:{width:"10px"},className:"input-height d-flex align-items-center mb-3 mr-3 pt-4 mt-2"},"".concat(t+1,".")),o.a.createElement("div",{className:"w-100"},o.a.createElement(E,{entryListIdx:t,wmsPoSkuInfoId:e.wmsPoSkuInfoId,showTitle:!0,gradeList:v,inboundTypeList:m,onChange:function(e){return function(e){var t,n,a=e.dispatch,i=e.moduleEntry,o=e.moduleName,s=e.activeSku,r=e.poListIdx,l=e.entryListIdx,u=e.e,m=null===u||void 0===u||null===(t=u.target)||void 0===t?void 0:t.name,p=null===u||void 0===u||null===(n=u.target)||void 0===n?void 0:n.value,b=Object(j.a)({},i);if("weight"===m){b.jobPost.list[s].poList[r].itemList[l].qty=parseInt(p);if(console.clear(),!1===/^[0-9\.\x0]+$/.test(p)&&""!==p)return;var v=0,f=0!=p?p.split("."):0,y=f[0];y>0&&(y=parseInt(y));var g=f[1];if(null!==g&&void 0!==g)if(g.length>2){var h=g.slice(0,2);v="".concat(y,".").concat(h)}else v="".concat(y,".").concat(g);else v=parseInt(y);b.jobPost.list[s].poList[r].itemList[l].qty=v,b.jobPost.list[s].poList[r].itemList[l].qtyIsEmpty=!1}else"note"!==m&&(b.jobPost.list[s].poList[r].itemList[l].qty=p>0?parseInt(p):p,b.jobPost.list[s].poList[r].itemList[l].qtyIsEmpty=!0);"note"===m&&(b.jobPost.list[s].poList[r].itemList[l].note=p,b.jobPost.list[s].poList[r].itemList[l].noteIsEmpty=!0);var E=b.jobPost.list[s].poList[r].inboundQty,w=E;b.jobPost.list[s].poList[r].edited=!1,b.jobPost.list[s].poList[r].minus=!1,b.jobPost.list[s].poList[r].itemList.map((function(e){if(e.qty&&(b.jobPost.list[s].poList[r].edited=!0),w-=isNaN(e.qty)?0:e.qty,b.jobPost.list[s].poList[r].initialWeightUpdate=w,w<0){b.jobPost.list[s].poList[r].minus=!1;var t=b.jobPost.list[s].poList[r].itemList[l].qty;"qty"===m&&(b.jobPost.list[s].poList[r].initialWeightUpdate=parseInt(w)+parseInt(t||0)),"weight"===m&&(b.jobPost.list[s].poList[r].initialWeightUpdate=parseFloat(w)+parseFloat(t||0)),b.jobPost.list[s].poList[r].itemList[l].qty="",b.jobPost.list[s].poList[r].initialWeightUpdate<0&&(b.jobPost.list[s].poList[r].initialWeightUpdate=E)}})),a(Object(c.a)({type:d.b},"".concat(o,"EntryData"),b))}({dispatch:y,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:i,entryListIdx:t,e:e})},onChangeDropdown:function(e){var n=e.selected,o=e.name;return function(e){var t=e.dispatch,n=e.moduleEntry,a=e.moduleName,i=e.activeSku,o=e.poListIdx,s=e.entryListIdx,r=e.selected,l=e.name,u=Object(j.a)({},n);"grade"===l&&(u.jobPost.list[i].poList[o].itemList[s].grade=r,u.jobPost.list[i].poList[o].edited=!0,u.jobPost.list[i].poList[o].itemList[s].gradeIsEmpty=!1,u.jobPost.list[i].poList[o].itemList[s].ripeness={label:null,value:null},u.jobPost.list[i].poList[o].itemList[s].ripenessIsEmpty=!1,u.jobPost.list[i].poList[o].itemList[s].note=null,u.jobPost.list[i].poList[o].itemList[s].noteIsEmpty=!1),"ripeness"===l&&(u.jobPost.list[i].poList[o].itemList[s].ripeness=r,u.jobPost.list[i].poList[o].edited=!0,u.jobPost.list[i].poList[o].itemList[s].ripenessIsEmpty=!1,u.jobPost.list[i].poList[o].itemList[s].note=null,u.jobPost.list[i].poList[o].itemList[s].noteIsEmpty=!1),"inboundType"===l&&(u.jobPost.list[i].poList[o].itemList[s].inboundType=r,u.jobPost.list[i].poList[o].edited=!0,u.jobPost.list[i].poList[o].itemList[s].inboundTypeIsEmpty=!1),t(Object(c.a)({type:d.b},"".concat(a,"EntryData"),u))}({dispatch:y,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:i,entryListIdx:t,selected:n,name:o})},uom:I,ripeness:k,inputWidth:n,item:e,className:k?null:"d-none",poListIdx:i}))),o.a.createElement("div",{className:"d-flex w-25 align-items-center justify-content-end input-height mb-0 p-0"},o.a.createElement("img",{src:f.a,alt:"delete icon",className:"w-1 cursor-pointer",onClick:function(e){return Object(u.e)({dispatch:y,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:i,entryListIdx:t,e:e,countQty:u.d})}})))}))),o.a.createElement("div",{className:"w-100 ml-5 pl-4 font-green mb-3 LatoBold cursor-pointer",onClick:function(){return function(e){var t=e.dispatch,n=e.moduleEntry,a=e.moduleName,i=e.activeSku,o=e.poListIdx,s=Object(j.a)({},n),r=s.jobPost.list[i].gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===s.jobPost.list[i].skuUuid})),l=s.jobPost.list[i].poList[o].itemList,u=l[(null===l||void 0===l?void 0:l.length)-1],m=u?u.grade:r[0];s.jobPost.list[i].poList[o].itemList.push({qty:"",grade:m,inboundType:{label:"",value:""},ripeness:null}),t(Object(c.a)({type:d.b},"".concat(a,"EntryData"),s))}({dispatch:y,moduleEntry:l,moduleName:p,activeSku:a,poListIdx:i})}},o.a.createElement("i",{className:"green iconU-entryAdd pr-2"}),"Add ".concat(U," (").concat(Object(b.e)(D)?Object(b.e)(D):D," ").concat(I?I.toUpperCase():"").concat(D>1?"s":""," left)")))},L=n(663),x=n(739),N=n(677),I=n(702),k=n(738),O=n(683),S=n(708),D=function(e){var t,n,s=e.setActiveSKU,l=e.hideSKUList,d=e.setHideSKUList,m=e.activeSku,p=e.moduleEntry,b=e.moduleName,v=e.updateEntry,f=e.setUpdateEntry,y=Object(r.c)(),g=Object(r.d)((function(e){return e.status})),h=Object(r.d)((function(e){return e.isLoading})),E=p.jobPost.list[m],j=E.skuName,D=E.skuNumber,U=E.poList,P=E.gradeList,C=(E.totalQty,E.unitOfMeassures),W=Object(u.z)({moduleEntry:p,activeSku:m}),T=Object(u.m)({moduleEntry:p}),q=Object(i.useState)({success:!1,name:null}),B=Object(a.a)(q,2),R=B[0],K=B[1],z=Object(i.useState)({show:!1,name:null}),A=Object(a.a)(z,2),Q=A[0],M=A[1],F=Object(i.useState)(!1),H=Object(a.a)(F,2),V=H[0],_=H[1],G=Object(i.useState)(),J=Object(a.a)(G,2),$=J[0],X=J[1],Y=Object(i.useState)(),Z=Object(a.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(i.useState)(!1),ae=Object(a.a)(ne,2),ie=ae[0],oe=ae[1],se=Object(i.useState)(["/inventory-entry/additional-inbound/weight-entry","/inventory-entry/additional-inbound/weight-entry/remove-sku","/inventory-entry/additional-inbound/weight-entry/add-sku"]),re=Object(a.a)(se,2);re[0],re[1];Object(i.useEffect)((function(){500===R.status?(X(!1),M({show:!1,name:Q.name})):200===R.status&&(M({show:!1,name:Q.name}),X(!0))}),[R]),Object(i.useEffect)((function(){$||K({success:!1,name:null})}),[$]);var ce=!(!R.success||!R.status);return o.a.createElement("div",{className:"w-100 entryList-m entryList-mobile pl-3"},o.a.createElement(O.a,{discard:V,module:"Inventory Entry - Stock Take",moduleEntry:p,close:function(){return _(!1)},discardEntry:function(e){return Object(L.o)({id:e,moduleName:b,dispatch:y})}}),o.a.createElement(I.a,{updateEntry:v,setUpdateEntry:f,status:g,moduleEntry:p,submit:function(){var e;return y((e={type:"CREATE_JOB_SHEET"},Object(c.a)(e,"".concat(b,"EntryData"),null),Object(c.a)(e,"".concat(b,"SummaryData"),null),e))},confirmation:Q,setConfirmation:M,isSaved:$,action:ee,setIsSaved:X,moduleName:b,totalSku:null===p||void 0===p||null===(t=p.jobPost)||void 0===t?void 0:t.list.length}),o.a.createElement(k.a,{isRequired:ie,module:p,setIsRequired:oe,moduleName:b,totalSku:null===p||void 0===p||null===(n=p.jobPost)||void 0===n?void 0:n.list.length}),o.a.createElement(N.b,{isLoading:h,moduleEntry:p,confirmation:Q,setConfirmation:M,isSuccess:ce,setAction:te,action:ee,save:function(){return Object(L.q)({name:"save",moduleEntry:p,moduleName:b,dispatch:y,setIsSuccess:K})},submit:function(){return Object(L.q)({name:"submit",moduleEntry:p,moduleName:b,dispatch:y,setIsSuccess:K,submitValidation:x.c,setActiveSKU:s})}}),o.a.createElement("div",{className:"mb-3 bg-white rounded-bottom rounded-top"},o.a.createElement("div",{className:"w-100 h-screen-title mr-0 d-flex align-items-center border-top border-left border-right border-bottom rounded-top border-soft-green p-3"},o.a.createElement("div",{className:"d-flex w-75"},o.a.createElement("div",{className:"".concat(l?"iconU-sideBarHideRight":"iconU-sideBarHideLeft"," emptyTextField fontSizeTitle mr-3"),onClick:function(){return d(!l)}}),o.a.createElement("div",{className:"mr-3 pr-1 d-flex align-items-center m-0 p-0 LatoBold"},"Weight Entry"),o.a.createElement("div",{className:"mr-3 iconU-sideBarDot d-flex align-items-center"}),o.a.createElement("div",{className:"mr-3 d-flex align-items-center font-green LatoBold"},"".concat(j," (").concat(D,")"))),o.a.createElement(S.a,{moduleEntry:p,moduleName:b,activeSku:m,dispatch:y})),o.a.createElement("div",{className:"w-100 h-screen-content-right mr-0 border-left border-right border-soft-green pl-3 pr-1 pt-3"},null===U||void 0===U?void 0:U.map((function(e,t){return o.a.createElement(w,{gradeList:P,inputWidth:"input-w-100",activeSku:m,poListIdx:t,poItem:e,moduleEntry:p,moduleName:b})}))),o.a.createElement("div",{className:"w-100 d-flex align-items-center p-3 border-left border-right border-bottom rounded-bottom LatoBold"},o.a.createElement("button",{type:"button",className:"btn ".concat(T?"bg-green":"bg-lineGrey","  text-white px-5 mr-3 LatoBold"),onClick:function(){return T?M({show:!0,name:"save"}):null}},"Save"),o.a.createElement("div",null,"Total Weight ",o.a.createElement("span",{className:"font-green"},"".concat(W," ").concat(null===C||void 0===C?void 0:C.toUpperCase()).concat(W>1?"s":""))))),o.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},o.a.createElement("div",{onClick:function(){return _(!0)},className:"red pr-3 fontSizeButton cursor-pointer"},o.a.createElement("i",{className:"iconU-entryTrash"})," Discard"),o.a.createElement("button",{onClick:function(){return T?Object(x.c)({setActiveSKU:s,moduleEntry:p,moduleName:b,dispatch:y,setConfirmation:M,setIsRequired:oe}):null},className:"btn px-5 py-2 text-white ".concat(T?"bg-green":"bg-lineGrey"," LatoBold no-shadow"),style:{height:"fit-content !important"}},"Submit")))};t.default=function(){var e=Object(r.d)((function(e){return e.inboundEntryData})),t=Object(i.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],d=Object(i.useState)(0),u=Object(a.a)(d,2),m=u[0],b=u[1];return e&&0!==(null===e||void 0===e?void 0:e.jobPost.list.length)?o.a.createElement("div",{className:"w-100"},o.a.createElement("div",{className:"w-100 d-md-flex justify-content-between scroll-y z-0"},o.a.createElement(p,{hideSKUList:c,activeSku:m,setActiveSKU:b,moduleName:"inbound",moduleEntry:e}),o.a.createElement(D,{setHideSKUList:l,hideSKUList:c,moduleName:"inbound",moduleEntry:e,activeSku:m}))):o.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100 h-screen"},o.a.createElement(s.a,{to:"/inventory-entry/additional-inbound"},"Please Select At Least 1 SKU"))}},665:function(e,t,n){"use strict";var a=n(664),i=n(4),o=n(659),s=n(1),r=n.n(s),c=n(682);t.a=function(e){var t,n,l=e.isEmpty,d=e.title,u=e.placeholder,m=e.options,p=e.selectedValue,b=e.showTitle,v=e.width,f=e.className,y=e.entryListIdx,g=e.onChangeDropdown,h=e.show,E=e.poListIdx,j=e.isDisabled,w=e.style,L=e.noMarginBottom,x=e.resetName,N=e.isMulti,I=e.hideResetOpt,k=Object(s.useState)(),O=Object(o.a)(k,2),S=O[0],D=O[1];Object(s.useEffect)((function(){"empty"===p&&D(!0)}),[p,l]);var U=!!l&&function(e){return Object(i.a)(Object(i.a)({},e),{},{border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})},P=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(y).concat(E)),C=null===P||void 0===P?void 0:P.getBoundingClientRect();Object(s.useEffect)((function(){C=null===P||void 0===P?void 0:P.getBoundingClientRect()}),[S]);var W=document.documentElement.clientWidth,T=[{label:"-".concat(x||d,"-"),value:null}];m&&(T=[].concat(Object(a.a)(T),Object(a.a)(m))),I&&(T=T.filter((function(e){return null===e||void 0===e?void 0:e.value})));var q,B=(null===(n=C)||void 0===n?void 0:n.bottom)>600?"top":"bottom";W<=500&&(B=(null===(q=C)||void 0===q?void 0:q.bottom)>400?"top":"bottom","Categories"===d&&(B="top"));return r.a.createElement("div",{style:w,className:"mr-0 ".concat(w?null:"mr-lg-3"," ").concat(L?null:"mb-3"," ").concat(v," ").concat(f," ").concat(h?null:"d-none")},r.a.createElement("div",{className:" pb-1 LatoBold ".concat(b?null:"d-none")},d),r.a.createElement(c.a,{inputId:"".concat(d,"_").concat(E,"_").concat(y),isMulti:N,isSearchable:!(W<500),isDisabled:j||!1,id:"dropdown".concat(y).concat(E),value:((null===p||void 0===p?void 0:p.value)||!!(null===p||void 0===p?void 0:p.length))&&p,menuIsOpen:S,menuPortal:!0,placeholder:x||u,options:T,onMenuOpen:function(){return D(!0)},onMenuClose:function(){return D(!1)},onChange:function(e){g(e),D(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(B),styles:{menuPortal:function(e){return Object(i.a)(Object(i.a)({},e),{},{zIndex:9999})},control:U,option:function(e,t){var n=t.isFocused,a=t.isSelected;return Object(i.a)(Object(i.a)({},e),{},{backgroundColor:a?"rgb(242, 250, 246, 0)":n?"rgb(242, 250, 246)":null,color:a?"black":"#a8b1be",cursor:"pointer",fontWeight:a?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:a?null:"#4abe84"}})}},theme:function(e){return Object(i.a)(Object(i.a)({},e),{},{borderRadius:4})}}))}},684:function(e,t,n){},706:function(e,t,n){e.exports=n.p+"static/media/asc.9b60817e.svg"},707:function(e,t,n){e.exports=n.p+"static/media/desc.bec03077.svg"},708:function(e,t,n){"use strict";var a=n(659),i=n(1),o=n.n(i),s=n(116),r=n(711),c=(n(709),n(710),n(684),n(4));var l=function(e){var t=e.showDate,n=e.selectDate,s=e.setShowDate;document.documentElement.clientWidth;var l=Object(i.useState)({startDate:new Date,endDate:new Date,key:"selection"}),d=Object(a.a)(l,2),u=d[0],m=d[1],p=Object(i.useState)(new Date),b=Object(a.a)(p,2),v=b[0],f=b[1],y=Object(i.useState)(),g=Object(a.a)(y,2),h=g[0],E=g[1],j=h?"text":"bg-green text-white",w=h?"bg-green text-white":"text",L=Object(i.useRef)(null);!function(e){var t=e.wrapperRef,n=e.showDate,a=e.setShowDate,o=e.selectDate;Object(i.useEffect)((function(){function e(e){n&&t.current&&!t.current.contains(e.target)&&(a(!n),o())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n])}({wrapperRef:L,showDate:t,setShowDate:s,selectDate:n}),Object(i.useEffect)((function(){m({startDate:new Date,endDate:new Date,key:"selection"}),f(new Date)}),[h]);return o.a.createElement("div",{ref:L,style:{width:"350px"},className:" mt-5 position-fixed bg-white border border-soft-green rounded z-100 d-flex flex-column justify-content-center ".concat(t?null:"d-none")},o.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},o.a.createElement("div",{className:" border border-soft-green d-flex rounded justify-content-between w-100 cursor-pointer"},o.a.createElement("span",{onClick:function(){return E(!h)},className:" ".concat(j," w-50  ").concat(h?"rounded-left":"rounded"," text-center p-2")},"Single Date"),o.a.createElement("span",{onClick:function(){return E(!h)},className:" ".concat(w," w-50 ").concat(h?"rounded":"rounded-right"," text-center p-2")},"Ranged Date"))),o.a.createElement(r.DateRangePicker,{className:h?null:"d-none",ranges:[u],onChange:function(e){return function(e){var t=e.newdate,n=e.dateRange,a=e.setDateRange,i=Object(c.a)({},n);i.startDate=t.selection.startDate,i.endDate=t.selection.endDate,a(i)}({newdate:e,dateRange:u,setDateRange:m})}}),o.a.createElement(r.Calendar,{className:h?"d-none":null,date:v,onChange:function(e){return f(e)}}),o.a.createElement("div",{className:"d-flex justify-content-between w-100 cursor-pointer p-3"},o.a.createElement("span",{onClick:function(){t&&(n(h?u:v),s())},className:" bg-green text-white w-100 border border-soft-green rounded text-center p-2"},"Confirm")))},d=n(706),u=n.n(d),m=n(707),p=n.n(m);t.a=function(e){var t,n,r=e.moduleEntry,c=e.moduleName,d=e.activeSku,m=e.dispatch,b=Object(i.useState)(),v=Object(a.a)(b,2),f=v[0],y=v[1],g=Object(i.useState)(),h=Object(a.a)(g,2),E=h[0],j=h[1],w=Object(i.useState)(),L=Object(a.a)(w,2),x=L[0],N=L[1],I=Object(i.useState)(),k=Object(a.a)(I,2),O=k[0],S=k[1],D=document.documentElement.clientWidth;return(null===(t=n=Object(s.a)({date:E,datePicker:!0}))||void 0===t?void 0:t.startDate)&&(n="".concat(n.startDate," - ").concat(n.endDate)),Object(i.useEffect)((function(){Object(s.h)({moduleEntry:r,moduleName:c,activeSku:d,dispatch:m,sortBy:f})}),[f,d]),Object(i.useEffect)((function(e){x||Object(s.d)({moduleEntry:r,moduleName:c,activeSku:d,dispatch:m,date:E})}),[E,x,d]),Object(i.useEffect)((function(e){y(),j()}),[O,d]),o.a.createElement("div",{className:"w-25 d-flex justify-content-end"},o.a.createElement("div",{style:{height:40},className:"".concat("repack"===c?"d-none":null," border-soft-green border-top border-bottom border-left m-0 rounded-left green h6 d-flex align-items-center justify-content-center px-2 text-nowrap ").concat(D>500&&E?null:"d-none")},n),o.a.createElement("div",{style:{height:40,minWidth:40},className:"".concat(E?"iconU-modalClose red":"iconU-filterDate emptyTextField"," border-soft-green border ").concat(E?"rounded-right":"rounded"," ").concat("repack"===c?"d-none":null," d-flex align-items-center justify-content-center mr-3 cursor-pointer"),onClick:function(){return E?S((function(e){return!e})):N((function(e){return!e}))}}),o.a.createElement(l,{showDate:x,selectDate:function(e){return j(e)},setShowDate:function(e){return N(e)}}),o.a.createElement("img",{style:{height:40,minWidth:40},src:f?p.a:u.a,onClick:function(){return y(!f)},className:"p-2 border rounded border-soft-green cursor-pointer"}))}},739:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return g}));var a=n(4),i=n(65),o=n.n(i),s=n(71),r=n(664),c=n(91),l=n(22),d=n.n(l),u=n(19),m=n(663),p=n(672),b=n(116),v=n(662),f=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,l,f,y,g,h,E,j,w,L,x,N,I,k,O,S,D,U,P;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.idx,l=t.checked,f=t.dispatch,y=t.setLocalEntryData,g=t.moduleName,h=t.moduleSummary,E=t.moduleEntry,j=t.warehouseUuid,w=t.areaId,L=t.zeroQuantity,(x=Object(r.a)(h))[i].checked=l,f((n={type:u.c},Object(s.a)(n,"".concat(g,"summaryData"),x),Object(s.a)(n,"finish",!1),n)),N=null===x||void 0===x?void 0:x.filter((function(e){if(e.checked)return e})),I=[],E&&E.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&I.push(t.skuUuid)})),k=[],O=N.map(function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,i,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:j,dispatch:f,areaId:w.value,moduleName:g,zeroQuantity:L});case 8:(i=e.sent)&&(s=t.gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===t.skuUuid})),r=i.map((function(e){e.itemList=[{qty:e.initialWeight,grade:s[0],expiryDate:null===e||void 0===e?void 0:e.expiryDate,expiryDateText:Object(b.a)({date:null===e||void 0===e?void 0:e.expiryDate})}],e.initialWeightUpdate=e.inboundQty-e.initialWeight,e.initialWeightScreenUpdate=parseInt(0);var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Number.isInteger(e.initialWeight)?parseInt(e.initialWeight):parseFloat(e.initialWeight),e})),t.poList=r,k.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(O);case 11:e.sent,f({type:u.g,finish:!0}),S=[],E&&(S=E.jobPost.list.concat(k)),E||(S=k),(D=x[i]).checked||(S=S.filter((function(e){return e.skuUuid!==D.skuUuid}))),U=null===E||void 0===E||null===(a=E.jobPost)||void 0===a?void 0:a.id,P={jobPost:{id:U||0,warehouseSource:j,warehouseDestination:j,areaSource:parseInt(null===w||void 0===w?void 0:w.value),areaName:null===w||void 0===w?void 0:w.label,areaDestination:parseInt(null===w||void 0===w?void 0:w.value),list:S.sort((function(e,t){return Object(v.f)(e,t)}))}},0===S.length&&f(Object(s.a)({type:u.b},"".concat(g,"EntryData"),null)),y(P);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,s,l,u,v,f,y,g,h,E,j,w,L,x,N;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.zeroQuantity,a=t.idx,i=t.checked,s=t.dispatch,l=t.moduleName,u=t.moduleSummary,v=t.moduleEntry,f=t.warehouseUuid,y=t.areaId,g=t.preAddHandler,(h=Object(r.a)(u))[a].checked=i,E=null===h||void 0===h?void 0:h.filter((function(e){if(e.checked)return e})),j=[],v&&v.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&j.push(t.skuUuid)})),w=[],L=E.map(function(){var e=Object(c.a)(o.a.mark((function e(t,a){var i,r,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(p.a)({skuId:t.skuUuid});case 4:return i=e.sent,t.gradeList=i,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:f,dispatch:s,areaId:y.value,moduleName:l,zeroQuantity:n});case 8:(r=e.sent)&&(c=t.gradeList.filter((function(e){return(null===e||void 0===e?void 0:e.value)===t.skuUuid})),u=r.map((function(e){e.itemList=[{qty:e.initialWeight,grade:c[0],expiryDate:null===e||void 0===e?void 0:e.expiryDate,expiryDateText:Object(b.a)({date:null===e||void 0===e?void 0:e.expiryDate})}],e.initialWeightScreenUpdate=parseInt(0),e.initialWeightUpdate=e.inboundQty-e.initialWeight;var n=e.expiryDate?d()(e.expiryDate).valueOf():null,a=e.inboundDate?d()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Object(b.e)(e.initialWeight)?Object(b.e)(e.initialWeight):e.initialWeight,e})),t.poList=u,t.isNewItem=!0,w.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(L);case 10:e.sent,x=[],v&&(x=v.concat(w)),v||(x=w),(N=h[a]).checked||(x=x.filter((function(e){return e.skuUuid!==N.skuUuid}))),g(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.setActiveSKU,n=e.moduleEntry,i=e.moduleName,o=e.setConfirmation,r=e.dispatch,c=e.setIsRequired,l=[],d=Object(a.a)({},n),m=n.jobPost.list.map((function(e){return e.poList.map((function(e){return e.itemList.map((function(t){var n,a,i=t.qty,o=t.grade,s=t.ripeness,r=t.note;"Fruits"===e.category?0!=i&&!isNaN(i)||null!==(null===o||void 0===o?void 0:o.value)?"Waste"===(null===t||void 0===t||null===(n=t.grade)||void 0===n?void 0:n.label)||"Semi Waste"===(null===t||void 0===t||null===(a=t.grade)||void 0===a?void 0:a.label)?(isNaN(i)||""===i||null===i?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||r?t.noteIsEmpty=!1:t.noteIsEmpty=!0):(isNaN(i)||""===i||null===i?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,(null===s||void 0===s?void 0:s.value)?t.ripenessIsEmpty=!1:t.ripenessIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||r?t.noteIsEmpty=!1:t.noteIsEmpty=!0):(t.qtyIsEmpty=!1,t.gradeIsEmpty=!1,t.ripenessIsEmpty=!1,t.noteIsEmpty=!1):0!=i&&!isNaN(i)||null!==(null===o||void 0===o?void 0:o.value)?(isNaN(i)||""===i||null===i?t.qtyIsEmpty=!0:t.qtyIsEmpty=!1,(null===o||void 0===o?void 0:o.value)?t.gradeIsEmpty=!1:t.gradeIsEmpty=!0,"Waste"!==(null===o||void 0===o?void 0:o.label)||r?t.noteIsEmpty=!1:t.noteIsEmpty=!0):(t.qtyIsEmpty=!1,t.gradeIsEmpty=!1,t.ripenessIsEmpty=!1,t.noteIsEmpty=!1);return(null===t||void 0===t?void 0:t.qtyIsEmpty)||(null===t||void 0===t?void 0:t.gradeIsEmpty)||(null===t||void 0===t?void 0:t.ripenessIsEmpty)||(null===t||void 0===t?void 0:t.noteIsEmpty)||(null===t||void 0===t?void 0:t.qtyToCompareIsEmpty)?l.push(!1):l.push(!0),t})),e})),e})),p=!1;m.map((function(e){e.poList.map((function(e){e.itemList.map((function(e){(null===e||void 0===e?void 0:e.qty)>=0&&(p=!0)}))}))})),d.jobPost.list=m,r(Object(s.a)({type:u.b},"".concat(i,"EntryData"),d)),!l.includes(!1)&&p?"function"===typeof o&&o({show:!0,name:"submit"}):("function"===typeof o&&o({show:!1,name:null}),"function"===typeof c&&c(!0)),Object(v.b)({setActiveSKU:t,moduleEntry:n,moduleName:i})}},834:function(e,t,n){"use strict";var a=n(1),i=n.n(a);t.a=function(e){var t=e.placeholder,n=e.inputWidth,a=e.values,o=e.showTitle,s=e.title,r=e.isEmpty,c=e.onChange,l=e.poListIdx,d=e.entryListIdx;return i.a.createElement("div",{className:" ".concat(n," mb-3 mr-3")},i.a.createElement("div",{className:" pb-1 LatoBold ".concat(o?null:"d-none")},s),i.a.createElement("div",{className:"".concat(r?"border-red":"border"," rounded border-soft-green w-100 bg-white d-flex align-items-center input-height px-2 mr-3")},i.a.createElement("input",{id:"noteob_".concat(l,"_").concat(d),autoComplete:"off",type:"text",className:"w-100 plain-input",value:a,name:"reason",placeholder:t,onChange:function(e){return c(e)}})))}}}]);
//# sourceMappingURL=30.3c3dbc15.chunk.js.map