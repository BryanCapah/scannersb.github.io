(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[12],{662:function(t,e,n){"use strict";n.d(e,"t",(function(){return h})),n.d(e,"a",(function(){return y})),n.d(e,"k",(function(){return g})),n.d(e,"B",(function(){return k})),n.d(e,"z",(function(){return x})),n.d(e,"n",(function(){return j})),n.d(e,"A",(function(){return w})),n.d(e,"c",(function(){return O})),n.d(e,"s",(function(){return I})),n.d(e,"o",(function(){return L})),n.d(e,"y",(function(){return P})),n.d(e,"p",(function(){return N})),n.d(e,"r",(function(){return U})),n.d(e,"u",(function(){return S})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return E})),n.d(e,"w",(function(){return M})),n.d(e,"j",(function(){return T})),n.d(e,"E",(function(){return R})),n.d(e,"x",(function(){return C})),n.d(e,"g",(function(){return W})),n.d(e,"f",(function(){return q})),n.d(e,"i",(function(){return Q})),n.d(e,"h",(function(){return A})),n.d(e,"v",(function(){return F})),n.d(e,"l",(function(){return z})),n.d(e,"m",(function(){return G})),n.d(e,"D",(function(){return H})),n.d(e,"q",(function(){return _})),n.d(e,"b",(function(){return V})),n.d(e,"C",(function(){return J}));var a=n(664),r=n(65),o=n.n(r),i=n(71),u=n(4),s=n(91),c=n(1),d=n.n(c),l=n(19),p=n(663),v=n(672),f=n(22),m=n.n(f),b=n(116),h=function(t){var e=t.moduleEntry,n=0;return e&&e.jobPost.list.map((function(t){t.checked&&(n+=1)})),n},y=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,s,c,d,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.dispatch,r=e.moduleEntry,s=e.moduleSummary,c=e.moduleName,d=Object(u.a)({},s),r.map((function(t){d.jobPost.list.push(t)})),p=null===(n=d.jobPost.list)||void 0===n?void 0:n.sort((function(t,e){return W(t,e)})),d.jobPost.list=p,a(Object(i.a)({type:l.b},"".concat(c,"EntryData"),d.jobPost.list.length>0?d:null));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t){var e,n=t.data,a=!1;null===n||void 0===n||null===(e=n.poList)||void 0===e||e.map((function(t){t.edited&&(a=!0)}));return a},k=function(t){var e=t.moduleEntry,n=t.activeSku,a=0;return e&&e.jobPost.list[n].poList.map((function(t){t.itemList.map((function(t){var e=Number.isInteger(t.qty)?parseInt(t.qty):Number.parseFloat(t.qty?t.qty:0);a+=e}))})),a=Number.isInteger(a)?a:Number.parseFloat(a).toFixed(2)},x=function(t){var e=t.moduleEntry,n=t.activeSku,a=0;return e&&e.jobPost.list[n].poList.map((function(t){t.itemList.map((function(t){var e=Number.isInteger(t.pack)?parseInt(t.pack):Number.parseFloat(t.pack?t.pack:0);a+=e}))})),a=Number.isInteger(a)?a:Number.parseFloat(a).toFixed(2)},j=function(t){var e,n,a=t.moduleEntry,r=!1;null===a||void 0===a||null===(e=a.jobPost)||void 0===e||null===(n=e.list)||void 0===n||n.map((function(t){g({data:t})&&(r=!0)}));return r},w=function(t){return t?Number.isInteger(t)?t:Number.parseFloat(t).toFixed(2):0},O=function(t){var e=!1;return t.poList.map((function(t){t.itemList.map((function(t){(t.qtyIsEmpty||t.noteIsEmpty||t.outboundTypeIsEmpty||t.ripenessIsEmpty||t.gradeIsEmpty||t.packIsEmpty||t.packThresholdIsEmpty)&&(e=!0)}))})),e},I=function(t){var e=t.isLoading,n=t.summaryData;return!(void 0===n?null:n)&&!e||!e},L=function(t){var e=t.dispatch,n=t.moduleEntry,a=t.moduleName,r=t.idx,o=t.checked,s=Object(u.a)({},n);s.jobPost.list[r].checked=o,e(Object(i.a)({type:l.b},"".concat(a,"EntryData"),s))},P=function(t){var e=t.moduleList,n=0;return e&&e.map((function(t){var e=Number.isInteger(t.qty)?parseInt(t.qty):Number.parseFloat(t.qty?t.qty:0);n+=e})),n=Number.isInteger(n)?n:Number.parseFloat(n).toFixed(2)},N=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.dispatch,a=e.moduleEntry,r=e.moduleName,s=Object(u.a)({},a),c=a.jobPost.list.filter((function(t){if(t.checked)return t})),s.jobPost.list=c,c.length>0?n(Object(i.a)({type:l.b},"".concat(r,"EntryData"),s)):0===c.length&&Object(p.o)({id:s.jobPost.id,moduleName:r,dispatch:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(t){var e=t.dispatch,n=t.moduleSummary,a=t.moduleName,r=Object(u.a)({},n);r.jobPost.list.map((function(t){t.checked=!0})),e(Object(i.a)({type:l.b},"".concat(a,"EntryData"),r))},S=function(t){var e=t.dispatch,n=t.selected;n&&e({type:l.j,areaId:n})},D=function(t){var e=t.activeSku,n=t.moduleEntry,a=t.poListIdx,r=t.entryListIdx,o=parseInt(0);return n.jobPost.list[e].poList[a].itemList.map((function(t,e){e!==r&&(o+=Number.isInteger(null===t||void 0===t?void 0:t.qty)?null===t||void 0===t?void 0:t.qty:parseFloat(null===t||void 0===t?void 0:t.qty))})),o},E=function(t){var e=t.dispatch,n=t.moduleEntry,a=t.moduleName,r=t.activeSku,o=t.poListIdx,s=t.entryListIdx,c=(t.e,t.countQty),d=Object(u.a)({},n),p=c({moduleEntry:n,activeSku:r,poListIdx:o,entryListIdx:s}),v=d.jobPost.list[r].poList[o].initialWeight;d.jobPost.list[r].poList[o].initialWeightScreenUpdate=v-p,d.jobPost.list[r].poList[o].itemList.splice(s,1),0===d.jobPost.list[r].poList[o].itemList.length&&(d.jobPost.list[r].poList[o].edited=!1),e(Object(i.a)({type:l.b},"".concat(a,"EntryData"),d))},M=function(t){var e,n,a=t.moduleName,r=t.search,o=t.updateList,i=t.dispatch,u=t.zeroQuantity,s=t.stockMovementTargetRepack,c=t.isMovement;c||(0,(e={dispatch:i,zeroQuantity:u}).dispatch)({type:"SET_ZERO_QUANTITY",data:!e.zeroQuantity}),c&&(0,(n={dispatch:i,stockMovementTargetRepack:s}).dispatch)({type:"SET_MOVEMENT_TARGET_REPACK",data:!n.stockMovementTargetRepack}),r&&o(!u,!s,a)},T=function(t,e,n,a,r,o){var u,s,c=document.documentElement.clientWidth<=500?100:"auto",l=null===e||void 0===e?void 0:e.map((function(t){return t.value})),p=null===t||void 0===t?void 0:t.map((function(t,r){if(l.includes(t.skuUuid)){var u=null;e.map((function(e){e.value===t.skuUuid&&(u=e.label)}));var s=Number(o?null===t||void 0===t?void 0:t.totalMove:null===t||void 0===t?void 0:t.totalPack)+(o?function(t){var e=t.activeSku,n=t.moduleEntry,a=t.grade,r=(t.slot,0);return n.jobPost.list[e].poList.map((function(t){t.itemList.map((function(t){(null===t||void 0===t?void 0:t.qty)&&t.grade.label===a&&(r+=Number(null===t||void 0===t?void 0:t.qty))}))})),r}({activeSku:n,moduleEntry:a,grade:u,slot:null===t||void 0===t?void 0:t.slot}):function(t){var e=t.activeSku,n=t.moduleEntry,a=t.grade,r=t.slot,o=0;return n.jobPost.list[e].poList[0].itemList.map((function(t){var e;(null===t||void 0===t?void 0:t.pack)&&t.grade.label===a&&(null===(e=t.slot)||void 0===e?void 0:e.value)==r&&(o+=Number(null===t||void 0===t?void 0:t.pack))})),o}({activeSku:n,moduleEntry:a,grade:u,slot:null===t||void 0===t?void 0:t.slot})),c=t.targetUom,d=t.targetUos,p=s/Number(o?d:c)*100,v=s-t.targetUos,f=s-t.targetUom;return Object(i.a)({warehouse:t.warehouse,skuUuid:t.skuUuid,skuName:t.skuName,targetDate:t.targetDate,targetUom:t.targetUom,targetUos:t.targetUos,repackTargetRemaining:f>0?0:f,movementTargetRemaining:v>0?0:v,slot:t.slot,totalPack:s,totalMove:t.totalMove,no:r+1,grade:u},o?"%Moved":"%Repack","".concat(null===p||void 0===p?void 0:p.toFixed(2),"%"))}}));if(p=null===(u=p)||void 0===u?void 0:u.filter((function(t){return void 0!==t})),null===r||void 0===r?void 0:r.length){var v=r.map((function(t){return Number.parseInt(null===t||void 0===t?void 0:t.value)}));v.includes(null)||(p=p.filter((function(t){return v.includes(Number.parseInt(t.slot))})))}return(p=null===(s=p)||void 0===s?void 0:s.map((function(t,e){return t.no=e+1,t})))||(p=[]),{data:p,columns:o?[{Header:"Grade",placeholder:"Grade",accessor:"grade",width:300},{Header:"Total Movement",placeholder:"Total Movement",accessor:"totalPack",width:c,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"},className:"flex-end !important",headerClassName:"flex-end !important"},{Header:"Target Remaining",placeholder:"Target Remaining",accessor:"movementTargetRemaining",Cell:function(t){var e=t.value;return d.a.createElement("div",{className:e<0?"red":"green"},e)},style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:c},{Header:"Target Movement",placeholder:"Target Movement",accessor:"targetUos",width:c,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"}},{Header:"%Moved",placeholder:"%Moved",accessor:"%Moved",width:c,style:{textAlign:"right",display:"flex",justifyContent:"flex-end"}}]:[{Header:"Slot",placeholder:"Slot",accessor:"slot",width:70,style:{textAlign:"left",display:"end",justifyContent:"flex-end"}},{Header:"Grade",placeholder:"Grade",accessor:"grade",width:300},{Header:"Total Pack",placeholder:"Total Pack",accessor:"totalPack",style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:c},{Header:"Target Remaining",placeholder:"Target Remaining",accessor:"repackTargetRemaining",Cell:function(t){var e=t.value;return d.a.createElement("div",{className:e<0?"red":"green"},e)},style:{textAlign:"right",display:"flex",justifyContent:"flex-end"},width:c},{Header:"Target Pack",placeholder:"Target Pack",accessor:"targetUom",width:c,style:{textAlign:"right !important",display:"flex",justifyContent:"flex-end"}},{Header:"%Repack",placeholder:"%Repack",accessor:"%Repack",width:c,style:{textAlign:"right",display:"flex",justifyContent:"flex-end"}}]}},R=function(t){t.data,t.targetRepacks,t.activeSku,t.dispatch},C=function(t){var e=t.moduleEntry,n=t.dispatch,a=[];e.jobPost.list.map((function(t){var e,n;(null===t||void 0===t||null===(e=t.poList[0])||void 0===e||null===(n=e.targetRepacks)||void 0===n?void 0:n.length)&&(a=a.concat(t.poList[0].targetRepacks))})),n({type:"IS_LOADING",targetRepacks:a})},W=function(t,e,n){var a=t.skuName.toUpperCase(),r=e.skuName.toUpperCase();return a<r?"desc"===n?1:-1:a>r?"desc"===n?-1:1:0},q=function(t,e,n,a){var r,o,i,u,s="stockMovement"===a?null===(r=t.targetMovementProgress[0])||void 0===r?void 0:r.totalMove:null===(o=t.targetRepackProgress[0])||void 0===o?void 0:o.totalPack,c="stockMovement"===a?null===(i=t.targetMovementProgress[0])||void 0===i?void 0:i.totalMove:null===(u=e.targetRepackProgress[0])||void 0===u?void 0:u.totalPack;return s<c?"tdesc"===n?-1:1:s>c?"tdesc"===n?1:-1:0},Q=function(t){var e,n,a,r=t.localEntryData,o=t.moduleName,s=t.summary,c=t.dispatch,d=t.setLocalEntryData,p=t.warehouseUuid,v=t.areaId,f=t.areaIdDesposition,m=null===s||void 0===s?void 0:s.filter((function(t){return t.checked})),b={jobPost:{id:0,warehouseSource:p,warehouseDestination:p,areaSource:null===v||void 0===v?void 0:v.value,areaName:null===v||void 0===v?void 0:v.label,areaDestination:null===f||void 0===f?void 0:f.value,areaDestinationName:null===f||void 0===f?void 0:f.label,list:m}},h=[];null===r||void 0===r||null===(e=r.jobPost)||void 0===e||e.list.map((function(t){return h.push(t.skuName)}));if(null===r||void 0===r||null===(n=r.jobPost)||void 0===n||null===(a=n.list)||void 0===a?void 0:a.length){b=Object(u.a)({},r);var y=null===m||void 0===m?void 0:m.filter((function(t){return!h.includes(t.skuName)}));b.jobPost.list=b.jobPost.list.concat(y)}d(b),c(Object(i.a)({type:l.b},"".concat(o,"EntryData"),b))},A=function(t){var e,n,a,r,o,s,c=t.localEntryData,d=t.moduleEntry,p=t.moduleName,v=t.summary,f=t.dispatch,m=(t.setLocalEntryData,t.warehouseUuid),b=t.areaId,h=t.areaIdDesposition,y=null===v||void 0===v?void 0:v.filter((function(t){return t.checked})),g=(null===b||void 0===b||b.value,null===b||void 0===b||b.label,null===h||void 0===h||h.value,null===h||void 0===h||h.label,Object(u.a)({},d));(null===(e=y)||void 0===e?void 0:e.length)&&(y=null===(r=y)||void 0===r?void 0:r.map((function(t){return t.isNewItem=!0,t})),g.jobPost.list=g.jobPost.list.concat(y));(null===c||void 0===c||null===(n=c.jobPost)||void 0===n||null===(a=n.list)||void 0===a?void 0:a.length)&&(y=null===c||void 0===c||null===(o=c.jobPost)||void 0===o||null===(s=o.list)||void 0===s?void 0:s.map((function(t){return t.isNewItem=!0,t})),g.jobPost.list=g.jobPost.list.concat(y));f(Object(i.a)({type:l.b},"".concat(p,"EntryData"),g))},F=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,i,u,s,c,d,l,f,b,h,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.summary,a=e.setLocalEntryData,r=e.warehouseUuid,i=e.areaId,u=e.areaIdDesposition,s=e.skuUuId,c=e.dispatch,d=e.moduleName,l=null===n||void 0===n?void 0:n.filter((function(t){return t.skuUuid===s})),t.next=4,Object(v.a)({skuId:l[0].skuUuid});case 4:return f=t.sent,t.next=7,Object(p.f)({skuId:l[0].skuUuid,warehouseUuid:r,dispatch:c,areaId:i.value,moduleName:d});case 7:(b=t.sent)&&(l[0].gradeList=f,h=null===b||void 0===b?void 0:b.poItems.map((function(t){t.itemList=[];var e=t.expiryDate?m()(t.expiryDate).valueOf():null,n=t.inboundDate?m()(t.inboundDate).valueOf():null;return t.targetMovements=null===b||void 0===b?void 0:b.targetMovements,t.expiryDate=e,t.inboundDate=n,t.skuUuid=l[0].skuUuid,t.uom=l[0].unitOfMeassures,t.category=l[0].category,t.initialWeight=Number.isInteger(t.initialWeight)?parseInt(t.initialWeight):parseFloat(t.initialWeight),t})),l[0].poList=h),y={jobPost:{id:0,warehouseSource:r,warehouseDestination:r,areaSource:null===i||void 0===i?void 0:i.value,areaName:null===i||void 0===i?void 0:i.label,areaDestination:null===u||void 0===u?void 0:u.value,areaDestinationName:null===u||void 0===u?void 0:u.label,list:l}},a(y);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,s,c,d,f,b,h,y,g,k,x;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,a=e.moduleName,r=e.moduleEntry,s=e.activeSku,c=Object(u.a)({},r),d=c.jobPost.areaSource,f=c.jobPost.list[s],b=f.skuUuid,h=f.warehouseId,!(null===(y=f.poList)||void 0===y?void 0:y.length)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(v.a)({skuId:c.jobPost.list[s].skuUuid});case 8:return g=t.sent,t.next=11,Object(p.f)({skuId:b,warehouseUuid:h,dispatch:n,areaId:d,moduleName:a});case 11:(k=t.sent)&&(c.jobPost.list[s].gradeList=g,x=null===k||void 0===k?void 0:k.poItems.map((function(t){t.itemList=[];var e=t.expiryDate?m()(t.expiryDate).valueOf():null,n=t.inboundDate?m()(t.inboundDate).valueOf():null;return t.targetMovements=null===k||void 0===k?void 0:k.targetMovements,t.expiryDate=e,t.inboundDate=n,t.skuUuid=c.jobPost.list[s].skuUuid,t.uom=c.jobPost.list[s].unitOfMeassures,t.category=c.jobPost.list[s].category,t.initialWeight=Number.isInteger(t.initialWeight)?parseInt(t.initialWeight):parseFloat(t.initialWeight),t})),c.jobPost.list[s].poList=x),n(Object(i.a)({type:l.b},"".concat(a,"EntryData"),c));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,s,c,d,f,m,b,h,y,g,k,x,j,w;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.dispatch,r=e.moduleName,s=e.moduleEntry,c=e.activeSku,d=Object(u.a)({},s),d.jobPost.areaSource,f=d.jobPost.list[c],m=f.skuUuid,b=f.warehouseId,h=f.poList,y=f.unitOfMeassures,g=f.packSize,k=f.category,!(null===h||void 0===h?void 0:h.length)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(v.a)({skuId:m});case 8:return x=t.sent,t.next=11,Object(p.d)({skuId:m,warehouseId:b,uom:y});case 11:return j=t.sent,t.next=14,Object(p.d)({skuId:m,warehouseId:b,uom:y});case 14:t.sent,d.jobPost.list[c].gradeList=x,w=[{itemList:[],expiryMs:null,inBoundyMs:null,expiryDate:null,inboundDate:null,packSize:g,category:k,initialWeight:Number.isInteger(null===j||void 0===j?void 0:j.data.totalWeight)?parseInt(null===j||void 0===j?void 0:j.data.totalWeight):parseFloat(null===j||void 0===j?void 0:j.data.totalWeight),targetRepacks:null===j||void 0===j?void 0:j.data.targetRepacks,skuUuid:m,uom:null===j||void 0===j||null===(n=j.data)||void 0===n?void 0:n.uom}],d.jobPost.list[c].poList=w,a(Object(i.a)({type:l.b},"".concat(r,"EntryData"),d));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(t){var e=t.summary,n=t.setSummary,r=t.idx,o=t.checked,i=Object(a.a)(e);i[r].checked=o,n(i)},_=function(t){var e=t.localEntryData,n=t.dispatch,a=Object(u.a)({},e);a.jobPost.list=a.jobPost.list.map((function(t){return t.poList.map((function(t){return t.itemList.map((function(e){return e.qtyIsEmpty=!1,e.qtyIsEmpty=!1,e.gradeIsEmpty=!1,e.ripenessIsEmpty=!1,e.noteIsEmpty=!1,e.qtyToCompareIsEmpty=!1,e.qty=t.initialWeight,e.ripeness={},e.expiryDate=null===t||void 0===t?void 0:t.expiryDate,e.expiryDateText=Object(b.a)({date:null===t||void 0===t?void 0:t.expiryDate}),e})),t})),t})),n({type:l.b,stockTakeEntryData:e})},B=function(t){var e=t.moduleEntry,n=[],a=[],r=[],o=[];return e.jobPost.list.map((function(t,e){t.poList.map((function(t,i){t.itemList.map((function(u,s){(u.qtyIsEmpty||u.gradeIsEmpty||u.ripenessIsEmpty||u.reasonIsEmpty||u.noteIsEmpty||u.packIsEmpty||u.packThresholdIsEmpty)&&(n.push(e),r.push(i),o.push(s),u.gradeIsEmpty&&a.push("Grade"),(u.packIsEmpty||u.packThresholdIsEmpty)&&a.push("pack"),u.qtyIsEmpty&&("gram"===t.uom||"kg"===t.uom?a.push("wgt"):a.push("qty")),u.reasonIsEmpty&&a.push("Reason"),u.ripenessIsEmpty&&a.push("Ripeness"),u.noteIsEmpty&&a.push("note"))}))}))})),{requiredSku:n,requiredName:a,requiredPo:r,requiredItem:o}},V=function(){var t=Object(s.a)(o.a.mark((function t(e){var n,a,r,i,u,s,c,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.setActiveSKU,a=e.moduleEntry,t.next=3,B({moduleEntry:a});case 3:if(r=t.sent,i=r.requiredSku,u=r.requiredName,s=r.requiredPo,c=r.requiredItem,!(null===i||void 0===i?void 0:i.length)){t.next=16;break}if("function"!==typeof n){t.next=12;break}return t.next=12,n(i[0]);case 12:return t.next=14,document.getElementById("".concat(u[0],"_").concat(s[0],"_").concat(c[0]));case 14:(d=t.sent)&&d.focus();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(t){var e,n,a=t.data,r=t.moduleEntry,o=t.moduleName,i=Object(u.a)({},null===a||void 0===a?void 0:a.data),s=Object.assign({},JSON.parse(JSON.stringify(r)));return i.list.map((function(t){t.poList.map((function(e){s.jobPost.list=s.jobPost.list.map((function(n){return n.poList.map((function(a){var r=0,i=(null===e||void 0===e?void 0:e.expiryDate)?e.expiryDate:null;if(a.itemList.map((function(t){return r+=Number(t.qty)})),t.skuUuid===n.skuUuid&&e.wmsPoSkuCode===a.wmsPoSkuCode&&a.codeGrade===e.codeGrade&&(null===a||void 0===a?void 0:a.expiryDate)===i&&e.initialWeight!==a.initialWeight&&"repack"!==o){var u=e.initialWeight?e.initialWeight:a.initialWeight;return a.initialWeight=u,a.initialWeightFormatted=null===u||void 0===u?void 0:u.toString(),a.initialWeightScreenUpdate=(u-r).toString(),a}if(t.skuUuid===n.skuUuid&&e.wmsPoSkuCode===a.wmsPoSkuCode&&a.codeGrade===e.codeGrade&&(null===a||void 0===a?void 0:a.expiryDate)===i&&e.initialWeight===a.initialWeight&&"repack"!==o)return a;if(t.skuUuid===n.skuUuid&&e.wmsPoSkuCode===a.wmsPoSkuCode&&a.codeGrade===e.codeGrade&&(null===a||void 0===a?void 0:a.expiryDate)===i&&"repack"===o){var s=t.totalQty>0?t.totalQty:n.totalQty;return a.initialWeight=s,a.totalQty=s,a.initialWeightFormatted=null===s||void 0===s?void 0:s.toString(),a.initialWeightScreenUpdate=(s-r).toString(),a}return a})),n}))}))})),s.jobPost.list=null===s||void 0===s||null===(e=s.jobPost)||void 0===e||null===(n=e.list)||void 0===n?void 0:n.map((function(t){var e=0;return t.poList.map((function(t){return e+=Number(t.initialWeight)})),t.totalQty=e,t})),s}},663:function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"l",(function(){return h})),n.d(e,"w",(function(){return y})),n.d(e,"a",(function(){return g})),n.d(e,"e",(function(){return k})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return j})),n.d(e,"k",(function(){return w})),n.d(e,"d",(function(){return O})),n.d(e,"o",(function(){return I})),n.d(e,"f",(function(){return L})),n.d(e,"x",(function(){return P})),n.d(e,"y",(function(){return N})),n.d(e,"r",(function(){return U})),n.d(e,"s",(function(){return S})),n.d(e,"t",(function(){return D})),n.d(e,"q",(function(){return E})),n.d(e,"v",(function(){return M})),n.d(e,"p",(function(){return T})),n.d(e,"n",(function(){return R})),n.d(e,"m",(function(){return C})),n.d(e,"i",(function(){return W})),n.d(e,"j",(function(){return q})),n.d(e,"u",(function(){return Q})),n.d(e,"c",(function(){return A}));var a=n(664),r=n(4),o=n(71),i=n(65),u=n.n(i),s=n(91),c=n(47),d=n.n(c),l=n(845),p=n(116),v=n(19),f=n(672),m=n(662),b=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.version,t.prev=1,t.next=4,d()("/");case 4:r=t.sent,(o=r.data)&&(i=null===o||void 0===o?void 0:o.version,"function"===typeof n&&a!==i&&n({type:v.g,version:i})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.sessionId,r=e.setComplete,t.prev=1,n({type:v.e,status:null}),o="user/validate?sessionId=".concat(a),t.next=6,d()(o);case 6:return i=t.sent,s=i.data,c=i.headers,r(!0),s&&(s.sessionId=c["session-id"],(null===s||void 0===s?void 0:s.isSuccess)?n({type:v.e,user:s,status:null}):n({type:v.e,user:null,status:{message:"Unauthorized",code:401},statusMessage:s.message})),t.abrupt("return",!0);case 14:t.prev=14,t.t0=t.catch(1),l=Object(p.i)(t.t0),r(!0),n({type:"STATUS",status:l,user:null});case 19:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.email,t.prev=1,r="/user/signOut?email=".concat(a),t.next=5,d()(r);case 5:return n({type:v.m,user:null}),window.location.replace("https://dev-wms-web.sayurbox.tech/"),t.abrupt("return",!0);case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.sessionId,t.prev=1,r="/user/checkSession?sessionId=".concat(a),t.next=5,d()(r);case 5:(o=t.sent)&&((null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.isSuccess)||n({type:v.m,user:null})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),s=Object(p.i)(t.t0),n({type:v.e,user:null,status:{message:"Unauthorized",code:401},statusMessage:s.message});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,c,l,v,m,b,h,y,g;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.moduleName,e.setModule,e.dispatch,a=e.poNumber,r=e.warehouseUuid,o=e.areaId,e.areaName,e.setSkuList,i=e.setLocalEntryData,c=e.areaDestination,t.prev=1,v="",a.length>0&&(v="&wmsPoSkuCode=".concat(a)),r&&(v+="&warehouseUuid=".concat(r)),o&&(v+="&areaId=".concat(null===o||void 0===o?void 0:o.value)),m="/".concat(null===n||void 0===n?void 0:n.toLowerCase(),"/poByPoSkuCode? ").concat(v),t.next=9,d()(m);case 9:if(b=t.sent,h=b.data,b.status,!(null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l.length)){t.next=21;break}return(y={}).jobPost={},y.jobPost.list=[],g=h.data.map(function(){var t=Object(s.a)(u.a.mark((function t(e){var a,i,s,d,l,v,m,b,h,g,k,x,j,w,O,I,L,P,N,U,S,D,E,M,T,R;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=e.ripeness,m=e.expiryDate,b=e.codeGrade,h=e.inboundDate,g=e.inboundQty,k=e.initialWeight,x=e.photo,j=e.skuName,w=e.skuUuid,O=e.skuNumber,I=e.supplierId,L=e.supplierName,P=e.totalPack,N=e.uom,U=e.wmsPoSkuCode,S=e.slot,D=e.category,t.next=3,Object(f.a)({skuId:w});case 3:E=t.sent,M=null===E||void 0===E?void 0:E.filter((function(t){return t.label===j})),M=(null===(a=M)||void 0===a?void 0:a.length)?M[0]:{label:null,value:null},y.jobPost.id=0,y.jobPost.warehouseSource=r,y.jobPost.warehouseDestination=r,y.jobPost.areaSource=null===o||void 0===o?void 0:o.value,y.jobPost.areaName=null===o||void 0===o?void 0:o.label,"stockMovement"===n?(y.jobPost.areaDestinationName=null===c||void 0===c?void 0:c.label,y.jobPost.areaDestination=null===c||void 0===c?void 0:c.value):y.jobPost.areaDestination=null===o||void 0===o?void 0:o.value,(null===y||void 0===y||null===(i=y.jobPost)||void 0===i||null===(s=i.list)||void 0===s?void 0:s.length)&&(-1===(R=null===y||void 0===y||null===(T=y.jobPost.list)||void 0===T?void 0:T.findIndex((function(t,e){return(null===t||void 0===t?void 0:t.skuName)===j})))&&y.jobPost.list.push({category:D,packSize:P,checked:!0,gradeList:E,slot:S,skuUuid:w,skuNumber:O,skuName:j,warehouseId:r,unitOfMeassures:N,totalQty:k,photo:x,poList:[{wmsPoSkuCode:U,skuUuid:w,inboundDate:h,initialWeight:k,uom:N,expiryDate:m,supplierId:I,supplierName:L,codeGrade:b,inboundQty:g,totalPack:P,packSize:P,category:D,itemList:[{qty:k,grade:M,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(p.a)({date:m})}]}]}),R>=0&&(y.jobPost.list[R].totalQty+=k,y.jobPost.list[R].poList.push({wmsPoSkuCode:U,skuUuid:w,inboundDate:h,initialWeight:k,uom:N,expiryDate:m,supplierId:I,supplierName:L,codeGrade:b,inboundQty:g,totalPack:P,category:D,itemList:[{qty:k,grade:M,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(p.a)({date:m})}]}))),(null===y||void 0===y||null===(d=y.jobPost)||void 0===d||null===(l=d.list)||void 0===l?void 0:l.length)||y.jobPost.list.push({checked:!0,category:D,packSize:P,gradeList:E,skuUuid:w,skuNumber:O,skuName:j,warehouseId:r,unitOfMeassures:N,totalQty:k,photo:x,poList:[{wmsPoSkuCode:U,skuUuid:w,inboundDate:h,initialWeight:k,uom:N,expiryDate:m,supplierId:I,supplierName:L,codeGrade:b,inboundQty:g,totalPack:P,category:D,itemList:[{qty:k,grade:M,ripeness:{label:v,value:v},expiryDate:m,expiryDateText:Object(p.a)({date:m})}]}]});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=19,Promise.all(g);case 19:return t.next=21,i(y);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s,c,l,f,b,h,y,g,k,x,j,w,O,I,L,P,N;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.category,a=e.stockMovementTargetRepack,r=e.targetRepack,o=e.moduleName,i=e.zeroQuantity,s=e.singleView,c=e.module,l=e.setModule,f=e.dispatch,b=e.desc,h=e.warehouseUuid,y=e.areaId,g=e.areaIdDestination,k=e.transaction,t.prev=1,j="",b.length>0&&(j="&desc=".concat(b)),0===b.length&&(j="&desc="),h&&(j+="&warehouseUuid=".concat(h)),y&&(j+="&areaId=".concat(null===y||void 0===y?void 0:y.value)),"waste"===k&&(j+="&transaction=".concat(k)),"movement"===g&&(j+="&areaId=".concat(null===g||void 0===g?void 0:g.value)),"stockMovement"===o&&a&&(j+="&haveTargetMovement=".concat(a)),"repack"===o&&r&&(j+="&haveTargetRepack=".concat(r)),(null===n||void 0===n?void 0:n.length)&&(w="",n.map((function(t){w+="&categoryUuid=".concat(null===t||void 0===t?void 0:t.value)})),j+=w),O="oss/skus? ".concat(j),f({type:v.c,isLoading:!0}),l(P),t.next=17,d()(O);case 17:I=t.sent,L=I.data,I.status,P=[],N=null===c||void 0===c||null===(x=c.jobPost)||void 0===x?void 0:x.list,(null===L||void 0===L?void 0:L.data)||f({type:v.c,isLoading:!1}),null===L||void 0===L?void 0:L.data.map((function(t){if(Object(p.e)(t.totalQty),Object(p.e)(t.totalQty)<=0&&i&&"stockTake"===o){var e,n,a,r=null===N||void 0===N?void 0:N.filter((function(e){return e.skuUuid===t.skuUuid}));s&&(r=[]),P.push({targetMovementProgress:(null===(e=t.targetMovementProgress)||void 0===e?void 0:e.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(n=t.targetRepackProgress)||void 0===n?void 0:n.length)?t.targetRepackProgress:[],checked:(null===(a=r)||void 0===a?void 0:a.length)>0,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(p.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom})}if(Object(p.e)(t.totalQty)>0&&("stockTake"!==o||!i)){var u,c,d,l=null===N||void 0===N?void 0:N.filter((function(e){return e.skuUuid===t.skuUuid}));s&&(l=[]),P.push({targetMovementProgress:(null===(u=t.targetMovementProgress)||void 0===u?void 0:u.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(c=t.targetRepackProgress)||void 0===c?void 0:c.length)?t.targetRepackProgress:[],checked:(null===(d=l)||void 0===d?void 0:d.length)>0,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(p.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom})}})),P=P.sort((function(t,e){return Object(m.g)(t,e)})),l(P),f({type:v.c,isLoading:!1}),t.next=31;break;case 29:t.prev=29,t.t0=t.catch(1);case 31:case"end":return t.stop()}}),t,null,[[1,29]])})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s,c,l,f,b,h,y,g,k,x,j,w,O;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.category,a=e.zeroQuantity,r=e.moduleName,o=e.setModule,i=e.dispatch,s=e.desc,c=e.warehouseUuid,l=e.areaId,f=e.selectedSkusNumber,b=e.transaction,h=e.stockMovementTargetRepack,y=e.targetRepack,t.prev=1,g="",s&&(g="&desc=".concat(s)),c&&(g+="&warehouseUuid=".concat(c)),l&&(g+="&areaId=".concat(null===l||void 0===l?void 0:l.value)),"waste"===b&&(g+="&transaction=".concat(b)),"stockMovement"===r&&h&&(g+="&haveTargetMovement=".concat(h)),"repack"===r&&y&&(g+="&haveTargetRepack=".concat(y)),(null===n||void 0===n?void 0:n.length)&&(k="",n.map((function(t){k+="&categoryUuid=".concat(null===t||void 0===t?void 0:t.value)})),g+=k),x="oss/skus? ".concat(g),i({type:v.c,isLoading:!0}),o(O),t.next=15,d()(x);case 15:j=t.sent,w=j.data,j.status,O=[],null===w||void 0===w?void 0:w.data.map((function(t,e){if(f.includes(parseInt(t.skuNumber)))return!1;var n;(Object(p.e)(t.totalQty),Object(p.e)(t.totalQty)<=0&&a&&"stockTake"===r)&&O.push({targetMovement:(null===(n=t.targetMovementProgress)||void 0===n?void 0:n.length)?t.targetMovementProgress:[],gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],packSize:t.packSize,category:t.category,skuName:t.skuName,skuNumber:parseInt(t.skuNumber),skuUuid:t.skuUuid,totalQty:Object(p.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom});if(Object(p.e)(t.totalQty)>0&&("stockTake"!==r||!a)){var o,i,u={targetMovement:(null===(o=t.targetMovementProgress)||void 0===o?void 0:o.length)?t.targetMovementProgress:[],targetRepackProgress:(null===(i=t.targetRepackProgress)||void 0===i?void 0:i.length)?t.targetRepackProgress:[],checked:t.checked,gradeList:t.gradeList,photo:t.photo,poList:t.poList?t.poList:[],skuName:t.skuName,skuNumber:parseInt(t.skuNumber),packSize:t.packSize,category:t.category,skuUuid:t.skuUuid,totalQty:Object(p.e)(t.totalQty),unitOfMeassures:t.unitOfMeassures,warehouseId:t.warehouseId,originalUom:t.originalUom};O.push(u)}})),O=O.sort((function(t,e){return Object(m.g)(t,e)})),o(O),i({type:v.c,isLoading:!1}),t.next=27;break;case 25:t.prev=25,t.t0=t.catch(1);case 27:case"end":return t.stop()}}),t,null,[[1,25]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,i,c,l,m,b,h,y,g,k,x,j,w;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,a=e.moduleName,i=e.isExist,c=e.ripeness,!i){t.next=4;break}return n(Object(o.a)({type:v.g,isLoading:!1},"".concat(a,"FirstLoad"),!0)),t.abrupt("return");case 4:return t.prev=4,n({type:v.g,isLoading:!0}),h="".concat(a.toLowerCase(),"/unfinishedEntries"),t.next=9,d()(h);case 9:if(y=t.sent,g=y.data,console.log(g.data),0!==(null===(l=g.data)||void 0===l?void 0:l.length)&&g.data[0].list&&0!==(null===(m=g.data[0])||void 0===m||null===(b=m.list)||void 0===b?void 0:b.length)){t.next=15;break}return n(Object(o.a)({type:v.g,isLoading:!1},"".concat(a,"FirstLoad"),!0)),t.abrupt("return");case 15:if(k={jobPost:Object(r.a)({},g.data[0])},x=[],!g){t.next=24;break}return w=k.jobPost.list.map(function(){var t=Object(s.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checked=!0,"outbound"!==a){t.next=5;break}return t.next=4,Object(f.c)({dispatch:n});case 4:e.outboundTypeList=t.sent;case 5:if("stockTake"!==a){t.next=9;break}return t.next=8,Object(f.a)({skuId:e.skuUuid,dispatch:n});case 8:e.gradeList=t.sent;case 9:if("repack"!==a){t.next=13;break}return t.next=12,Object(f.a)({skuId:e.skuUuid,dispatch:n});case 12:e.gradeList=t.sent;case 13:if("waste"!==a){t.next=17;break}return t.next=16,Object(f.a)({skuId:e.skuUuid,dispatch:n});case 16:e.gradeList=t.sent;case 17:if("stockMovement"!==a){t.next=21;break}return t.next=20,Object(f.a)({skuId:e.skuUuid,dispatch:n});case 20:e.gradeList=t.sent;case 21:e.poList.map((function(t){t.category=e.category,t.skuUuid=e.skuUuid,t.uom=e.unitOfMeassures,t.ripenessLevel=0;var n=(e.unitOfMeassures,parseFloat(t.initialWeight));t.initialWeight=n;var r=0;return t.edited=t.itemList.length>0,t.itemList.map((function(n){return n.expiryDate=null===t||void 0===t?void 0:t.expiryDate,n.expiryDateText=Object(p.a)({date:null===t||void 0===t?void 0:t.expiryDate}),"stockTake"===a&&(n.ripeness=c.filter((function(t){var e;return(null===t||void 0===t?void 0:t.value)===(null===n||void 0===n||null===(e=n.ripeness)||void 0===e?void 0:e.value)})),n.ripeness=n.ripeness[0],n.grade=e.gradeList.filter((function(t){var e;return(null===t||void 0===t?void 0:t.value)===(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.value)})),n.grade=n.grade[0]),"repack"===a&&(n.grade=e.gradeList.filter((function(t){var e;return(null===t||void 0===t?void 0:t.value)===(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.value)})),n.grade=n.grade[0]),"outbound"===a&&(n.outboundType=e.outboundTypeList.filter((function(t){var e;return(null===t||void 0===t?void 0:t.value)===(null===n||void 0===n||null===(e=n.outboundType)||void 0===e?void 0:e.value)})),n.outboundType=n.outboundType[0]),"gram"===e.unitOfMeassures&&"kg"===e.unitOfMeassures||isNaN(n.qty)||(r+=parseInt(n.qty)),n})),t.initialWeightUpdate=t.inboundQty-r<=0?0:t.inboundQty-r,r>=t.inboundQty?t.initialWeightOver=r:t.initialWeightOver=0,t})),x.push(e);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=21,Promise.all(w);case 21:t.sent,k.jobPost.list=x,n((j={type:v.b},Object(o.a)(j,"".concat(a,"EntryData"),k),Object(o.a)(j,"isLoading",!1),Object(o.a)(j,"".concat(a,"FirstLoad"),!0),j));case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(4),n(Object(o.a)({type:v.k},"".concat(a,"FirstLoad"),!0)),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[4,26]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.skuId,a=e.warehouseId,r=e.uom,o="repack/totalWeightBySku?warehouseUuid=".concat(a,"&skuId=").concat(n,"&uom=").concat(r),t.next=4,d()(o);case 4:if(!(i=t.sent).data){t.next=7;break}return t.abrupt("return",i.data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,i,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,a=e.moduleName,r=e.dispatch,i=e.setDiscard,0!==n){t.next=5;break}return r(Object(o.a)({type:v.b},"".concat(a,"EntryData"),null)),"function"===typeof i&&i(!1),t.abrupt("return",!0);case 5:return t.prev=5,r(Object(o.a)({type:v.b},"".concat(a,"EntryData"),null)),s="".concat(a.toLowerCase(),"/discard?jobId=").concat(n),t.next=10,d()(s);case 10:return c=t.sent,c.data,"function"===typeof i&&i(!1),t.abrupt("return",!0);case 16:return t.prev=16,t.t0=t.catch(5),t.abrupt("return",!1);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s,c,l,p,v,f,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.skuId,a=e.warehouseUuid,r=e.areaId,o=e.dispatch,i=e.moduleName,s=e.zeroQuantity,t.prev=1,v="".concat(null===i||void 0===i?void 0:i.toLowerCase(),"/poBySkuId?skuId=").concat(n,"&warehouseUuid=").concat(a,"&areaId=").concat(r,"&zeroQuantity=").concat(s),t.next=5,d()(v);case 5:if(f=t.sent,(null===(m=f.data)||void 0===m||null===(c=m.data)||void 0===c||null===(l=c.poItems)||void 0===l?void 0:l.length)||o({type:"STATUS",status:{code:500,message:"There is no PO"}}),"stockMovement"!==i){t.next=10;break}return t.abrupt("return",{poItems:null===m||void 0===m?void 0:m.data.poItems,targetMovements:null===m||void 0===m?void 0:m.data.targetMovements});case 10:return t.abrupt("return",null===m||void 0===m||null===(p=m.data)||void 0===p?void 0:p.poItems);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return");case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,a=e.skuData,r=e.status,o=e.bulk,i=void 0===o||o,!1!==r&&null!==r&&null!==a||!0!==i){t.next=3;break}return t.abrupt("return",0);case 3:return t.prev=3,"/stocktake/rowValidationUpload",t.next=7,d()({method:"post",url:"/stocktake/rowValidationUpload",data:{data:a}}).then((function(t){if(!0!==i)return null===t||void 0===t?void 0:t.data.data;n({type:v.n,skuCodeValidated:null===t||void 0===t?void 0:t.data.data})}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,a=e.skuNumberData,r=e.bulk,o=void 0===r||r,!1!==(i=e.status)&&null!==i&&null!==a||!0!==o){t.next=3;break}return t.abrupt("return",0);case 3:return t.prev=3,"/oss/skuByNumbers",t.next=7,d()({method:"post",url:"/oss/skuByNumbers",data:{skuList:a}}).then((function(t){if(!0!==o)return null===t||void 0===t?void 0:t.data.data;n({type:v.n,skuNumberValidated:null===t||void 0===t?void 0:t.data.data})}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.dataCsv,r=e.setSubmitStatus,o=e.transaction,i=null,"stockTake"==o?i="/stocktake/submit":"movement"==o?i="/stockmovement/submit":"additionalOutbound"==o?i="/outbound/submit":"repacking"==o?i="/repack/submit":"waste"==o&&(i="/waste/submit"),t.prev=3,t.next=6,d()({method:"post",url:i,data:{source:"upload",jobPost:a[0]}}).then((function(t){var e,a;return!0===(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.isSuccess)?(n({type:v.k,status:200}),r("success")):!1===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.isSuccess)?(n({type:v.k,status:200}),r("failed")):r(!1),null===t||void 0===t?void 0:t.data}));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(3),r(!1),t.abrupt("return","error");case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(s.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dispatch,n=e.dataCsv,e.setSubmitStatus,e.transaction,"/stocktransfer/submit",t.next=4,d()({method:"post",url:"/stocktransfer/submit",data:{source:"upload",jobPost:n[0]}}).then((function(t){return null===t||void 0===t?void 0:t.data})).catch((function(t){var e;return null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.data}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,a=e.data,r=e.setSubmitStatus,"/repack/target_repacks/save",t.prev=2,t.next=5,d()({method:"post",url:"/repack/target_repacks/save",data:{data:a}}).then((function(t){var e,a;return!0===(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.isSuccess)?(n({type:v.k,status:200}),r("success")):!1===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.isSuccess)?(n({type:v.k,status:200}),r("failed")):r(!1),null===t||void 0===t?void 0:t.data}));case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(2),r(!1),t.abrupt("return","error");case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,i,s,c,l,f,b,h,y,g,k,x;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.moduleEntry,a=e.moduleName,i=e.setIsSuccess,s=e.dispatch,c=e.name,l=e.setActiveSKU,f=e.submitValidation,t.prev=1,b=Object.assign({},JSON.parse(JSON.stringify(n))),"submit"===c&&(b.jobPost.list=b.jobPost.list.filter((function(t){if(t.poList=t.poList.filter((function(t){return t.itemList.length})),t.poList.length)return t}))),s({type:v.g,isLoading:!0}),h="".concat(a.toLowerCase()).concat("submit"===c?"/submit":"/save"),t.next=8,d.a.post(h,b);case 8:if(y=t.sent,0!==(null===(g=y.data)||void 0===g?void 0:g.length)&&!1!==(null===g||void 0===g?void 0:g.isSuccess)){t.next=20;break}if(i({success:!0,name:c,status:500}),s({type:v.g,isLoading:!1}),!(null===g||void 0===g?void 0:g.data)){t.next=19;break}return k=Object(m.C)({data:g,moduleEntry:n}),t.next=17,s(Object(o.a)({type:v.b},"".concat(a,"EntryData"),k));case 17:return t.next=19,f({setActiveSKU:l,moduleEntry:k,moduleName:a,dispatch:s});case 19:return t.abrupt("return");case 20:return x=Object(r.a)({},b),"submit"===c?(i({success:!0,name:c,status:200}),s({type:v.g,isLoading:!1})):(x.jobPost.id=g.data.id,s(Object(o.a)({type:v.b},"".concat(a,"EntryData"),x)),i({success:!0,name:c,status:200}),s({type:v.g,isLoading:!1})),t.abrupt("return",!0);case 25:return t.prev=25,t.t0=t.catch(1),console.log(t.t0),Object(p.i)(t.t0),i({success:!0,name:null,status:500,isLoading:!1}),t.abrupt("return",!1);case 31:case"end":return t.stop()}}),t,null,[[1,25]])})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,i,s,c,l,p,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.moduleEntry,a=e.moduleName,r=e.dispatch,i=e.setUpdateEntry,r({type:v.g,isLoading:!0}),s=Object.assign({},JSON.parse(JSON.stringify(n))),c="".concat(a.toLowerCase(),"/reload_quantity"),t.next=6,d.a.post(c,s);case 6:if(l=t.sent,!(null===(p=l.data)||void 0===p?void 0:p.isSuccess)){t.next=21;break}if(r({type:v.g,isLoading:!1}),!(null===p||void 0===p?void 0:p.data)){t.next=19;break}return t.next=13,Object(m.C)({data:p,moduleEntry:n,moduleName:a});case 13:return f=t.sent,t.next=16,r(Object(o.a)({type:v.b},"".concat(a,"EntryData"),f));case 16:if("function"!==typeof i){t.next=19;break}return t.next=19,i(!0);case 19:t.next=22;break;case 21:"function"===typeof i&&i(!1);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s,c,p,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.e,a=e.dispatch,t.prev=1,"function"===typeof a&&a({type:v.g,isLoading:!0}),r=n.target.files[0],o={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"jpeg"},t.next=7,Object(l.a)(r,o);case 7:return i=t.sent,s=new File([i],i.name),(c=new FormData).append("files",s),"waste/uploadImages",t.next=14,d.a.post("waste/uploadImages",c);case 14:return p=t.sent,f=p.data,"function"===typeof a&&a({type:v.g,isLoading:!1}),t.abrupt("return",f.data[0]);case 20:t.prev=20,t.t0=t.catch(1),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.warehouseUuid,a=e.setAreaId,t.prev=1,r="inventory/wasteArea?warehouseUuid=".concat(n),t.next=5,d()(r);case 5:return o=t.sent,i=o.data,(s=null===i||void 0===i?void 0:i.data.map((function(t){return{label:t.areaName,value:t.id}})))&&a(s[0]),t.abrupt("return",s[0]);case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,t.prev=1,"/oss/warehouses",t.next=5,d()("/oss/warehouses");case 5:a=t.sent,r=a.data,n({type:"DATA_WAREHOUSE",data:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,r,o,i,s,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.warehouseUuid,o="inventory/syncHistories?warehouseUuid=".concat(r),t.next=4,d()(o);case 4:(i=t.sent)&&(l=Object(a.a)(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.data),l=null===(c=l)||void 0===c?void 0:c.map((function(t){return t.updatedAt=Object(p.b)({date:t.updatedAt}),t})),n({type:v.g,syncHistories:l}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,r,o,i,s,c,l,v,f,m,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.setDetail,s=e.id,c="inventory/syncHistoryDetail?historyId=".concat(s),t.next=4,d()(c);case 4:(null===(l=t.sent)||void 0===l||null===(n=l.data)||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.syncDetailDto)||void 0===o?void 0:o.length)&&(b=Object(a.a)(null===l||void 0===l||null===(v=l.data)||void 0===v||null===(f=v.data)||void 0===f?void 0:f.syncDetailDto),b=null===(m=b)||void 0===m?void 0:m.map((function(t){return t.updatedAt=Object(p.b)({date:t.updatedAt}),t})),i(b));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.warehouseUuid,a=e.setSubmit,r="/inventory/syncAllHistories?warehouseUuid=".concat(n),t.next=4,d.a.post(r);case 4:o=t.sent,a(o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(s.a)(u.a.mark((function t(e){var n,a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,e.categoryList,"/oss/categories",t.next=4,d()("/oss/categories");case 4:(o=t.sent)&&r({type:v.g,categoryList:null===o||void 0===o||null===(n=o.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.map((function(t){return{value:null===t||void 0===t?void 0:t.id,label:null===t||void 0===t?void 0:t.name}}))});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},672:function(t,e,n){"use strict";n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return m}));var a=n(65),r=n.n(a),o=n(91),i=n(47),u=n.n(i),s=n(19),c=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i,c,d,l,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.warehouseUuid,a=e.dispatch,o=e.type,i=void 0===o?"dropdown":o,t.prev=1,c="/inventory/warehouseArea?warehouseUuid=".concat(n),t.next=5,u()(c);case 5:if(d=t.sent,l=d.data,p=void 0===l?null:l,"csvValidator"!=i){t.next=12;break}a({type:s.o,warehouseAreaCsv:null===p||void 0===p?void 0:p.data.map((function(t){return{label:null===t||void 0===t?void 0:t.areaName,value:null===t||void 0===t?void 0:t.id}}))}),t.next=13;break;case 12:return t.abrupt("return",null===p||void 0===p?void 0:p.data.map((function(t){return{label:null===t||void 0===t?void 0:t.areaName,value:null===t||void 0===t?void 0:t.id}})));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,t.prev=1,"/inventory/ripenessLevel",t.next=5,u()("/inventory/ripenessLevel");case 5:return a=t.sent,o=a.data,i=null===o||void 0===o?void 0:o.data.map((function(t,e){return{label:t,value:String(t)}})),n({type:s.i,ripenessLevel:i}),t.abrupt("return",i);case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.skuId,e.dispatch,t.prev=1,a="/inventory/grade?skuId=".concat(n),t.next=5,u()(a);case 5:if(o=t.sent,!(i=o.data)){t.next=9;break}return t.abrupt("return",i.data.map((function(t){return{label:t.skuDescription,value:t.id,multiplier:t.parentToChildMultiplier,uom:t.uom}})));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.skuId,e.dispatch,a="/inventory/gradeRepacking?skuId=".concat(n),t.next=4,u()(a);case 4:if(o=t.sent,!(i=o.data)){t.next=8;break}return t.abrupt("return",i.data.map((function(t){var e=t.relationType;if(!e||"CHANGE_PACKSIZE"===e||"CHANGE_GRADE"===e)return{label:t.skuDescription,value:t.id,multiplier:t.parentToChildMultiplier,uom:t.uom}})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i,c,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.type,a=void 0===n?"dropdown":n,o=e.dispatch,t.prev=1,"/inventory/outboundType",t.next=5,u()("/inventory/outboundType");case 5:return i=t.sent,c=i.data,d=[],c&&("csvValidator"==a?o({type:s.h,outboundTypeCsv:null===c||void 0===c?void 0:c.data.map((function(t){return{label:t.description,value:t.code}}))}):d=c.data.map((function(t){return{label:t.description,value:t.code}}))),t.abrupt("return",d);case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(r.a.mark((function t(){var e,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"/oss/warehouses",t.next=4,u()("/oss/warehouses");case 4:if(e=t.sent,!(n=e.data)){t.next=8;break}return t.abrupt("return",null===n||void 0===n?void 0:n.data.map((function(t){return{label:t.name,value:t.id}})));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,o,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,t.prev=1,"/inventory/wasteReasons",t.next=5,u()("/inventory/wasteReasons");case 5:a=t.sent,(o=a.data)&&(c=null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.map((function(t){return{value:t.code,label:t.description}})),"function"===typeof n&&n({type:s.i,wasteReasonList:c})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=12.4f4c2ed6.chunk.js.map