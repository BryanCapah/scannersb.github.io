(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[68],{1220:function(e,t,n){"use strict";n.r(t);var a=n(659),o=n(1),i=n.n(o),r=n(20),l=n(56),u=n(19),c=n(667),s=n(679),d=n(663),m=n(673),v=n(678),p=n.n(v),b=(n(733),n(783)),f=n(662),y=n(668),h=n(730),g=n(682),E=n(666);t.default=Object(r.i)((function(e){var t,n,v,k,j,x=Object(l.c)(),w=Object(r.g)(),O=Object(E.c)(400),N=O.height,I=O.emptyItem,D=Object(E.a)({dispatch:x}),U=D.moduleName,L=D.thereAreRequest,S=D.moduleFirstLoad,C=D.warehouseUuid,P=D.status,B=D.isLoading,T=D.outboundEntryData,W=D.outboundAddSku,q=D.summary,A=D.setSummary,M=D.localEntryData,K=D.setLocalEntryData,H=D.next,F=D.setNext,z=D.area,R=D.areaId,V=D.setAreaId,J=D.search,_=D.setSearch,G=D.discard,Q=D.setDiscard,X=D.isCheckedTotal;!1===W&&(null===T||void 0===T?void 0:T.jobPost.list.length)>0&&H&&e.history.push("/inventory-entry/additional-outbound/weight-entry");var Y=Object(o.useState)(),Z=Object(a.a)(Y,2),$=Z[0],ee=Z[1],te=Object(o.useState)(),ne=Object(a.a)(te,2),ae=ne[0],oe=ne[1],ie=X>1?"s":"",re=(null===q||void 0===q?void 0:q.length)?"flex-column":"flex-row",le=0===L&&M&&(null===M||void 0===M||null===(t=M.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)>0;return i.a.createElement("div",{className:"w-100  stock-take-summary"},i.a.createElement(g.a,{discard:G,module:"Inventory Entry - Additional Outbound",moduleEntry:T,close:function(){return Q(!1)},discardEntry:function(e){return Object(d.o)({id:e,moduleName:U,dispatch:x,setDiscard:Q})}}),i.a.createElement(h.a,{discard:G,addSku:W,moduleFirstLoad:S,moduleEntry:T,redirect:function(){return e.history.push("/inventory-entry/additional-outbound/weight-entry")},previousPage:function(){return w.goBack()},setDiscard:function(){return Q(!0)}}),i.a.createElement(y.a,{status:P}),i.a.createElement("div",{className:"px-3 pt-3 bg-white border-all radius-all d-md-flex dd-group"},i.a.createElement("div",{className:"col-lg-3 px-0 stock-take-dropdown"},i.a.createElement(c.a,{show:!0,title:"Select Area",placeholder:"Select Area",options:z,onChangeDropdown:function(e){return V(e)},selectedValue:R,showTitle:!0}))),i.a.createElement("div",{className:"pt-3 pb-0 pl-3 pr-3 bg-white mt-3 border-all radius-all mb-3"},i.a.createElement("div",{className:"d-md-flex d-lg-flex mb-3 justify-content-between"},i.a.createElement("div",{className:"text LatoBold d-flex justify-content-between align-items-center sku-des"},i.a.createElement("div",null,"Enter SKU or Description"," ",i.a.createElement("span",{className:"green"},"(".concat(X," Selected SKU").concat(ie,")"))))),i.a.createElement(s.a,{setSortBy:oe,category:$,setCategory:ee,placeholder:"Enter SKU",filter:!1,searchHandler:function(e){return R?Object(d.g)({category:$,dispatch:x,desc:e,warehouseUuid:C,areaId:R,setModule:A,transaction:"additionalOutbound",module:M},_(e)):V("empty")}}),i.a.createElement("div",{className:"mb-3 mt-3 d-flex align-items-center scroll-sku ".concat(re," w-100 text-center"),style:{minHeight:N,maxHeight:N}},(null===q||void 0===q?void 0:q.length)?null===q||void 0===q||null===(v=q.sort((function(e,t){return Object(f.g)(e,t,null===ae||void 0===ae?void 0:ae.value)})))||void 0===v?void 0:v.map((function(e,t){return i.a.createElement(m.a,{key:t,img:null===e||void 0===e?void 0:e.photo,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:"weight",uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,isCheckedHandler:function(e){return Object(b.b)({idx:t,checked:e,dispatch:x,setLocalEntryData:K,moduleSummary:q,moduleEntry:M,moduleName:U,warehouseUuid:C,areaId:R})},check:null===e||void 0===e?void 0:e.checked})})):i.a.createElement("div",{className:"w-100 text-center emptyTextField d-flex flex-column align-items-center justify-content-center",style:{minHeight:I,maxHeight:I}},Object(f.t)({isLoading:B,summary:q})?R&&z&&0===(null===q||void 0===q?void 0:q.length)?i.a.createElement("div",null,"Sorry, we couldn't find any matches for '",i.a.createElement("span",{className:"LatoBold"},J),"' in ",R&&(null===R||void 0===R?void 0:R.label)," area.",i.a.createElement("br",null),"Please Try search with another term."):"Enter SKU":i.a.createElement("img",{className:"loading",src:p.a,alt:"loading"})))),i.a.createElement("div",{className:"h-screen-summary-footer d-flex flex-column justify-content-start"},i.a.createElement("div",{className:"w-100 d-flex align-items-center justify-content-between mb-1"},i.a.createElement("button",{tabIndex:"0",onClick:function(){return e.history.push("/inventory-entry/additional-outbound/CSV-upload")},type:"button",className:"btn sku-item px-4 no-shadow border-all bg-white fontSizeButton"},"Upload File"),i.a.createElement("button",{tabIndex:"0",onClick:function(){le&&(F(!0),x({type:u.b,outboundEntryData:M}),e.history.push("/inventory-entry/additional-outbound/weight-entry"))},type:"button",className:"btn sku-item px-5 fontSizeButton no-shadow text-white ".concat(le?"bg-green":"bg-lineGrey")},M&&0!==(null===M||void 0===M||null===(k=M.jobPost)||void 0===k||null===(j=k.list)||void 0===j?void 0:j.length)||0!==L?le?"Next":"Processing...":"Next"))))}))},667:function(e,t,n){"use strict";var a=n(665),o=n(4),i=n(659),r=n(1),l=n.n(r),u=n(695);t.a=function(e){var t,n,c=e.isEmpty,s=e.title,d=e.placeholder,m=e.options,v=e.selectedValue,p=e.showTitle,b=e.width,f=e.className,y=e.entryListIdx,h=e.onChangeDropdown,g=e.show,E=e.poListIdx,k=e.isDisabled,j=e.style,x=e.noMarginBottom,w=e.resetName,O=e.isMulti,N=e.hideResetOpt,I=e.zInfinity,D=Object(r.useState)(),U=Object(i.a)(D,2),L=U[0],S=U[1];Object(r.useEffect)((function(){"empty"===v&&S(!0)}),[v,c]);var C=!!c&&function(e){return Object(o.a)(Object(o.a)({},e),{},{border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})},P=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(y).concat(E)),B=null===P||void 0===P?void 0:P.getBoundingClientRect();Object(r.useEffect)((function(){B=null===P||void 0===P?void 0:P.getBoundingClientRect()}),[L]);var T=document.documentElement.clientWidth,W=[{label:"-".concat(w||s,"-"),value:null}];m&&(W=[].concat(Object(a.a)(W),Object(a.a)(m))),N&&(W=W.filter((function(e){return null===e||void 0===e?void 0:e.value})));var q,A=(null===(n=B)||void 0===n?void 0:n.bottom)>600?"top":"bottom";T<=500&&(A=(null===(q=B)||void 0===q?void 0:q.bottom)>400?"top":"bottom","Categories"===s&&(A="top"));return l.a.createElement("div",{style:j,className:"mr-0 ".concat(j?null:"mr-lg-3"," ").concat(x?null:"mb-3"," ").concat(b," ").concat(f," ").concat(g?null:"d-none")},l.a.createElement("div",{className:" pb-1 LatoBold ".concat(p?null:"d-none")},s),l.a.createElement(u.a,{inputId:"".concat(s,"_").concat(E,"_").concat(y),isMulti:O,isSearchable:!(T<500),isDisabled:k||!1,id:"dropdown".concat(y).concat(E),value:((null===v||void 0===v?void 0:v.value)||!!(null===v||void 0===v?void 0:v.length))&&v,menuIsOpen:L,menuPortal:!0,placeholder:w||d,options:W,onMenuOpen:function(){return S(!0)},onMenuClose:function(){return S(!1)},onChange:function(e){h(e),S(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(A),styles:{menuPortal:function(e){return Object(o.a)(Object(o.a)({},e),{},{zIndex:I?1e16:9999})},control:C,option:function(e,t){var n=t.isFocused,a=t.isSelected;return Object(o.a)(Object(o.a)({},e),{},{backgroundColor:a?"rgb(242, 250, 246, 0)":n?"rgb(242, 250, 246)":null,color:a?"black":"#969696",cursor:"pointer",fontWeight:a?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:a?null:"#4abe84"}})}},theme:function(e){return Object(o.a)(Object(o.a)({},e),{},{borderRadius:4})}}))}},682:function(e,t,n){"use strict";var a=n(1),o=n.n(a),i=n(660);n(669);t.a=function(e){var t=e.discard,n=e.moduleEntry,a=e.close,r=e.discardEntry,l=e.module;return o.a.createElement(i.B,{onKeyDown:function(e){return 27===e.keyCode&&a()},className:t?null:"d-none"},o.a.createElement(i.f,{onKeyDown:function(e){return 27===e.keyCode&&a()}},o.a.createElement(i.s,{onClose:function(){return a()},show:t,size:"lg",closeOnBackdrop:!1},o.a.createElement("div",{className:"d-flex flex-row-reverse pr-3 pt-3 mt-1"},o.a.createElement("i",{onClick:function(){return a()},className:"iconU-modalClose"})),o.a.createElement(i.v,{className:"px-5 pb-4 mb-2 pt-4 mt-2 border-none"},o.a.createElement(i.w,{className:"red LatoBold"},"Discard? ",o.a.createElement("span",null,o.a.createElement("i",{className:"em em-astonished"})))),o.a.createElement(i.t,{className:"px-5 pb-5 mb-4 py-0"},o.a.createElement("p",{className:"text mb-3 h5 respon-txt"},"Are you sure you want to discard ",o.a.createElement("span",{className:"green"}," ".concat(null===n||void 0===n?void 0:n.jobPost.list.length," selected SKU ").concat((null===n||void 0===n?void 0:n.jobPost.list.length)>1?"(s)":"")),"from this",o.a.createElement("div",{className:"green h5 pt-2 respon-txt"},l)),o.a.createElement("br",null),o.a.createElement(i.d,{onClick:function(){return r(null===n||void 0===n?void 0:n.jobPost.id)},className:"bg-background text no-shadow pl-4 pr-5 mr-3 LatoBlack"},"Discard"),o.a.createElement(i.d,{onClick:function(){return a()},className:"bg-green no-shadow pl-4 pr-4 LatoBlack"},"Don't Discard")," "))))}},733:function(e,t,n){},783:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return h}));var a=n(4),o=n(65),i=n.n(o),r=n(71),l=n(665),u=n(91),c=n(22),s=n.n(c),d=n(19),m=n(663),v=n(671),p=n(116),b=n(662),f=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,o,c,p,f,y,h,g,E,k,j,x,w,O,N,I,D,U;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idx,o=t.checked,c=t.dispatch,p=t.setLocalEntryData,f=t.moduleName,y=t.moduleSummary,h=t.moduleEntry,g=t.warehouseUuid,E=t.areaId,(k=Object(l.a)(y))[a].checked=o,c(Object(r.a)({type:d.c},"".concat(f,"summaryData"),k)),j=null===k||void 0===k?void 0:k.filter((function(e){if(e.checked)return e})),x=[],h&&h.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&x.push(t.skuUuid)})),w=[],O=j.map(function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(v.d)({});case 4:return a=e.sent,t.outboundTypeList=a,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:g,dispatch:c,areaId:E.value,moduleName:f});case 8:(o=e.sent)&&(r=o.map((function(e){var n;e.itemList=[];var a=e.expiryDate?s()(e.expiryDate).valueOf():null,o=e.inboundDate?s()(e.inboundDate).valueOf():null;return e.expiryDate=a,e.inboundDate=o,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Number.isInteger(e.initialWeight)?parseInt(e.initialWeight):parseFloat(e.initialWeight),"staging"!==(null===E||void 0===E||null===(n=E.label)||void 0===n?void 0:n.toLowerCase())&&(e.totalPack=null),e})),t.poList=r,w.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(O);case 11:e.sent,N=[],h&&(N=h.jobPost.list.concat(w)),h||(N=w),(I=k[a]).checked||(N=N.filter((function(e){return e.skuUuid!==I.skuUuid}))),D=null===h||void 0===h||null===(n=h.jobPost)||void 0===n?void 0:n.id,U={jobPost:{id:D||0,warehouseSource:g,warehouseDestination:g,areaSource:parseInt(null===E||void 0===E?void 0:E.value),areaName:null===E||void 0===E?void 0:E.label,areaDestination:parseInt(null===E||void 0===E?void 0:E.value),list:N.sort((function(e,t){return Object(b.g)(e,t)}))}},0===N.length&&c(Object(r.a)({type:d.b},"".concat(f,"EntryData"),null)),p(U);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,o,r,c,d,b,f,y,h,g,E,k,j,x,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idx,a=t.checked,o=t.dispatch,r=t.moduleName,c=t.moduleSummary,d=t.moduleEntry,b=t.warehouseUuid,f=t.areaId,y=t.preAddHandler,(h=Object(l.a)(c))[n].checked=a,g=null===h||void 0===h?void 0:h.filter((function(e){if(e.checked)return e})),E=[],d&&d.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&E.push(t.skuUuid)})),k=[],j=g.map(function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(v.d)({});case 4:return a=e.sent,t.outboundTypeList=a,e.next=8,Object(m.f)({skuId:t.skuUuid,warehouseUuid:b,dispatch:o,areaId:f.value,moduleName:r});case 8:(l=e.sent)&&(u=l.map((function(e){var n;e.itemList=[];var a=e.expiryDate?s()(e.expiryDate).valueOf():null,o=e.inboundDate?s()(e.inboundDate).valueOf():null;return e.expiryDate=a,e.inboundDate=o,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.category=t.category,e.initialWeight=Object(p.e)(e.initialWeight)?Object(p.e)(e.initialWeight):e.initialWeight,"staging"!==(null===f||void 0===f||null===(n=f.label)||void 0===n?void 0:n.toLowerCase())&&(e.totalPack=null),e})),t.poList=u,t.isNewItem=!0,k.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(j);case 10:e.sent,x=[],d&&(x=d.concat(k)),d||(x=k),(w=h[n]).checked||(x=x.filter((function(e){return e.skuUuid!==w.skuUuid}))),y(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.setActiveSKU,n=e.moduleEntry,o=e.moduleName,i=e.setConfirmation,l=e.dispatch,u=e.setIsRequired,c=[],s=Object(a.a)({},n),m=n.jobPost.list.map((function(e){return e.poList.map((function(t){var n=t.totalPack,a=Object(b.z)({moduleList:t.itemList});return t.itemList.map((function(o){var i,r,l,u=o.qty,d=o.pack;return isNaN(u)||0==u||""===u||null===u?o.qtyIsEmpty=!0:o.qtyIsEmpty=!1,(null===o||void 0===o||null===(i=o.codeOutbound)||void 0===i?void 0:i.value)?o.outboundTypeIsEmpty=!1:o.outboundTypeIsEmpty=!0,"lainnya"==(null===o||void 0===o||null===(r=o.codeOutbound)||void 0===r?void 0:r.value)&&(""==(null===o||void 0===o?void 0:o.note)||void 0===(null===o||void 0===o?void 0:o.note))?o.noteIsEmpty=!0:o.noteIsEmpty=!1,"staging"!==(null===(l=s.jobPost.areaName)||void 0===l?void 0:l.toLowerCase())||"Fruits"!==(null===e||void 0===e?void 0:e.category)&&"Vegetables"!==(null===e||void 0===e?void 0:e.category)||!d&&n>0&&(o.packIsEmpty=!0),o.qtyIsEmpty||(Number(a)>Number(t.initialWeight)?o.qtyIsEmpty=!0:o.qtyIsEmpty=!1),(null===o||void 0===o?void 0:o.qtyIsEmpty)||(null===o||void 0===o?void 0:o.outboundTypeIsEmpty)||(null===o||void 0===o?void 0:o.noteIsEmpty)||(null===o||void 0===o?void 0:o.packIsEmpty)?c.push(!1):c.push(!0),o})),t})),e}));console.log(c);var v=!1;m.map((function(e){e.poList.map((function(e){e.itemList.map((function(e){e.qty&&(v=!0)}))}))})),s.jobPost.list=m,l(Object(r.a)({type:d.b},"".concat(o,"EntryData"),s)),!c.includes(!1)&&v?"function"===typeof i&&i({show:!0,name:"submit"}):("function"===typeof i&&i({show:!1,name:null}),"function"===typeof u&&u(!0)),Object(b.b)({setActiveSKU:t,moduleEntry:n,moduleName:o})}}}]);
//# sourceMappingURL=68.22efc94b.chunk.js.map