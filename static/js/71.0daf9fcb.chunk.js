(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[71],{1225:function(e,t,n){"use strict";n.r(t);var a=n(65),i=n.n(a),o=n(91),u=n(659),r=n(1),c=n.n(r),l=n(20),s=n(56),d=n(19),m=n(667),b=n(679),p=n(663),v=n(671),f=n(673),h=n(678),j=n.n(h),O=(n(734),n(853)),g=n(662),y=n(668),k=n(730);t.default=Object(l.i)((function(e){var t,n,a=Object(s.c)(),h=Object(l.g)(),x=Object(s.d)((function(e){return e.thereAreRequest})),w=Object(s.d)((function(e){return e.inboundFirstLoad})),E=Object(s.d)((function(e){return e.user.warehouseUuid})),U=Object(s.d)((function(e){return e.status})),N=Object(s.d)((function(e){return e.isLoading})),D=Object(s.d)((function(e){return e.inboundEntryData})),S=Object(s.d)((function(e){return e.warehouseArea})),I=Object(s.d)((function(e){return e.areaId})),L=Object(r.useState)(null),P=Object(u.a)(L,2),C=P[0],B=P[1],M=Object(r.useState)(),W=Object(u.a)(M,2),H=W[0],A=W[1],F=Object(g.u)({moduleEntry:H,moduleName:"inbound"}),R=Object(r.useState)(0),T=Object(u.a)(R,2),z=(T[0],T[1]),K=Object(r.useState)(),V=Object(u.a)(K,2),J=V[0],_=V[1];Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)({dispatch:a});case 2:return t=e.sent,e.next=5,Object(v.h)({dispatch:a,warehouseUuid:E});case 5:return e.sent,e.next=8,Object(p.k)({dispatch:a,moduleName:"inbound",isExist:!!D,ripeness:t});case 8:e.sent,z(F);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var q=document.documentElement.clientHeight,G=q-400,Q=q-400;return c.a.createElement("div",{className:"w-100  stock-take-summary"},c.a.createElement(k.a,{moduleFirstLoad:w,moduleEntry:D,redirect:function(){return e.history.push("/inventory-entry/additional-inbound/weight-entry")},previousPage:function(){return h.goBack()}}),c.a.createElement(y.a,{status:U}),c.a.createElement("div",{className:"px-3 pt-3 bg-white border-all radius-all d-md-flex dd-group"},c.a.createElement("div",{className:"col-lg-3 px-0 stock-take-dropdown"},c.a.createElement(m.a,{show:!0,title:"Select Area",placeholder:"Select Area",options:S,onChangeDropdown:function(e){return Object(g.v)({selected:e,dispatch:a})},selectedValue:I,showTitle:!0}))),c.a.createElement("div",{className:"pt-3 pb-0 pl-3 pr-3 bg-white mt-3 border-all radius-all mb-3"},c.a.createElement("div",{className:"d-md-flex d-lg-flex mb-3 justify-content-between"},c.a.createElement("div",{className:"text LatoBold d-flex justify-content-between align-items-center sku-des"},c.a.createElement("div",null,"Enter SKU or Description"," ",c.a.createElement("span",{className:"green"},"(".concat(F," Selected SKU").concat(F>1?"s":"",")"))))),c.a.createElement(b.a,{placeholder:"Enter SKU",filter:!1,searchHandler:function(e){return I?Object(p.g)({dispatch:a,desc:e,warehouseUuid:E,areaId:I,setModule:B,module:H},_(e)):Object(g.v)({dispatch:a,selected:"empty"})}}),c.a.createElement("div",{className:"mb-3 mt-3 d-flex align-items-center scroll-sku ".concat((null===C||void 0===C?void 0:C.length)?"flex-column":"flex-row"," w-100 text-center"),style:{minHeight:G,maxHeight:G}},(null===C||void 0===C?void 0:C.length)?null===C||void 0===C?void 0:C.map((function(e,t){return c.a.createElement(f.a,{key:t,img:null===e||void 0===e?void 0:e.photo,skuDescription:null===e||void 0===e?void 0:e.skuName,skuNumber:null===e||void 0===e?void 0:e.skuNumber,uomLabel:"weight",uomValue:null===e||void 0===e?void 0:e.totalQty,uom:null===e||void 0===e?void 0:e.unitOfMeassures,isCheckedHandler:function(e){return Object(O.b)({idx:t,checked:e,dispatch:a,setLocalEntryData:A,moduleSummary:C,moduleEntry:H,moduleName:"inbound",warehouseUuid:E,areaId:I})},check:null===e||void 0===e?void 0:e.checked})})):c.a.createElement("div",{className:"w-100 text-center emptyTextField d-flex flex-column align-items-center justify-content-center",style:{minHeight:Q,maxHeight:Q}},Object(g.t)({isLoading:N,summary:C})?I&&0===(null===C||void 0===C?void 0:C.length)?c.a.createElement("div",null,"Sorry, we couldn't find any matches for '",c.a.createElement("span",{className:"LatoBold"},J),"' in ",null===I||void 0===I?void 0:I.label," area.",c.a.createElement("br",null),"Please Try search with another term."):"Enter SKU":c.a.createElement("img",{className:"loading",src:j.a,alt:"loading"})))),c.a.createElement("div",{className:"h-screen-summary-footer d-flex flex-column justify-content-start"},c.a.createElement("div",{className:"w-100 d-flex align-items-center justify-content-between mb-1"},c.a.createElement("button",{onClick:function(){return e.history.push("/inventory-entry/additional-inbound-upload")},type:"button",className:"btn px-4 no-shadow border-all bg-white fontSizeButton"},"Upload File"),c.a.createElement("button",{onClick:function(){var t,n;0===x&&H&&(null===H||void 0===H||null===(t=H.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)>0&&(a({type:d.b,inboundEntryData:H}),e.history.push("/inventory-entry/additional-inbound/weight-entry"))},type:"button",className:"btn px-5 fontSizeButton no-shadow text-white ".concat(0===x&&H&&(null===H||void 0===H||null===(t=H.jobPost)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)>0?"bg-green":"bg-lineGrey")},"Next"))))}))},667:function(e,t,n){"use strict";var a=n(665),i=n(4),o=n(659),u=n(1),r=n.n(u),c=n(695);t.a=function(e){var t,n,l=e.isEmpty,s=e.title,d=e.placeholder,m=e.options,b=e.selectedValue,p=e.showTitle,v=e.width,f=e.className,h=e.entryListIdx,j=e.onChangeDropdown,O=e.show,g=e.poListIdx,y=e.isDisabled,k=e.style,x=e.noMarginBottom,w=e.resetName,E=e.isMulti,U=e.hideResetOpt,N=e.zInfinity,D=Object(u.useState)(),S=Object(o.a)(D,2),I=S[0],L=S[1];Object(u.useEffect)((function(){"empty"===b&&L(!0)}),[b,l]);var P=!!l&&function(e){return Object(i.a)(Object(i.a)({},e),{},{border:"solid #eb5c5c 1px",":hover":{border:"solid #eb5c5c 1px !important"},":active":{border:"solid #eb5c5c 1px !important"}})},C=null===(t=document)||void 0===t?void 0:t.getElementById("dropdown".concat(h).concat(g)),B=null===C||void 0===C?void 0:C.getBoundingClientRect();Object(u.useEffect)((function(){B=null===C||void 0===C?void 0:C.getBoundingClientRect()}),[I]);var M=document.documentElement.clientWidth,W=[{label:"-".concat(w||s,"-"),value:null}];m&&(W=[].concat(Object(a.a)(W),Object(a.a)(m))),U&&(W=W.filter((function(e){return null===e||void 0===e?void 0:e.value})));var H,A=(null===(n=B)||void 0===n?void 0:n.bottom)>600?"top":"bottom";M<=500&&(A=(null===(H=B)||void 0===H?void 0:H.bottom)>400?"top":"bottom","Categories"===s&&(A="top"));return r.a.createElement("div",{style:k,className:"mr-0 ".concat(k?null:"mr-lg-3"," ").concat(x?null:"mb-3"," ").concat(v," ").concat(f," ").concat(O?null:"d-none")},r.a.createElement("div",{className:" pb-1 LatoBold ".concat(p?null:"d-none")},s),r.a.createElement(c.a,{inputId:"".concat(s,"_").concat(g,"_").concat(h),isMulti:E,isSearchable:!(M<500),isDisabled:y||!1,id:"dropdown".concat(h).concat(g),value:((null===b||void 0===b?void 0:b.value)||!!(null===b||void 0===b?void 0:b.length))&&b,menuIsOpen:I,menuPortal:!0,placeholder:w||d,options:W,onMenuOpen:function(){return L(!0)},onMenuClose:function(){return L(!1)},onChange:function(e){j(e),L(!1)},menuPortalTarget:document.body,maxMenuHeight:150,menuPlacement:"".concat(A),styles:{menuPortal:function(e){return Object(i.a)(Object(i.a)({},e),{},{zIndex:N?1e16:9999})},control:P,option:function(e,t){var n=t.isFocused,a=t.isSelected;return Object(i.a)(Object(i.a)({},e),{},{backgroundColor:a?"rgb(242, 250, 246, 0)":n?"rgb(242, 250, 246)":null,color:a?"black":"#969696",cursor:"pointer",fontWeight:a?"bold":null,":active":{backgroundColor:"rgb(242, 250, 246) !important",color:"#4abe84"},":hover":{color:a?null:"#4abe84"}})}},theme:function(e){return Object(i.a)(Object(i.a)({},e),{},{borderRadius:4})}}))}},734:function(e,t,n){},853:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return f}));n(4);var a=n(65),i=n.n(a),o=n(71),u=n(665),r=n(91),c=n(22),l=n.n(c),s=n(19),d=n(663),m=n(671),b=n(116),p=n(662),v=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,c,v,f,h,j,O,g,y,k,x,w,E,U,N,D,S,I;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idx,c=t.checked,v=t.dispatch,f=t.setLocalEntryData,h=t.moduleName,j=t.moduleSummary,O=t.moduleEntry,g=t.warehouseUuid,y=t.areaId,(k=Object(u.a)(j))[a].checked=c,v(Object(o.a)({type:s.c},"".concat(h,"summaryData"),k)),x=null===k||void 0===k?void 0:k.filter((function(e){if(e.checked)return e})),w=[],O&&O.jobPost.list.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&w.push(t.skuUuid)})),E=[],U=x.map(function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(m.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(d.f)({skuId:t.skuUuid,warehouseUuid:g,dispatch:v,areaId:y.value,moduleName:h});case 8:(o=e.sent)&&(u=o.map((function(e){e.itemList=[];var n=e.expiryDate?l()(e.expiryDate).valueOf():null,a=e.inboundDate?l()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.initialWeight=Object(b.e)(e.initialWeight)?Object(b.e)(e.initialWeight):e.initialWeight,e})),t.poList=u,E.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=11,Promise.all(U);case 11:e.sent,N=[],O&&(N=O.jobPost.list.concat(E)),O||(N=E),(D=k[a]).checked||(N=N.filter((function(e){return e.skuUuid!==D.skuUuid}))),S=null===O||void 0===O||null===(n=O.jobPost)||void 0===n?void 0:n.id,I={jobPost:{id:S||0,warehouseSource:g,warehouseDestination:g,areaSource:parseInt(null===y||void 0===y?void 0:y.value),areaName:null===y||void 0===y?void 0:y.label,areaDestination:parseInt(null===y||void 0===y?void 0:y.value),list:N.sort((function(e,t){return Object(p.g)(e,t)}))}},0===N.length&&v(Object(o.a)({type:s.b},"".concat(h,"EntryData"),null)),f(I);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,o,c,s,p,v,f,h,j,O,g,y,k,x,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idx,a=t.checked,o=t.dispatch,c=t.moduleName,s=t.moduleSummary,p=t.moduleEntry,v=t.warehouseUuid,f=t.areaId,h=t.preAddHandler,(j=Object(u.a)(s))[n].checked=a,O=null===j||void 0===j?void 0:j.filter((function(e){if(e.checked)return e})),g=[],p&&p.map((function(e){var t={skuUuid:e.skuUuid};t.skuUuid&&g.push(t.skuUuid)})),y=[],k=O.map(function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,u,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.includes(t.skuUuid)){e.next=10;break}return e.next=4,Object(m.a)({skuId:t.skuUuid});case 4:return a=e.sent,t.gradeList=a,e.next=8,Object(d.f)({skuId:t.skuUuid,warehouseUuid:v,dispatch:o,areaId:f.value,moduleName:c});case 8:(u=e.sent)&&(r=u.map((function(e){e.itemList=[];var n=e.expiryDate?l()(e.expiryDate).valueOf():null,a=e.inboundDate?l()(e.inboundDate).valueOf():null;return e.expiryDate=n,e.inboundDate=a,e.skuUuid=t.skuUuid,e.uom=t.unitOfMeassures,e.initialWeight=Object(b.e)(e.initialWeight)?Object(b.e)(e.initialWeight):e.initialWeight,e})),t.poList=r,y.push(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,Promise.all(k);case 10:e.sent,x=[],p&&(x=p.concat(y)),p||(x=y),(w=j[n]).checked||(x=x.filter((function(e){return e.skuUuid!==w.skuUuid}))),h(x);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=71.0daf9fcb.chunk.js.map